!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=re.type(e);return"function"!==n&&!re.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e))}function r(e,t,n){if(re.isFunction(t))return re.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return re.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(de.test(t))return re.filter(t,e,n);t=re.filter(t,e)}return re.grep(e,function(e){return re.inArray(e,t)>=0!==n})}function i(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function o(e){var t=ye[e]={};return re.each(e.match(ve)||[],function(e,n){t[n]=!0}),t}function a(){pe.addEventListener?(pe.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1)):(pe.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(pe.addEventListener||"load"===event.type||"complete"===pe.readyState)&&(a(),re.ready())}function u(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(Ee,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Te.test(n)?re.parseJSON(n):n)}catch(e){}re.data(e,t,n)}else n=void 0}return n}function l(e){var t;for(t in e)if(("data"!==t||!re.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function c(e,t,n,r){if(re.acceptData(e)){var i,o,a=re.expando,s=e.nodeType,u=s?re.cache:e,l=s?e[a]:e[a]&&a;if(l&&u[l]&&(r||u[l].data)||void 0!==n||"string"!=typeof t)return l||(l=s?e[a]=V.pop()||re.guid++:a),u[l]||(u[l]=s?{}:{toJSON:re.noop}),"object"!=typeof t&&"function"!=typeof t||(r?u[l]=re.extend(u[l],t):u[l].data=re.extend(u[l].data,t)),o=u[l],r||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[re.camelCase(t)]=n),"string"==typeof t?null==(i=o[t])&&(i=o[re.camelCase(t)]):i=o,i}}function d(e,t,n){if(re.acceptData(e)){var r,i,o=e.nodeType,a=o?re.cache:e,s=o?e[re.expando]:re.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){re.isArray(t)?t=t.concat(re.map(t,re.camelCase)):t in r?t=[t]:(t=re.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;for(;i--;)delete r[t[i]];if(n?!l(r):!re.isEmptyObject(r))return}(n||(delete a[s].data,l(a[s])))&&(o?re.cleanData([e],!0):ne.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function f(){return!0}function p(){return!1}function h(){try{return pe.activeElement}catch(e){}}function m(e){var t=Oe.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function g(e,t){var n,r,i=0,o=typeof e.getElementsByTagName!==we?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==we?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||re.nodeName(r,t)?o.push(r):re.merge(o,g(r,t));return void 0===t||t&&re.nodeName(e,t)?re.merge([e],o):o}function v(e){qe.test(e.type)&&(e.defaultChecked=e.checked)}function y(e,t){return re.nodeName(e,"table")&&re.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==re.find.attr(e,"type"))+"/"+e.type,e}function x(e){var t=Ue.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){for(var n,r=0;null!=(n=e[r]);r++)re._data(n,"globalEval",!t||re._data(t[r],"globalEval"))}function T(e,t){if(1===t.nodeType&&re.hasData(e)){var n,r,i,o=re._data(e),a=re._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;r<i;r++)re.event.add(t,n,s[n][r])}a.data&&(a.data=re.extend({},a.data))}}function E(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ne.noCloneEvent&&t[re.expando]){i=re._data(t);for(r in i.events)re.removeEvent(t,r,i.handle);t.removeAttribute(re.expando)}"script"===n&&t.text!==e.text?(b(t).text=e.text,x(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ne.html5Clone&&e.innerHTML&&!re.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&qe.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}function C(t,n){var r,i=re(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:re.css(i[0],"display");return i.detach(),o}function k(e){var t=pe,n=Ye[e];return n||(n=C(e,t),"none"!==n&&n||(Je=(Je||re("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Je[0].contentWindow||Je[0].contentDocument).document,t.write(),t.close(),n=C(e,t),Je.detach()),Ye[e]=n),n}function N(e,t){return{get:function(){var n=e();if(null!=n)return n?void delete this.get:(this.get=t).apply(this,arguments)}}}function S(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=ct.length;i--;)if((t=ct[i]+n)in e)return t;return r}function q(e,t){for(var n,r,i,o=[],a=0,s=e.length;a<s;a++)r=e[a],r.style&&(o[a]=re._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Ne(r)&&(o[a]=re._data(r,"olddisplay",k(r.nodeName)))):(i=Ne(r),(n&&"none"!==n||!i)&&re._data(r,"olddisplay",i?n:re.css(r,"display"))));for(a=0;a<s;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function j(e,t,n){var r=at.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function A(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=re.css(e,n+ke[o],!0,i)),r?("content"===n&&(a-=re.css(e,"padding"+ke[o],!0,i)),"margin"!==n&&(a-=re.css(e,"border"+ke[o]+"Width",!0,i))):(a+=re.css(e,"padding"+ke[o],!0,i),"padding"!==n&&(a+=re.css(e,"border"+ke[o]+"Width",!0,i)));return a}function D(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Ke(e),a=ne.boxSizing&&"border-box"===re.css(e,"boxSizing",!1,o);if(i<=0||null==i){if(i=Ze(e,t,o),(i<0||null==i)&&(i=e.style[t]),tt.test(i))return i;r=a&&(ne.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+A(e,t,n||(a?"border":"content"),r,o)+"px"}function L(e,t,n,r,i){return new L.prototype.init(e,t,n,r,i)}function M(){return setTimeout(function(){dt=void 0}),dt=re.now()}function O(e,t){var n,r={height:e},i=0;for(t=t?1:0;i<4;i+=2-t)n=ke[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function H(e,t,n){for(var r,i=(vt[t]||[]).concat(vt["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function _(e,t,n){var r,i,o,a,s,u,l,c=this,d={},f=e.style,p=e.nodeType&&Ne(e),h=re._data(e,"fxshow");n.queue||(s=re._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,re.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],l=re.css(e,"display"),"inline"===("none"===l?re._data(e,"olddisplay")||k(e.nodeName):l)&&"none"===re.css(e,"float")&&(ne.inlineBlockNeedsLayout&&"inline"!==k(e.nodeName)?f.zoom=1:f.display="inline-block")),n.overflow&&(f.overflow="hidden",ne.shrinkWrapBlocks()||c.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],pt.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!h||void 0===h[r])continue;p=!0}d[r]=h&&h[r]||re.style(e,r)}else l=void 0;if(re.isEmptyObject(d))"inline"===("none"===l?k(e.nodeName):l)&&(f.display=l);else{h?"hidden"in h&&(p=h.hidden):h=re._data(e,"fxshow",{}),o&&(h.hidden=!p),p?re(e).show():c.done(function(){re(e).hide()}),c.done(function(){var t;re._removeData(e,"fxshow");for(t in d)re.style(e,t,d[t])});for(r in d)a=H(p?h[r]:0,r,c),r in h||(h[r]=a.start,p&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function P(e,t){var n,r,i,o,a;for(n in e)if(r=re.camelCase(n),i=t[r],o=e[n],re.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=re.cssHooks[r])&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function R(e,t,n){var r,i,o=0,a=gt.length,s=re.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=dt||M(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;a<u;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),o<1&&u?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:re.extend({},t),opts:re.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:dt||M(),duration:n.duration,tweens:[],createTween:function(t,n){var r=re.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),c=l.props;for(P(c,l.opts.specialEasing);o<a;o++)if(r=gt[o].call(l,e,c,l.opts))return r;return re.map(c,H,l),re.isFunction(l.opts.start)&&l.opts.start.call(e,l),re.fx.timer(re.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function F(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(ve)||[];if(re.isFunction(n))for(;r=o[i++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function B(e,t,n,r){function i(s){var u;return o[s]=!0,re.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},a=e===Wt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function W(e,t){var n,r,i=re.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&re.extend(!0,e,n),e}function $(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){u.unshift(a);break}if(u[0]in n)o=u[0];else{for(a in n){if(!u[0]||e.converters[a+" "+u[0]]){o=a;break}r||(r=a)}o=o||r}if(o)return o!==u[0]&&u.unshift(o),n[o]}function z(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if(s=i.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function I(e,t,n,r){var i;if(re.isArray(t))re.each(t,function(t,i){n||It.test(e)?r(e,i):I(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==re.type(t))r(e,t);else for(i in t)I(e+"["+i+"]",t[i],n,r)}function U(){try{return new e.XMLHttpRequest}catch(e){}}function X(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function Q(e){return re.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var V=[],G=V.slice,J=V.concat,Y=V.push,K=V.indexOf,Z={},ee=Z.toString,te=Z.hasOwnProperty,ne={},re=function(e,t){return new re.fn.init(e,t)},ie=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,oe=/^-ms-/,ae=/-([\da-z])/gi,se=function(e,t){return t.toUpperCase()};re.fn=re.prototype={jquery:"1.11.2",constructor:re,selector:"",length:0,toArray:function(){return G.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:G.call(this)},pushStack:function(e){var t=re.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return re.each(this,e,t)},map:function(e){return this.pushStack(re.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(G.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Y,sort:V.sort,splice:V.splice},re.extend=re.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||re.isFunction(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(i=arguments[s]))for(r in i)e=a[r],n=i[r],a!==n&&(l&&n&&(re.isPlainObject(n)||(t=re.isArray(n)))?(t?(t=!1,o=e&&re.isArray(e)?e:[]):o=e&&re.isPlainObject(e)?e:{},a[r]=re.extend(l,o,n)):void 0!==n&&(a[r]=n));return a},re.extend({expando:"jQuery"+("1.11.2"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===re.type(e)},isArray:Array.isArray||function(e){return"array"===re.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!re.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==re.type(e)||e.nodeType||re.isWindow(e))return!1;try{if(e.constructor&&!te.call(e,"constructor")&&!te.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(ne.ownLast)for(t in e)return te.call(e,t);for(t in e);return void 0===t||te.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[ee.call(e)]||"object":typeof e},globalEval:function(t){t&&re.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(oe,"ms-").replace(ae,se)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i=0,o=e.length,a=n(e);if(r){if(a)for(;i<o&&!1!==t.apply(e[i],r);i++);else for(i in e)if(!1===t.apply(e[i],r))break}else if(a)for(;i<o&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(ie,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?re.merge(r,"string"==typeof e?[e]:e):Y.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(K)return K.call(t,e,n);for(r=t.length,n=n?n<0?Math.max(0,r+n):n:0;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;)e[i++]=t[r++];if(n!==n)for(;void 0!==t[r];)e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,r){var i,o=0,a=e.length,s=n(e),u=[];if(s)for(;o<a;o++)null!=(i=t(e[o],o,r))&&u.push(i);else for(o in e)null!=(i=t(e[o],o,r))&&u.push(i);return J.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;if("string"==typeof t&&(i=e[t],t=e,e=i),re.isFunction(e))return n=G.call(arguments,2),r=function(){return e.apply(t||this,n.concat(G.call(arguments)))},r.guid=e.guid=e.guid||re.guid++,r},now:function(){return+new Date},support:ne}),re.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var ue=function(e){function t(e,t,n,r){var i,o,a,s,l,d,f,p,h,m;if((t?t.ownerDocument||t:R)!==A&&j(t),t=t||A,n=n||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!r&&L){if(11!==s&&(i=ge.exec(e)))if(a=i[1]){if(9===s){if(!(o=t.getElementById(a))||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&_(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return J.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&b.getElementsByClassName)return J.apply(n,t.getElementsByClassName(a)),n}if(b.qsa&&(!M||!M.test(e))){if(p=f=P,h=t,m=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(d=E(e),(f=t.getAttribute("id"))?p=f.replace(ye,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=d.length;l--;)d[l]=p+c(d[l]);h=ve.test(e)&&u(t.parentNode)||t,m=d.join(",")}if(m)try{return J.apply(n,h.querySelectorAll(m)),n}catch(e){}finally{f||t.removeAttribute("id")}}}return k(e.replace(ae,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>x.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[P]=!0,e}function i(e){var t=A.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)x.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||U)-(~e.sourceIndex||U);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function u(e){return e&&void 0!==e.getElementsByTagName&&e}function l(){}function c(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function d(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=B++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,u,l=[F,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(u=t[P]||(t[P]={}),(s=u[r])&&s[0]===F&&s[1]===o)return l[2]=s[2];if(u[r]=l,l[2]=e(t,n,a))return!0}}}function f(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function p(e,n,r){for(var i=0,o=n.length;i<o;i++)t(e,n[i],r);return r}function h(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function m(e,t,n,i,o,a){return i&&!i[P]&&(i=m(i)),o&&!o[P]&&(o=m(o,a)),r(function(r,a,s,u){var l,c,d,f=[],m=[],g=a.length,v=r||p(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?v:h(v,f,e,s,u),b=n?o||(r?e:g||i)?[]:a:y;if(n&&n(y,b,s,u),i)for(l=h(b,m),i(l,[],s,u),c=l.length;c--;)(d=l[c])&&(b[m[c]]=!(y[m[c]]=d));if(r){if(o||e){if(o){for(l=[],c=b.length;c--;)(d=b[c])&&l.push(y[c]=d);o(null,b=[],l,u)}for(c=b.length;c--;)(d=b[c])&&(l=o?K(r,d):f[c])>-1&&(r[l]=!(a[l]=d))}}else b=h(b===a?b.splice(g,b.length):b),o?o(null,a,b,u):J.apply(a,b)})}function g(e){for(var t,n,r,i=e.length,o=x.relative[e[0].type],a=o||x.relative[" "],s=o?1:0,u=d(function(e){return e===t},a,!0),l=d(function(e){return K(t,e)>-1},a,!0),p=[function(e,n,r){var i=!o&&(r||n!==N)||((t=n).nodeType?u(e,n,r):l(e,n,r));return t=null,i}];s<i;s++)if(n=x.relative[e[s].type])p=[d(f(p),n)];else{if(n=x.filter[e[s].type].apply(null,e[s].matches),n[P]){for(r=++s;r<i&&!x.relative[e[r].type];r++);return m(s>1&&f(p),s>1&&c(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ae,"$1"),n,s<r&&g(e.slice(s,r)),r<i&&g(e=e.slice(r)),r<i&&c(e))}p.push(n)}return f(p)}function v(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,u,l){var c,d,f,p=0,m="0",g=r&&[],v=[],y=N,b=r||o&&x.find.TAG("*",l),w=F+=null==y?1:Math.random()||.1,T=b.length;for(l&&(N=a!==A&&a);m!==T&&null!=(c=b[m]);m++){if(o&&c){for(d=0;f=e[d++];)if(f(c,a,s)){u.push(c);break}l&&(F=w)}i&&((c=!f&&c)&&p--,r&&g.push(c))}if(p+=m,i&&m!==p){for(d=0;f=n[d++];)f(g,v,a,s);if(r){if(p>0)for(;m--;)g[m]||v[m]||(v[m]=V.call(u));v=h(v)}J.apply(u,v),l&&!r&&v.length>0&&p+n.length>1&&t.uniqueSort(u)}return l&&(F=w,N=y),g};return i?r(a):a}var y,b,x,w,T,E,C,k,N,S,q,j,A,D,L,M,O,H,_,P="sizzle"+1*new Date,R=e.document,F=0,B=0,W=n(),$=n(),z=n(),I=function(e,t){return e===t&&(q=!0),0},U=1<<31,X={}.hasOwnProperty,Q=[],V=Q.pop,G=Q.push,J=Q.push,Y=Q.slice,K=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},Z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ne=te.replace("w","w#"),re="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ne+"))|)"+ee+"*\\]",ie=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",oe=new RegExp(ee+"+","g"),ae=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),se=new RegExp("^"+ee+"*,"+ee+"*"),ue=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),le=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),ce=new RegExp(ie),de=new RegExp("^"+ne+"$"),fe={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te.replace("w","w*")+")"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+ie),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+Z+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},pe=/^(?:input|select|textarea|button)$/i,he=/^h\d$/i,me=/^[^{]+\{\s*\[native \w/,ge=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ve=/[+~]/,ye=/'|\\/g,be=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),xe=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},we=function(){j()};try{J.apply(Q=Y.call(R.childNodes),R.childNodes),Q[R.childNodes.length].nodeType}catch(e){J={apply:Q.length?function(e,t){G.apply(e,Y.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}b=t.support={},T=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},j=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:R;return r!==A&&9===r.nodeType&&r.documentElement?(A=r,D=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",we,!1):n.attachEvent&&n.attachEvent("onunload",we)),L=!T(r),b.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),b.getElementsByTagName=i(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),b.getElementsByClassName=me.test(r.getElementsByClassName),b.getById=i(function(e){return D.appendChild(e).id=P,!r.getElementsByName||!r.getElementsByName(P).length}),b.getById?(x.find.ID=function(e,t){if(void 0!==t.getElementById&&L){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},x.filter.ID=function(e){var t=e.replace(be,xe);return function(e){return e.getAttribute("id")===t}}):(delete x.find.ID,x.filter.ID=function(e){var t=e.replace(be,xe);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),x.find.TAG=b.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):b.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},x.find.CLASS=b.getElementsByClassName&&function(e,t){if(L)return t.getElementsByClassName(e)},O=[],M=[],(b.qsa=me.test(r.querySelectorAll))&&(i(function(e){D.appendChild(e).innerHTML="<a id='"+P+"'></a><select id='"+P+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&M.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||M.push("\\["+ee+"*(?:value|"+Z+")"),e.querySelectorAll("[id~="+P+"-]").length||M.push("~="),e.querySelectorAll(":checked").length||M.push(":checked"),e.querySelectorAll("a#"+P+"+*").length||M.push(".#.+[+~]")}),i(function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&M.push("name"+ee+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(b.matchesSelector=me.test(H=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&i(function(e){b.disconnectedMatch=H.call(e,"div"),H.call(e,"[s!='']:x"),O.push("!=",ie)}),M=M.length&&new RegExp(M.join("|")),O=O.length&&new RegExp(O.join("|")),t=me.test(D.compareDocumentPosition),_=t||me.test(D.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},I=t?function(e,t){if(e===t)return q=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!b.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===R&&_(R,e)?-1:t===r||t.ownerDocument===R&&_(R,t)?1:S?K(S,e)-K(S,t):0:4&n?-1:1)}:function(e,t){if(e===t)return q=!0,0;var n,i=0,o=e.parentNode,s=t.parentNode,u=[e],l=[t];if(!o||!s)return e===r?-1:t===r?1:o?-1:s?1:S?K(S,e)-K(S,t):0;if(o===s)return a(e,t);for(n=e;n=n.parentNode;)u.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;u[i]===l[i];)i++;return i?a(u[i],l[i]):u[i]===R?-1:l[i]===R?1:0},r):A},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==A&&j(e),n=n.replace(le,"='$1']"),b.matchesSelector&&L&&(!O||!O.test(n))&&(!M||!M.test(n)))try{var r=H.call(e,n);if(r||b.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return t(n,A,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==A&&j(e),_(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==A&&j(e);var n=x.attrHandle[t.toLowerCase()],r=n&&X.call(x.attrHandle,t.toLowerCase())?n(e,t,!L):void 0;return void 0!==r?r:b.attributes||!L?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(q=!b.detectDuplicates,S=!b.sortStable&&e.slice(0),e.sort(I),q){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return S=null,e},w=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=w(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=w(t);return n},x=t.selectors={cacheLength:50,createPseudo:r,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(be,xe),e[3]=(e[3]||e[4]||e[5]||"").replace(be,xe),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ce.test(n)&&(t=E(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(be,xe).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=W[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&W(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(oe," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,d,f,p,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!u&&!s;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(c=g[P]||(g[P]={}),l=c[e]||[],p=l[0]===F&&l[1],f=l[0]===F&&l[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(f=p=0)||h.pop();)if(1===d.nodeType&&++f&&d===t){c[e]=[F,p,f];break}}else if(y&&(l=(t[P]||(t[P]={}))[e])&&l[0]===F)f=l[1];else for(;(d=++p&&d&&d[m]||(f=p=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(y&&((d[P]||(d[P]={}))[e]=[F,f]),d!==t)););return(f-=i)===r||f%r==0&&f/r>=0}}},PSEUDO:function(e,n){var i,o=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[P]?o(n):o.length>1?(i=[e,e,"",n],x.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=K(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=C(e.replace(ae,"$1"));return i[P]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(be,xe),function(t){return(t.textContent||t.innerText||w(t)).indexOf(e)>-1}}),lang:r(function(e){return de.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(be,xe).toLowerCase(),function(t){var n;do{if(n=L?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===D},focus:function(e){return e===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return he.test(e.nodeName)},input:function(e){return pe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:s(function(){return[0]}),last:s(function(e,t){return[t-1]}),eq:s(function(e,t,n){return[n<0?n+t:n]}),even:s(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:s(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:s(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:s(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},x.pseudos.nth=x.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[y]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(y);for(y in{submit:!0,reset:!0})x.pseudos[y]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(y);return l.prototype=x.filters=x.pseudos,x.setFilters=new l,E=t.tokenize=function(e,n){var r,i,o,a,s,u,l,c=$[e+" "];if(c)return n?0:c.slice(0);for(s=e,u=[],l=x.preFilter;s;){r&&!(i=se.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=ue.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ae," ")}),s=s.slice(r.length));for(a in x.filter)!(i=fe[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):$(e,u).slice(0)},
C=t.compile=function(e,t){var n,r=[],i=[],o=z[e+" "];if(!o){for(t||(t=E(e)),n=t.length;n--;)o=g(t[n]),o[P]?r.push(o):i.push(o);o=z(e,v(i,r)),o.selector=e}return o},k=t.select=function(e,t,n,r){var i,o,a,s,l,d="function"==typeof e&&e,f=!r&&E(e=d.selector||e);if(n=n||[],1===f.length){if(o=f[0]=f[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&b.getById&&9===t.nodeType&&L&&x.relative[o[1].type]){if(!(t=(x.find.ID(a.matches[0].replace(be,xe),t)||[])[0]))return n;d&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=fe.needsContext.test(e)?0:o.length;i--&&(a=o[i],!x.relative[s=a.type]);)if((l=x.find[s])&&(r=l(a.matches[0].replace(be,xe),ve.test(o[0].type)&&u(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&c(o)))return J.apply(n,r),n;break}}return(d||C(e,f))(r,t,!L,n,ve.test(e)&&u(t.parentNode)||t),n},b.sortStable=P.split("").sort(I).join("")===P,b.detectDuplicates=!!q,j(),b.sortDetached=i(function(e){return 1&e.compareDocumentPosition(A.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),b.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(Z,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);re.find=ue,re.expr=ue.selectors,re.expr[":"]=re.expr.pseudos,re.unique=ue.uniqueSort,re.text=ue.getText,re.isXMLDoc=ue.isXML,re.contains=ue.contains;var le=re.expr.match.needsContext,ce=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,de=/^.[^:#\[\.,]*$/;re.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?re.find.matchesSelector(r,e)?[r]:[]:re.find.matches(e,re.grep(t,function(e){return 1===e.nodeType}))},re.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(re(e).filter(function(){for(t=0;t<i;t++)if(re.contains(r[t],this))return!0}));for(t=0;t<i;t++)re.find(e,r[t],n);return n=this.pushStack(i>1?re.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&le.test(e)?re(e):e||[],!1).length}});var fe,pe=e.document,he=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(re.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(!(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:he.exec(e))||!n[1]&&t)return!t||t.jquery?(t||fe).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof re?t[0]:t,re.merge(this,re.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:pe,!0)),ce.test(n[1])&&re.isPlainObject(t))for(n in t)re.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if((r=pe.getElementById(n[2]))&&r.parentNode){if(r.id!==n[2])return fe.find(e);this.length=1,this[0]=r}return this.context=pe,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):re.isFunction(e)?void 0!==fe.ready?fe.ready(e):e(re):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),re.makeArray(e,this))}).prototype=re.fn,fe=re(pe);var me=/^(?:parents|prev(?:Until|All))/,ge={children:!0,contents:!0,next:!0,prev:!0};re.extend({dir:function(e,t,n){for(var r=[],i=e[t];i&&9!==i.nodeType&&(void 0===n||1!==i.nodeType||!re(i).is(n));)1===i.nodeType&&r.push(i),i=i[t];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),re.fn.extend({has:function(e){var t,n=re(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(re.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=le.test(e)||"string"!=typeof e?re(e,t||this.context):0;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&re.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?re.unique(o):o)},index:function(e){return e?"string"==typeof e?re.inArray(this[0],re(e)):re.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(re.unique(re.merge(this.get(),re(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),re.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return re.dir(e,"parentNode")},parentsUntil:function(e,t,n){return re.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return re.dir(e,"nextSibling")},prevAll:function(e){return re.dir(e,"previousSibling")},nextUntil:function(e,t,n){return re.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return re.dir(e,"previousSibling",n)},siblings:function(e){return re.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return re.sibling(e.firstChild)},contents:function(e){return re.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:re.merge([],e.childNodes)}},function(e,t){re.fn[e]=function(n,r){var i=re.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=re.filter(r,i)),this.length>1&&(ge[e]||(i=re.unique(i)),me.test(e)&&(i=i.reverse())),this.pushStack(i)}});var ve=/\S+/g,ye={};re.Callbacks=function(e){e="string"==typeof e?ye[e]||o(e):re.extend({},e);var t,n,r,i,a,s,u=[],l=!e.once&&[],c=function(o){for(n=e.memory&&o,r=!0,a=s||0,s=0,i=u.length,t=!0;u&&a<i;a++)if(!1===u[a].apply(o[0],o[1])&&e.stopOnFalse){n=!1;break}t=!1,u&&(l?l.length&&c(l.shift()):n?u=[]:d.disable())},d={add:function(){if(u){var r=u.length;!function t(n){re.each(n,function(n,r){var i=re.type(r);"function"===i?e.unique&&d.has(r)||u.push(r):r&&r.length&&"string"!==i&&t(r)})}(arguments),t?i=u.length:n&&(s=r,c(n))}return this},remove:function(){return u&&re.each(arguments,function(e,n){for(var r;(r=re.inArray(n,u,r))>-1;)u.splice(r,1),t&&(r<=i&&i--,r<=a&&a--)}),this},has:function(e){return e?re.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],i=0,this},disable:function(){return u=l=n=void 0,this},disabled:function(){return!u},lock:function(){return l=void 0,n||d.disable(),this},locked:function(){return!l},fireWith:function(e,n){return!u||r&&!l||(n=n||[],n=[e,n.slice?n.slice():n],t?l.push(n):c(n)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},re.extend({Deferred:function(e){var t=[["resolve","done",re.Callbacks("once memory"),"resolved"],["reject","fail",re.Callbacks("once memory"),"rejected"],["notify","progress",re.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return re.Deferred(function(n){re.each(t,function(t,o){var a=re.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&re.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?re.extend(e,r):r}},i={};return r.pipe=r.then,re.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=G.call(arguments),a=o.length,s=1!==a||e&&re.isFunction(e.promise)?a:0,u=1===s?e:re.Deferred(),l=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?G.call(arguments):i,r===t?u.notifyWith(n,r):--s||u.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);i<a;i++)o[i]&&re.isFunction(o[i].promise)?o[i].promise().done(l(i,r,o)).fail(u.reject).progress(l(i,n,t)):--s;return s||u.resolveWith(r,o),u.promise()}});var be;re.fn.ready=function(e){return re.ready.promise().done(e),this},re.extend({isReady:!1,readyWait:1,holdReady:function(e){e?re.readyWait++:re.ready(!0)},ready:function(e){if(!0===e?!--re.readyWait:!re.isReady){if(!pe.body)return setTimeout(re.ready);re.isReady=!0,!0!==e&&--re.readyWait>0||(be.resolveWith(pe,[re]),re.fn.triggerHandler&&(re(pe).triggerHandler("ready"),re(pe).off("ready")))}}}),re.ready.promise=function(t){if(!be)if(be=re.Deferred(),"complete"===pe.readyState)setTimeout(re.ready);else if(pe.addEventListener)pe.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1);else{pe.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&pe.documentElement}catch(e){}n&&n.doScroll&&function e(){if(!re.isReady){try{n.doScroll("left")}catch(t){return setTimeout(e,50)}a(),re.ready()}}()}return be.promise(t)};var xe,we="undefined";for(xe in re(ne))break;ne.ownLast="0"!==xe,ne.inlineBlockNeedsLayout=!1,re(function(){var e,t,n,r;(n=pe.getElementsByTagName("body")[0])&&n.style&&(t=pe.createElement("div"),r=pe.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==we&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ne.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=pe.createElement("div");if(null==ne.deleteExpando){ne.deleteExpando=!0;try{delete e.test}catch(e){ne.deleteExpando=!1}}e=null}(),re.acceptData=function(e){var t=re.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||!0!==t&&e.getAttribute("classid")===t)};var Te=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ee=/([A-Z])/g;re.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?re.cache[e[re.expando]]:e[re.expando])&&!l(e)},data:function(e,t,n){return c(e,t,n)},removeData:function(e,t){return d(e,t)},_data:function(e,t,n){return c(e,t,n,!0)},_removeData:function(e,t){return d(e,t,!0)}}),re.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=re.data(o),1===o.nodeType&&!re._data(o,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=re.camelCase(r.slice(5)),u(o,r,i[r])));re._data(o,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each(function(){re.data(this,e)}):arguments.length>1?this.each(function(){re.data(this,e,t)}):o?u(o,e,re.data(o,e)):void 0},removeData:function(e){return this.each(function(){re.removeData(this,e)})}}),re.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=re._data(e,t),n&&(!r||re.isArray(n)?r=re._data(e,t,re.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=re.queue(e,t),r=n.length,i=n.shift(),o=re._queueHooks(e,t),a=function(){re.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return re._data(e,n)||re._data(e,n,{empty:re.Callbacks("once memory").add(function(){re._removeData(e,t+"queue"),re._removeData(e,n)})})}}),re.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?re.queue(this[0],e):void 0===t?this:this.each(function(){var n=re.queue(this,e,t);re._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&re.dequeue(this,e)})},dequeue:function(e){return this.each(function(){re.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=re.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=re._data(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var Ce=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ke=["Top","Right","Bottom","Left"],Ne=function(e,t){return e=t||e,"none"===re.css(e,"display")||!re.contains(e.ownerDocument,e)},Se=re.access=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===re.type(n)){i=!0;for(s in n)re.access(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,re.isFunction(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(re(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},qe=/^(?:checkbox|radio)$/i;!function(){var e=pe.createElement("input"),t=pe.createElement("div"),n=pe.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ne.leadingWhitespace=3===t.firstChild.nodeType,ne.tbody=!t.getElementsByTagName("tbody").length,ne.htmlSerialize=!!t.getElementsByTagName("link").length,ne.html5Clone="<:nav></:nav>"!==pe.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),ne.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",ne.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",ne.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,ne.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){ne.noCloneEvent=!1}),t.cloneNode(!0).click()),null==ne.deleteExpando){ne.deleteExpando=!0;try{delete t.test}catch(e){ne.deleteExpando=!1}}}(),function(){var t,n,r=pe.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(ne[t+"Bubbles"]=n in e)||(r.setAttribute(n,"t"),ne[t+"Bubbles"]=!1===r.attributes[n].expando);r=null}();var je=/^(?:input|select|textarea)$/i,Ae=/^key/,De=/^(?:mouse|pointer|contextmenu)|click/,Le=/^(?:focusinfocus|focusoutblur)$/,Me=/^([^.]*)(?:\.(.+)|)$/;re.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,d,f,p,h,m,g=re._data(e);if(g){for(n.handler&&(u=n,n=u.handler,i=u.selector),n.guid||(n.guid=re.guid++),(a=g.events)||(a=g.events={}),(c=g.handle)||(c=g.handle=function(e){return typeof re===we||e&&re.event.triggered===e.type?void 0:re.event.dispatch.apply(c.elem,arguments)},c.elem=e),t=(t||"").match(ve)||[""],s=t.length;s--;)o=Me.exec(t[s])||[],p=m=o[1],h=(o[2]||"").split(".").sort(),p&&(l=re.event.special[p]||{},p=(i?l.delegateType:l.bindType)||p,l=re.event.special[p]||{},d=re.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&re.expr.match.needsContext.test(i),namespace:h.join(".")},u),(f=a[p])||(f=a[p]=[],f.delegateCount=0,l.setup&&!1!==l.setup.call(e,r,h,c)||(e.addEventListener?e.addEventListener(p,c,!1):e.attachEvent&&e.attachEvent("on"+p,c))),l.add&&(l.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,d):f.push(d),re.event.global[p]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,d,f,p,h,m,g=re.hasData(e)&&re._data(e);if(g&&(c=g.events)){for(t=(t||"").match(ve)||[""],l=t.length;l--;)if(s=Me.exec(t[l])||[],p=m=s[1],h=(s[2]||"").split(".").sort(),p){for(d=re.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,f=c[p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=f.length;o--;)a=f[o],!i&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,d.remove&&d.remove.call(e,a));u&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,h,g.handle)||re.removeEvent(e,p,g.handle),delete c[p])}else for(p in c)re.event.remove(e,p+t[l],n,r,!0);re.isEmptyObject(c)&&(delete g.handle,re._removeData(e,"events"))}},trigger:function(t,n,r,i){var o,a,s,u,l,c,d,f=[r||pe],p=te.call(t,"type")?t.type:t,h=te.call(t,"namespace")?t.namespace.split("."):[];if(s=c=r=r||pe,3!==r.nodeType&&8!==r.nodeType&&!Le.test(p+re.event.triggered)&&(p.indexOf(".")>=0&&(h=p.split("."),p=h.shift(),h.sort()),a=p.indexOf(":")<0&&"on"+p,t=t[re.expando]?t:new re.Event(p,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:re.makeArray(n,[t]),l=re.event.special[p]||{},i||!l.trigger||!1!==l.trigger.apply(r,n))){if(!i&&!l.noBubble&&!re.isWindow(r)){for(u=l.delegateType||p,Le.test(u+p)||(s=s.parentNode);s;s=s.parentNode)f.push(s),c=s;c===(r.ownerDocument||pe)&&f.push(c.defaultView||c.parentWindow||e)}for(d=0;(s=f[d++])&&!t.isPropagationStopped();)t.type=d>1?u:l.bindType||p,o=(re._data(s,"events")||{})[t.type]&&re._data(s,"handle"),o&&o.apply(s,n),(o=a&&s[a])&&o.apply&&re.acceptData(s)&&(t.result=o.apply(s,n),!1===t.result&&t.preventDefault());if(t.type=p,!i&&!t.isDefaultPrevented()&&(!l._default||!1===l._default.apply(f.pop(),n))&&re.acceptData(r)&&a&&r[p]&&!re.isWindow(r)){c=r[a],c&&(r[a]=null),re.event.triggered=p;try{r[p]()}catch(e){}re.event.triggered=void 0,c&&(r[a]=c)}return t.result}},dispatch:function(e){e=re.event.fix(e);var t,n,r,i,o,a=[],s=G.call(arguments),u=(re._data(this,"events")||{})[e.type]||[],l=re.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,e)){for(a=re.event.handlers.call(this,e,u),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,o=0;(r=i.handlers[o++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(r.namespace)||(e.handleObj=r,e.data=r.data,void 0!==(n=((re.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,s))&&!1===(e.result=n)&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(!0!==u.disabled||"click"!==e.type)){for(i=[],o=0;o<s;o++)r=t[o],n=r.selector+" ",void 0===i[n]&&(i[n]=r.needsContext?re(n,this).index(u)>=0:re.find(n,this,null,[u]).length),i[n]&&i.push(r);i.length&&a.push({elem:u,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[re.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=De.test(i)?this.mouseHooks:Ae.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new re.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=o.srcElement||pe),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=e.target.ownerDocument||pe,i=r.documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==h()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===h()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(re.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return re.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=re.extend(new re.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?re.event.trigger(i,null,t):re.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},re.removeEvent=pe.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===we&&(e[r]=null),e.detachEvent(r,n))},re.Event=function(e,t){if(!(this instanceof re.Event))return new re.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?f:p):this.type=e,t&&re.extend(this,t),this.timeStamp=e&&e.timeStamp||re.now(),this[re.expando]=!0},re.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=f,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=f,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=f,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},re.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){re.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||re.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),ne.submitBubbles||(re.event.special.submit={setup:function(){if(re.nodeName(this,"form"))return!1;re.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=re.nodeName(t,"input")||re.nodeName(t,"button")?t.form:void 0;n&&!re._data(n,"submitBubbles")&&(re.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),re._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&re.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(re.nodeName(this,"form"))return!1;re.event.remove(this,"._submit")}}),ne.changeBubbles||(re.event.special.change={setup:function(){if(je.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(re.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),re.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),re.event.simulate("change",this,e,!0)})),!1;re.event.add(this,"beforeactivate._change",function(e){var t=e.target;je.test(t.nodeName)&&!re._data(t,"changeBubbles")&&(re.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||re.event.simulate("change",this.parentNode,e,!0)}),re._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return re.event.remove(this,"._change"),!je.test(this.nodeName)}}),ne.focusinBubbles||re.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){re.event.simulate(t,e.target,re.event.fix(e),!0)};re.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=re._data(r,t);i||r.addEventListener(e,n,!0),re._data(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=re._data(r,t)-1;i?re._data(r,t,i):(r.removeEventListener(e,n,!0),re._removeData(r,t))}}}),re.fn.extend({on:function(e,t,n,r,i){var o,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(o in e)this.on(o,t,n,e[o],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),!1===r)r=p;else if(!r)return this;return 1===i&&(a=r,r=function(e){return re().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=re.guid++)),this.each(function(){re.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,re(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=p),this.each(function(){re.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){re.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return re.event.trigger(e,t,n,!0)}});var Oe="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",He=/ jQuery\d+="(?:null|\d+)"/g,_e=new RegExp("<(?:"+Oe+")[\\s/>]","i"),Pe=/^\s+/,Re=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Fe=/<([\w:]+)/,Be=/<tbody/i,We=/<|&#?\w+;/,$e=/<(?:script|style|link)/i,ze=/checked\s*(?:[^=]|=\s*.checked.)/i,Ie=/^$|\/(?:java|ecma)script/i,Ue=/^true\/(.*)/,Xe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Qe={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ne.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Ve=m(pe),Ge=Ve.appendChild(pe.createElement("div"));Qe.optgroup=Qe.option,Qe.tbody=Qe.tfoot=Qe.colgroup=Qe.caption=Qe.thead,Qe.th=Qe.td,re.extend({clone:function(e,t,n){var r,i,o,a,s,u=re.contains(e.ownerDocument,e);if(ne.html5Clone||re.isXMLDoc(e)||!_e.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Ge.innerHTML=e.outerHTML,Ge.removeChild(o=Ge.firstChild)),!(ne.noCloneEvent&&ne.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||re.isXMLDoc(e)))for(r=g(o),s=g(e),a=0;null!=(i=s[a]);++a)r[a]&&E(i,r[a]);if(t)if(n)for(s=s||g(e),r=r||g(o),a=0;null!=(i=s[a]);a++)T(i,r[a]);else T(e,o);return r=g(o,"script"),r.length>0&&w(r,!u&&g(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){for(var i,o,a,s,u,l,c,d=e.length,f=m(t),p=[],h=0;h<d;h++)if((o=e[h])||0===o)if("object"===re.type(o))re.merge(p,o.nodeType?[o]:o);else if(We.test(o)){for(s=s||f.appendChild(t.createElement("div")),u=(Fe.exec(o)||["",""])[1].toLowerCase(),c=Qe[u]||Qe._default,s.innerHTML=c[1]+o.replace(Re,"<$1></$2>")+c[2],i=c[0];i--;)s=s.lastChild;if(!ne.leadingWhitespace&&Pe.test(o)&&p.push(t.createTextNode(Pe.exec(o)[0])),!ne.tbody)for(o="table"!==u||Be.test(o)?"<table>"!==c[1]||Be.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;i--;)re.nodeName(l=o.childNodes[i],"tbody")&&!l.childNodes.length&&o.removeChild(l);for(re.merge(p,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=f.lastChild}else p.push(t.createTextNode(o));for(s&&f.removeChild(s),ne.appendChecked||re.grep(g(p,"input"),v),h=0;o=p[h++];)if((!r||-1===re.inArray(o,r))&&(a=re.contains(o.ownerDocument,o),s=g(f.appendChild(o),"script"),a&&w(s),n))for(i=0;o=s[i++];)Ie.test(o.type||"")&&n.push(o);return s=null,f},cleanData:function(e,t){for(var n,r,i,o,a=0,s=re.expando,u=re.cache,l=ne.deleteExpando,c=re.event.special;null!=(n=e[a]);a++)if((t||re.acceptData(n))&&(i=n[s],o=i&&u[i])){if(o.events)for(r in o.events)c[r]?re.event.remove(n,r):re.removeEvent(n,r,o.handle);u[i]&&(delete u[i],l?delete n[s]:typeof n.removeAttribute!==we?n.removeAttribute(s):n[s]=null,V.push(i))}}}),re.fn.extend({text:function(e){return Se(this,function(e){return void 0===e?re.text(this):this.empty().append((this[0]&&this[0].ownerDocument||pe).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){y(this,e).appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?re.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||re.cleanData(g(n)),n.parentNode&&(t&&re.contains(n.ownerDocument,n)&&w(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&re.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&re.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return re.clone(this,e,t)})},html:function(e){return Se(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(He,""):void 0;if("string"==typeof e&&!$e.test(e)&&(ne.htmlSerialize||!_e.test(e))&&(ne.leadingWhitespace||!Pe.test(e))&&!Qe[(Fe.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Re,"<$1></$2>");try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(re.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,re.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=J.apply([],e);var n,r,i,o,a,s,u=0,l=this.length,c=this,d=l-1,f=e[0],p=re.isFunction(f);if(p||l>1&&"string"==typeof f&&!ne.checkClone&&ze.test(f))return this.each(function(n){var r=c.eq(n);p&&(e[0]=f.call(this,n,r.html())),r.domManip(e,t)});if(l&&(s=re.buildFragment(e,this[0].ownerDocument,!1,this),n=s.firstChild,1===s.childNodes.length&&(s=n),n)){for(o=re.map(g(s,"script"),b),i=o.length;u<l;u++)r=s,u!==d&&(r=re.clone(r,!0,!0),i&&re.merge(o,g(r,"script"))),t.call(this[u],r,u);if(i)for(a=o[o.length-1].ownerDocument,re.map(o,x),u=0;u<i;u++)r=o[u],Ie.test(r.type||"")&&!re._data(r,"globalEval")&&re.contains(a,r)&&(r.src?re._evalUrl&&re._evalUrl(r.src):re.globalEval((r.text||r.textContent||r.innerHTML||"").replace(Xe,"")));s=n=null}return this}}),re.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){re.fn[e]=function(e){for(var n,r=0,i=[],o=re(e),a=o.length-1;r<=a;r++)n=r===a?this:this.clone(!0),re(o[r])[t](n),Y.apply(i,n.get());return this.pushStack(i)}});var Je,Ye={};!function(){var e;ne.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,r;return(n=pe.getElementsByTagName("body")[0])&&n.style?(t=pe.createElement("div"),r=pe.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==we&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(pe.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(r),e):void 0}}();var Ke,Ze,et=/^margin/,tt=new RegExp("^("+Ce+")(?!px)[a-z%]+$","i"),nt=/^(top|right|bottom|left)$/;e.getComputedStyle?(Ke=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)},Ze=function(e,t,n){var r,i,o,a,s=e.style;return n=n||Ke(e),a=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==a||re.contains(e.ownerDocument,e)||(a=re.style(e,t)),tt.test(a)&&et.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0===a?a:a+""}):pe.documentElement.currentStyle&&(Ke=function(e){return e.currentStyle},
Ze=function(e,t,n){var r,i,o,a,s=e.style;return n=n||Ke(e),a=n?n[t]:void 0,null==a&&s&&s[t]&&(a=s[t]),tt.test(a)&&!nt.test(t)&&(r=s.left,i=e.runtimeStyle,o=i&&i.left,o&&(i.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=r,o&&(i.left=o)),void 0===a?a:a+""||"auto"}),function(){function t(){var t,n,r,i;(n=pe.getElementsByTagName("body")[0])&&n.style&&(t=pe.createElement("div"),r=pe.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=a=!1,u=!0,e.getComputedStyle&&(o="1%"!==(e.getComputedStyle(t,null)||{}).top,a="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,i=t.appendChild(pe.createElement("div")),i.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",t.style.width="1px",u=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight),t.removeChild(i)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=t.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===i[0].offsetHeight,s&&(i[0].style.display="",i[1].style.display="none",s=0===i[0].offsetHeight),n.removeChild(r))}var n,r,i,o,a,s,u;n=pe.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=n.getElementsByTagName("a")[0],(r=i&&i.style)&&(r.cssText="float:left;opacity:.5",ne.opacity="0.5"===r.opacity,ne.cssFloat=!!r.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",ne.clearCloneStyle="content-box"===n.style.backgroundClip,ne.boxSizing=""===r.boxSizing||""===r.MozBoxSizing||""===r.WebkitBoxSizing,re.extend(ne,{reliableHiddenOffsets:function(){return null==s&&t(),s},boxSizingReliable:function(){return null==a&&t(),a},pixelPosition:function(){return null==o&&t(),o},reliableMarginRight:function(){return null==u&&t(),u}}))}(),re.swap=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i};var rt=/alpha\([^)]*\)/i,it=/opacity\s*=\s*([^)]*)/,ot=/^(none|table(?!-c[ea]).+)/,at=new RegExp("^("+Ce+")(.*)$","i"),st=new RegExp("^([+-])=("+Ce+")","i"),ut={position:"absolute",visibility:"hidden",display:"block"},lt={letterSpacing:"0",fontWeight:"400"},ct=["Webkit","O","Moz","ms"];re.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ze(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:ne.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=re.camelCase(t),u=e.style;if(t=re.cssProps[s]||(re.cssProps[s]=S(u,s)),a=re.cssHooks[t]||re.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:u[t];if(o=typeof n,"string"===o&&(i=st.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(re.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||re.cssNumber[s]||(n+="px"),ne.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(e,n,r)))))try{u[t]=n}catch(e){}}},css:function(e,t,n,r){var i,o,a,s=re.camelCase(t);return t=re.cssProps[s]||(re.cssProps[s]=S(e.style,s)),a=re.cssHooks[t]||re.cssHooks[s],a&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=Ze(e,t,r)),"normal"===o&&t in lt&&(o=lt[t]),""===n||n?(i=parseFloat(o),!0===n||re.isNumeric(i)?i||0:o):o}}),re.each(["height","width"],function(e,t){re.cssHooks[t]={get:function(e,n,r){if(n)return ot.test(re.css(e,"display"))&&0===e.offsetWidth?re.swap(e,ut,function(){return D(e,t,r)}):D(e,t,r)},set:function(e,n,r){var i=r&&Ke(e);return j(e,n,r?A(e,t,r,ne.boxSizing&&"border-box"===re.css(e,"boxSizing",!1,i),i):0)}}}),ne.opacity||(re.cssHooks.opacity={get:function(e,t){return it.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=re.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===re.trim(o.replace(rt,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=rt.test(o)?o.replace(rt,i):o+" "+i)}}),re.cssHooks.marginRight=N(ne.reliableMarginRight,function(e,t){if(t)return re.swap(e,{display:"inline-block"},Ze,[e,"marginRight"])}),re.each({margin:"",padding:"",border:"Width"},function(e,t){re.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+ke[r]+t]=o[r]||o[r-2]||o[0];return i}},et.test(e)||(re.cssHooks[e+t].set=j)}),re.fn.extend({css:function(e,t){return Se(this,function(e,t,n){var r,i,o={},a=0;if(re.isArray(t)){for(r=Ke(e),i=t.length;a<i;a++)o[t[a]]=re.css(e,t[a],!1,r);return o}return void 0!==n?re.style(e,t,n):re.css(e,t)},e,t,arguments.length>1)},show:function(){return q(this,!0)},hide:function(){return q(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ne(this)?re(this).show():re(this).hide()})}}),re.Tween=L,L.prototype={constructor:L,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(re.cssNumber[n]?"":"px")},cur:function(){var e=L.propHooks[this.prop];return e&&e.get?e.get(this):L.propHooks._default.get(this)},run:function(e){var t,n=L.propHooks[this.prop];return this.options.duration?this.pos=t=re.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):L.propHooks._default.set(this),this}},L.prototype.init.prototype=L.prototype,L.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=re.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){re.fx.step[e.prop]?re.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[re.cssProps[e.prop]]||re.cssHooks[e.prop])?re.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},L.propHooks.scrollTop=L.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},re.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},re.fx=L.prototype.init,re.fx.step={};var dt,ft,pt=/^(?:toggle|show|hide)$/,ht=new RegExp("^(?:([+-])=|)("+Ce+")([a-z%]*)$","i"),mt=/queueHooks$/,gt=[_],vt={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=ht.exec(t),o=i&&i[3]||(re.cssNumber[e]?"":"px"),a=(re.cssNumber[e]||"px"!==o&&+r)&&ht.exec(re.css(n.elem,e)),s=1,u=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do{s=s||".5",a/=s,re.style(n.elem,e,a+o)}while(s!==(s=n.cur()/r)&&1!==s&&--u)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};re.Animation=re.extend(R,{tweener:function(e,t){re.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;r<i;r++)n=e[r],vt[n]=vt[n]||[],vt[n].unshift(t)},prefilter:function(e,t){t?gt.unshift(e):gt.push(e)}}),re.speed=function(e,t,n){var r=e&&"object"==typeof e?re.extend({},e):{complete:n||!n&&t||re.isFunction(e)&&e,duration:e,easing:n&&t||t&&!re.isFunction(t)&&t};return r.duration=re.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in re.fx.speeds?re.fx.speeds[r.duration]:re.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){re.isFunction(r.old)&&r.old.call(this),r.queue&&re.dequeue(this,r.queue)},r},re.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Ne).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=re.isEmptyObject(e),o=re.speed(t,n,r),a=function(){var t=R(this,re.extend({},e),o);(i||re._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=re.timers,a=re._data(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&mt.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||re.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=re._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=re.timers,a=r?r.length:0;for(n.finish=!0,re.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),re.each(["toggle","show","hide"],function(e,t){var n=re.fn[t];re.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(O(t,!0),e,r,i)}}),re.each({slideDown:O("show"),slideUp:O("hide"),slideToggle:O("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){re.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),re.timers=[],re.fx.tick=function(){var e,t=re.timers,n=0;for(dt=re.now();n<t.length;n++)(e=t[n])()||t[n]!==e||t.splice(n--,1);t.length||re.fx.stop(),dt=void 0},re.fx.timer=function(e){re.timers.push(e),e()?re.fx.start():re.timers.pop()},re.fx.interval=13,re.fx.start=function(){ft||(ft=setInterval(re.fx.tick,re.fx.interval))},re.fx.stop=function(){clearInterval(ft),ft=null},re.fx.speeds={slow:600,fast:200,_default:400},re.fn.delay=function(e,t){return e=re.fx?re.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e,t,n,r,i;t=pe.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=t.getElementsByTagName("a")[0],n=pe.createElement("select"),i=n.appendChild(pe.createElement("option")),e=t.getElementsByTagName("input")[0],r.style.cssText="top:1px",ne.getSetAttribute="t"!==t.className,ne.style=/top/.test(r.getAttribute("style")),ne.hrefNormalized="/a"===r.getAttribute("href"),ne.checkOn=!!e.value,ne.optSelected=i.selected,ne.enctype=!!pe.createElement("form").enctype,n.disabled=!0,ne.optDisabled=!i.disabled,e=pe.createElement("input"),e.setAttribute("value",""),ne.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ne.radioValue="t"===e.value}();var yt=/\r/g;re.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=re.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,re(this).val()):e,null==i?i="":"number"==typeof i?i+="":re.isArray(i)&&(i=re.map(i,function(e){return null==e?"":e+""})),(t=re.valHooks[this.type]||re.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return(t=re.valHooks[i.type]||re.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(yt,""):null==n?"":n)}}}),re.extend({valHooks:{option:{get:function(e){var t=re.find.attr(e,"value");return null!=t?t:re.trim(re.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,a=o?null:[],s=o?i+1:r.length,u=i<0?s:o?i:0;u<s;u++)if(n=r[u],(n.selected||u===i)&&(ne.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!re.nodeName(n.parentNode,"optgroup"))){if(t=re(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=re.makeArray(t),a=i.length;a--;)if(r=i[a],re.inArray(re.valHooks.option.get(r),o)>=0)try{r.selected=n=!0}catch(e){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),i}}}}),re.each(["radio","checkbox"],function(){re.valHooks[this]={set:function(e,t){if(re.isArray(t))return e.checked=re.inArray(re(e).val(),t)>=0}},ne.checkOn||(re.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var bt,xt,wt=re.expr.attrHandle,Tt=/^(?:checked|selected)$/i,Et=ne.getSetAttribute,Ct=ne.input;re.fn.extend({attr:function(e,t){return Se(this,re.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){re.removeAttr(this,e)})}}),re.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===we?re.prop(e,t,n):(1===o&&re.isXMLDoc(e)||(t=t.toLowerCase(),r=re.attrHooks[t]||(re.expr.match.bool.test(t)?xt:bt)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=re.find.attr(e,t),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void re.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(ve);if(o&&1===e.nodeType)for(;n=o[i++];)r=re.propFix[n]||n,re.expr.match.bool.test(n)?Ct&&Et||!Tt.test(n)?e[r]=!1:e[re.camelCase("default-"+n)]=e[r]=!1:re.attr(e,n,""),e.removeAttribute(Et?n:r)},attrHooks:{type:{set:function(e,t){if(!ne.radioValue&&"radio"===t&&re.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),xt={set:function(e,t,n){return!1===t?re.removeAttr(e,n):Ct&&Et||!Tt.test(n)?e.setAttribute(!Et&&re.propFix[n]||n,n):e[re.camelCase("default-"+n)]=e[n]=!0,n}},re.each(re.expr.match.bool.source.match(/\w+/g),function(e,t){var n=wt[t]||re.find.attr;wt[t]=Ct&&Et||!Tt.test(t)?function(e,t,r){var i,o;return r||(o=wt[t],wt[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,wt[t]=o),i}:function(e,t,n){if(!n)return e[re.camelCase("default-"+t)]?t.toLowerCase():null}}),Ct&&Et||(re.attrHooks.value={set:function(e,t,n){if(!re.nodeName(e,"input"))return bt&&bt.set(e,t,n);e.defaultValue=t}}),Et||(bt={set:function(e,t,n){var r=e.getAttributeNode(n);if(r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n))return t}},wt.id=wt.name=wt.coords=function(e,t,n){var r;if(!n)return(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},re.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);if(n&&n.specified)return n.value},set:bt.set},re.attrHooks.contenteditable={set:function(e,t,n){bt.set(e,""!==t&&t,n)}},re.each(["width","height"],function(e,t){re.attrHooks[t]={set:function(e,n){if(""===n)return e.setAttribute(t,"auto"),n}}})),ne.style||(re.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var kt=/^(?:input|select|textarea|button|object)$/i,Nt=/^(?:a|area)$/i;re.fn.extend({prop:function(e,t){return Se(this,re.prop,e,t,arguments.length>1)},removeProp:function(e){return e=re.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(e){}})}}),re.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var r,i,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return o=1!==a||!re.isXMLDoc(e),o&&(t=re.propFix[t]||t,i=re.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=re.find.attr(e,"tabindex");return t?parseInt(t,10):kt.test(e.nodeName)||Nt.test(e.nodeName)&&e.href?0:-1}}}}),ne.hrefNormalized||re.each(["href","src"],function(e,t){re.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ne.optSelected||(re.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),re.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){re.propFix[this.toLowerCase()]=this}),ne.enctype||(re.propFix.enctype="encoding");var St=/[\t\r\n\f]/g;re.fn.extend({addClass:function(e){var t,n,r,i,o,a,s=0,u=this.length,l="string"==typeof e&&e;if(re.isFunction(e))return this.each(function(t){re(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ve)||[];s<u;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(St," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=re.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,r,i,o,a,s=0,u=this.length,l=0===arguments.length||"string"==typeof e&&e;if(re.isFunction(e))return this.each(function(t){re(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ve)||[];s<u;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(St," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=e?re.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):re.isFunction(e)?this.each(function(n){re(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,r=0,i=re(this),o=e.match(ve)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else n!==we&&"boolean"!==n||(this.className&&re._data(this,"__className__",this.className),this.className=this.className||!1===e?"":re._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;n<r;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(St," ").indexOf(t)>=0)return!0;return!1}}),re.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){re.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),re.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var qt=re.now(),jt=/\?/,At=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;re.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,i=re.trim(t+"");return i&&!re.trim(i.replace(At,function(e,t,i,o){return n&&t&&(r=0),0===r?e:(n=i||t,r+=!o-!i,"")}))?Function("return "+i)():re.error("Invalid JSON: "+t)},re.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(r=new DOMParser,n=r.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(e){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||re.error("Invalid XML: "+t),n};var Dt,Lt,Mt=/#.*$/,Ot=/([?&])_=[^&]*/,Ht=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,_t=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Pt=/^(?:GET|HEAD)$/,Rt=/^\/\//,Ft=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Bt={},Wt={},$t="*/".concat("*");try{Lt=location.href}catch(e){Lt=pe.createElement("a"),Lt.href="",Lt=Lt.href}Dt=Ft.exec(Lt.toLowerCase())||[],re.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Lt,type:"GET",isLocal:_t.test(Dt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$t,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":re.parseJSON,"text xml":re.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?W(W(e,re.ajaxSettings),t):W(re.ajaxSettings,e)},ajaxPrefilter:F(Bt),ajaxTransport:F(Wt),ajax:function(e,t){function n(e,t,n,r){var i,c,v,y,x,T=t;2!==b&&(b=2,s&&clearTimeout(s),l=void 0,a=r||"",w.readyState=e>0?4:0,i=e>=200&&e<300||304===e,n&&(y=$(d,w,n)),y=z(d,y,w,i),i?(d.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(re.lastModified[o]=x),(x=w.getResponseHeader("etag"))&&(re.etag[o]=x)),204===e||"HEAD"===d.type?T="nocontent":304===e?T="notmodified":(T=y.state,c=y.data,v=y.error,i=!v)):(v=T,!e&&T||(T="error",e<0&&(e=0))),w.status=e,w.statusText=(t||T)+"",i?h.resolveWith(f,[c,T,w]):h.rejectWith(f,[w,T,v]),w.statusCode(g),g=void 0,u&&p.trigger(i?"ajaxSuccess":"ajaxError",[w,d,i?c:v]),m.fireWith(f,[w,T]),u&&(p.trigger("ajaxComplete",[w,d]),--re.active||re.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,a,s,u,l,c,d=re.ajaxSetup({},t),f=d.context||d,p=d.context&&(f.nodeType||f.jquery)?re(f):re.event,h=re.Deferred(),m=re.Callbacks("once memory"),g=d.statusCode||{},v={},y={},b=0,x="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!c)for(c={};t=Ht.exec(a);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(b<2)for(t in e)g[t]=[g[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||x;return l&&l.abort(t),n(0,t),this}};if(h.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,d.url=((e||d.url||Lt)+"").replace(Mt,"").replace(Rt,Dt[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=re.trim(d.dataType||"*").toLowerCase().match(ve)||[""],null==d.crossDomain&&(r=Ft.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]===Dt[1]&&r[2]===Dt[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(Dt[3]||("http:"===Dt[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=re.param(d.data,d.traditional)),B(Bt,d,t,w),2===b)return w;u=re.event&&d.global,u&&0==re.active++&&re.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Pt.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(jt.test(o)?"&":"?")+d.data,delete d.data),!1===d.cache&&(d.url=Ot.test(o)?o.replace(Ot,"$1_="+qt++):o+(jt.test(o)?"&":"?")+"_="+qt++)),d.ifModified&&(re.lastModified[o]&&w.setRequestHeader("If-Modified-Since",re.lastModified[o]),re.etag[o]&&w.setRequestHeader("If-None-Match",re.etag[o])),(d.data&&d.hasContent&&!1!==d.contentType||t.contentType)&&w.setRequestHeader("Content-Type",d.contentType),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+$t+"; q=0.01":""):d.accepts["*"]);for(i in d.headers)w.setRequestHeader(i,d.headers[i]);if(d.beforeSend&&(!1===d.beforeSend.call(f,w,d)||2===b))return w.abort();x="abort";for(i in{success:1,error:1,complete:1})w[i](d[i]);if(l=B(Wt,d,t,w)){w.readyState=1,u&&p.trigger("ajaxSend",[w,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},d.timeout));try{b=1,l.send(v,n)}catch(e){if(!(b<2))throw e;n(-1,e)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return re.get(e,t,n,"json")},getScript:function(e,t){return re.get(e,void 0,t,"script")}}),re.each(["get","post"],function(e,t){re[t]=function(e,n,r,i){return re.isFunction(n)&&(i=i||r,r=n,n=void 0),re.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),re._evalUrl=function(e){return re.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},re.fn.extend({wrapAll:function(e){if(re.isFunction(e))return this.each(function(t){re(this).wrapAll(e.call(this,t))});if(this[0]){var t=re(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return re.isFunction(e)?this.each(function(t){re(this).wrapInner(e.call(this,t))}):this.each(function(){var t=re(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=re.isFunction(e);return this.each(function(n){re(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){re.nodeName(this,"body")||re(this).replaceWith(this.childNodes)}).end()}}),re.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ne.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||re.css(e,"display"))},re.expr.filters.visible=function(e){return!re.expr.filters.hidden(e)};var zt=/%20/g,It=/\[\]$/,Ut=/\r?\n/g,Xt=/^(?:submit|button|image|reset|file)$/i,Qt=/^(?:input|select|textarea|keygen)/i;re.param=function(e,t){var n,r=[],i=function(e,t){t=re.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=re.ajaxSettings&&re.ajaxSettings.traditional),re.isArray(e)||e.jquery&&!re.isPlainObject(e))re.each(e,function(){i(this.name,this.value)});else for(n in e)I(n,e[n],t,i);return r.join("&").replace(zt,"+")},re.fn.extend({serialize:function(){return re.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=re.prop(this,"elements");return e?re.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!re(this).is(":disabled")&&Qt.test(this.nodeName)&&!Xt.test(e)&&(this.checked||!qe.test(e))}).map(function(e,t){var n=re(this).val();return null==n?null:re.isArray(n)?re.map(n,function(e){return{name:t.name,value:e.replace(Ut,"\r\n")}}):{name:t.name,value:n.replace(Ut,"\r\n")}}).get()}}),re.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&U()||X()}:U;var Vt=0,Gt={},Jt=re.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Gt)Gt[e](void 0,!0)}),ne.cors=!!Jt&&"withCredentials"in Jt,Jt=ne.ajax=!!Jt,Jt&&re.ajaxTransport(function(e){if(!e.crossDomain||ne.cors){var t;return{send:function(n,r){var i,o=e.xhr(),a=++Vt;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)void 0!==n[i]&&o.setRequestHeader(i,n[i]+"");o.send(e.hasContent&&e.data||null),t=function(n,i){var s,u,l;if(t&&(i||4===o.readyState))if(delete Gt[a],t=void 0,o.onreadystatechange=re.noop,i)4!==o.readyState&&o.abort();else{l={},s=o.status,"string"==typeof o.responseText&&(l.text=o.responseText);try{u=o.statusText}catch(e){u=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=l.text?200:404}l&&r(s,u,l,o.getAllResponseHeaders())},e.async?4===o.readyState?setTimeout(t):o.onreadystatechange=Gt[a]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),re.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return re.globalEval(e),e}}}),re.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),re.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=pe.head||re("head")[0]||pe.documentElement;return{send:function(r,i){t=pe.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||i(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var Yt=[],Kt=/(=)\?(?=&|$)|\?\?/;re.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Yt.pop()||re.expando+"_"+qt++;return this[e]=!0,e}}),re.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=!1!==t.jsonp&&(Kt.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Kt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=re.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Kt,"$1"+i):!1!==t.jsonp&&(t.url+=(jt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||re.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Yt.push(i)),a&&re.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),re.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||pe;var r=ce.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=re.buildFragment([e],t,i),i&&i.length&&re(i).remove(),re.merge([],r.childNodes))};var Zt=re.fn.load;re.fn.load=function(e,t,n){if("string"!=typeof e&&Zt)return Zt.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>=0&&(r=re.trim(e.slice(s,e.length)),e=e.slice(0,s)),re.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&re.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){i=arguments,a.html(r?re("<div>").append(re.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){a.each(n,i||[e.responseText,t,e])}),this},re.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){re.fn[t]=function(e){return this.on(t,e)}}),re.expr.filters.animated=function(e){return re.grep(re.timers,function(t){return e===t.elem}).length};var en=e.document.documentElement;re.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l,c=re.css(e,"position"),d=re(e),f={};"static"===c&&(e.style.position="relative"),s=d.offset(),o=re.css(e,"top"),u=re.css(e,"left"),l=("absolute"===c||"fixed"===c)&&re.inArray("auto",[o,u])>-1,l?(r=d.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),re.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):d.css(f)}},re.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){re.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},i=this[0],o=i&&i.ownerDocument;if(o)return t=o.documentElement,re.contains(t,i)?(typeof i.getBoundingClientRect!==we&&(r=i.getBoundingClientRect()),n=Q(o),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===re.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),re.nodeName(e[0],"html")||(n=e.offset()),n.top+=re.css(e[0],"borderTopWidth",!0),n.left+=re.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-re.css(r,"marginTop",!0),left:t.left-n.left-re.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||en;e&&!re.nodeName(e,"html")&&"static"===re.css(e,"position");)e=e.offsetParent;return e||en})}}),re.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);re.fn[e]=function(r){return Se(this,function(e,r,i){var o=Q(e);if(void 0===i)return o?t in o?o[t]:o.document.documentElement[r]:e[r];o?o.scrollTo(n?re(o).scrollLeft():i,n?i:re(o).scrollTop()):e[r]=i},e,r,arguments.length,null)}}),re.each(["top","left"],function(e,t){re.cssHooks[t]=N(ne.pixelPosition,function(e,n){if(n)return n=Ze(e,t),tt.test(n)?re(e).position()[t]+"px":n})}),re.each({Height:"height",Width:"width"},function(e,t){re.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){re.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===i?"margin":"border");return Se(this,function(t,n,r){var i;return re.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,
Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?re.css(t,n,a):re.style(t,n,r,a)},t,o?r:void 0,o,null)}})}),re.fn.size=function(){return this.length},re.fn.andSelf=re.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return re});var tn=e.jQuery,nn=e.$;return re.noConflict=function(t){return e.$===re&&(e.$=nn),t&&e.jQuery===re&&(e.jQuery=tn),re},typeof t===we&&(e.jQuery=e.$=re),re});var requirejs,require,define;!function(global){function commentReplace(e,t,n,r){return r||""}function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e){var n;for(n=0;n<e.length&&(!e[n]||!t(e[n],n,e));n+=1);}}function eachReverse(e,t){if(e){var n;for(n=e.length-1;n>-1&&(!e[n]||!t(e[n],n,e));n-=1);}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(e,t,n,r){return t&&eachProp(t,function(t,i){!n&&hasProp(e,i)||(!r||"object"!=typeof t||!t||isArray(t)||isFunction(t)||t instanceof RegExp?e[i]=t:(e[i]||(e[i]={}),mixin(e[i],t,n,r)))}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,r){var i=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return i.requireType=e,i.requireModules=r,n&&(i.originalError=n),i}function newContext(e){function t(e){var t,n;for(t=0;t<e.length;t++)if("."===(n=e[t]))e.splice(t,1),t-=1;else if(".."===n){if(0===t||1===t&&".."===e[2]||".."===e[t-1])continue;t>0&&(e.splice(t-1,2),t-=2)}}function n(e,n,r){var i,o,a,s,u,l,c,d,f,p,h,m=n&&n.split("/"),g=E.map,v=g&&g["*"];if(e&&(e=e.split("/"),l=e.length-1,E.nodeIdCompat&&jsSuffixRegExp.test(e[l])&&(e[l]=e[l].replace(jsSuffixRegExp,"")),"."===e[0].charAt(0)&&m&&(h=m.slice(0,m.length-1),e=h.concat(e)),t(e),e=e.join("/")),r&&g&&(m||v)){o=e.split("/");e:for(a=o.length;a>0;a-=1){if(u=o.slice(0,a).join("/"),m)for(s=m.length;s>0;s-=1)if((i=getOwn(g,m.slice(0,s).join("/")))&&(i=getOwn(i,u))){c=i,d=a;break e}!f&&v&&getOwn(v,u)&&(f=getOwn(v,u),p=a)}!c&&f&&(c=f,d=p),c&&(o.splice(0,d,c),e=o.join("/"))}return getOwn(E.pkgs,e)||e}function r(e){isBrowser&&each(scripts(),function(t){if(t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===x.contextName)return t.parentNode.removeChild(t),!0})}function i(e){var t=getOwn(E.paths,e);if(t&&isArray(t)&&t.length>1)return t.shift(),x.require.undef(e),x.makeRequire(null,{skipMap:!0})([e]),!0}function o(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function a(e,t,r,i){var a,s,u,l,c=null,d=t?t.name:null,f=e,p=!0,h="";return e||(p=!1,e="_@r"+(D+=1)),l=o(e),c=l[0],e=l[1],c&&(c=n(c,d,i),s=getOwn(q,c)),e&&(c?h=s&&s.normalize?s.normalize(e,function(e){return n(e,d,i)}):-1===e.indexOf("!")?n(e,d,i):e:(h=n(e,d,i),l=o(h),c=l[0],h=l[1],r=!0,a=x.nameToUrl(h))),u=!c||s||r?"":"_unnormalized"+(L+=1),{prefix:c,name:h,parentMap:t,unnormalized:!!u,url:a,originalName:f,isDefine:p,id:(c?c+"!"+h:h)+u}}function s(e){var t=e.id,n=getOwn(C,t);return n||(n=C[t]=new x.Module(e)),n}function u(e,t,n){var r=e.id,i=getOwn(C,r);!hasProp(q,r)||i&&!i.defineEmitComplete?(i=s(e),i.error&&"error"===t?n(i.error):i.on(t,n)):"defined"===t&&n(q[r])}function l(e,t){var n=e.requireModules,r=!1;t?t(e):(each(n,function(t){var n=getOwn(C,t);n&&(n.error=e,n.events.error&&(r=!0,n.emit("error",e)))}),r||req.onError(e))}function c(){globalDefQueue.length&&(each(globalDefQueue,function(e){var t=e[0];"string"==typeof t&&(x.defQueueMap[t]=!0),S.push(e)}),globalDefQueue=[])}function d(e){delete C[e],delete k[e]}function f(e,t,n){var r=e.map.id;e.error?e.emit("error",e.error):(t[r]=!0,each(e.depMaps,function(r,i){var o=r.id,a=getOwn(C,o);!a||e.depMatched[i]||n[o]||(getOwn(t,o)?(e.defineDep(i,q[o]),e.check()):f(a,t,n))}),n[r]=!0)}function p(){var e,t,n=1e3*E.waitSeconds,o=n&&x.startTime+n<(new Date).getTime(),a=[],s=[],u=!1,c=!0;if(!y){if(y=!0,eachProp(k,function(e){var n=e.map,l=n.id;if(e.enabled&&(n.isDefine||s.push(e),!e.error))if(!e.inited&&o)i(l)?(t=!0,u=!0):(a.push(l),r(l));else if(!e.inited&&e.fetched&&n.isDefine&&(u=!0,!n.prefix))return c=!1}),o&&a.length)return e=makeError("timeout","Load timeout for modules: "+a,null,a),e.contextName=x.contextName,l(e);c&&each(s,function(e){f(e,{},{})}),o&&!t||!u||!isBrowser&&!isWebWorker||T||(T=setTimeout(function(){T=0,p()},50)),y=!1}}function h(e){hasProp(q,e[0])||s(a(e[0],null,!0)).init(e[1],e[2])}function m(e,t,n,r){e.detachEvent&&!isOpera?r&&e.detachEvent(r,t):e.removeEventListener(n,t,!1)}function g(e){var t=e.currentTarget||e.srcElement;return m(t,x.onScriptLoad,"load","onreadystatechange"),m(t,x.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function v(){var e;for(c();S.length;){if(e=S.shift(),null===e[0])return l(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));h(e)}x.defQueueMap={}}var y,b,x,w,T,E={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},C={},k={},N={},S=[],q={},j={},A={},D=1,L=1;return w={require:function(e){return e.require?e.require:e.require=x.makeRequire(e.map)},exports:function(e){if(e.usingExports=!0,e.map.isDefine)return e.exports?q[e.map.id]=e.exports:e.exports=q[e.map.id]={}},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(E.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},b=function(e){this.events=getOwn(N,e.id)||{},this.map=e,this.shim=getOwn(E.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},b.prototype={init:function(e,t,n,r){r=r||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=r.ignore,r.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,x.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();x.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()}))}},load:function(){var e=this.map.url;j[e]||(j[e]=!0,x.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,n=this.map.id,r=this.depExports,i=this.exports,o=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(o)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{i=x.execCb(n,o,r,i)}catch(t){e=t}else i=x.execCb(n,o,r,i);if(this.map.isDefine&&void 0===i&&(t=this.module,t?i=t.exports:this.usingExports&&(i=this.exports)),e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",l(this.error=e)}else i=o;if(this.exports=i,this.map.isDefine&&!this.ignore&&(q[n]=i,req.onResourceLoad)){var a=[];each(this.depMaps,function(e){a.push(e.normalizedMap||e)}),req.onResourceLoad(x,this.map,a)}d(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else hasProp(x.defQueueMap,n)||this.fetch()}},callPlugin:function(){var e=this.map,t=e.id,r=a(e.prefix);this.depMaps.push(r),u(r,"defined",bind(this,function(r){var i,o,c,f=getOwn(A,this.map.id),p=this.map.name,h=this.map.parentMap?this.map.parentMap.name:null,m=x.makeRequire(e.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(r.normalize&&(p=r.normalize(p,function(e){return n(e,h,!0)})||""),o=a(e.prefix+"!"+p,this.map.parentMap),u(o,"defined",bind(this,function(e){this.map.normalizedMap=o,this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),void((c=getOwn(C,o.id))&&(this.depMaps.push(o),this.events.error&&c.on("error",bind(this,function(e){this.emit("error",e)})),c.enable()))):f?(this.map.url=x.nameToUrl(f),void this.load()):(i=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),i.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(C,function(e){0===e.map.id.indexOf(t+"_unnormalized")&&d(e.map.id)}),l(e)}),i.fromText=bind(this,function(n,r){var o=e.name,u=a(o),c=useInteractive;r&&(n=r),c&&(useInteractive=!1),s(u),hasProp(E.config,t)&&(E.config[o]=E.config[t]);try{req.exec(n)}catch(e){return l(makeError("fromtexteval","fromText eval for "+t+" failed: "+e,e,[t]))}c&&(useInteractive=!0),this.depMaps.push(u),x.completeLoad(o),m([o],i)}),void r.load(e.name,m,i,E))})),x.enable(r,this),this.pluginMaps[r.id]=r},enable:function(){k[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,r,i;if("string"==typeof e){if(e=a(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,i=getOwn(w,e.id))return void(this.depExports[t]=i(this));this.depCount+=1,u(e,"defined",bind(this,function(e){this.undefed||(this.defineDep(t,e),this.check())})),this.errback?u(e,"error",bind(this,this.errback)):this.events.error&&u(e,"error",bind(this,function(e){this.emit("error",e)}))}n=e.id,r=C[n],hasProp(w,n)||!r||r.enabled||x.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(C,e.id);t&&!t.enabled&&x.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},x={config:E,contextName:e,registry:C,defined:q,urlFetched:j,defQueue:S,defQueueMap:{},Module:b,makeModuleMap:a,nextTick:req.nextTick,onError:l,configure:function(e){if(e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/"),"string"==typeof e.urlArgs){var t=e.urlArgs;e.urlArgs=function(e,n){return(-1===n.indexOf("?")?"?":"&")+t}}var n=E.shim,r={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){r[t]?(E[t]||(E[t]={}),mixin(E[t],e,!0,!0)):E[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(A[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=x.makeShimExports(e)),n[t]=e}),E.shim=n),e.packages&&each(e.packages,function(e){var t,n;e="string"==typeof e?{name:e}:e,n=e.name,t=e.location,t&&(E.paths[n]=e.location),E.pkgs[n]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(C,function(e,t){e.inited||e.map.unnormalized||(e.map=a(t,null,!0))}),(e.deps||e.callback)&&x.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,i){function o(n,r,u){var c,d,f;return i.enableBuildCallback&&r&&isFunction(r)&&(r.__requireJsBuild=!0),"string"==typeof n?isFunction(r)?l(makeError("requireargs","Invalid require call"),u):t&&hasProp(w,n)?w[n](C[t.id]):req.get?req.get(x,n,t,o):(d=a(n,t,!1,!0),c=d.id,hasProp(q,c)?q[c]:l(makeError("notloaded",'Module name "'+c+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(v(),x.nextTick(function(){v(),f=s(a(null,t)),f.skipMap=i.skipMap,f.init(n,r,u,{enabled:!0}),p()}),o)}return i=i||{},mixin(o,{isBrowser:isBrowser,toUrl:function(e){var r,i=e.lastIndexOf("."),o=e.split("/")[0],a="."===o||".."===o;return-1!==i&&(!a||i>1)&&(r=e.substring(i,e.length),e=e.substring(0,i)),x.nameToUrl(n(e,t&&t.id,!0),r,!0)},defined:function(e){return hasProp(q,a(e,t,!1,!0).id)},specified:function(e){return e=a(e,t,!1,!0).id,hasProp(q,e)||hasProp(C,e)}}),t||(o.undef=function(e){c();var n=a(e,t,!0),i=getOwn(C,e);i.undefed=!0,r(e),delete q[e],delete j[n.url],delete N[e],eachReverse(S,function(t,n){t[0]===e&&S.splice(n,1)}),delete x.defQueueMap[e],i&&(i.events.defined&&(N[e]=i.events),d(e))}),o},enable:function(e){getOwn(C,e.id)&&s(e).enable()},completeLoad:function(e){var t,n,r,o=getOwn(E.shim,e)||{},a=o.exports;for(c();S.length;){if(n=S.shift(),null===n[0]){if(n[0]=e,t)break;t=!0}else n[0]===e&&(t=!0);h(n)}if(x.defQueueMap={},r=getOwn(C,e),!t&&!hasProp(q,e)&&r&&!r.inited){if(!(!E.enforceDefine||a&&getGlobal(a)))return i(e)?void 0:l(makeError("nodefine","No define call for "+e,null,[e]));h([e,o.deps||[],o.exportsFn])}p()},nameToUrl:function(e,t,n){var r,i,o,a,s,u,l,c=getOwn(E.pkgs,e);if(c&&(e=c),l=getOwn(A,e))return x.nameToUrl(l,t,n);if(req.jsExtRegExp.test(e))s=e+(t||"");else{for(r=E.paths,i=e.split("/"),o=i.length;o>0;o-=1)if(a=i.slice(0,o).join("/"),u=getOwn(r,a)){isArray(u)&&(u=u[0]),i.splice(0,o,u);break}s=i.join("/"),s+=t||(/^data\:|^blob\:|\?/.test(s)||n?"":".js"),s=("/"===s.charAt(0)||s.match(/^[\w\+\.\-]+:/)?"":E.baseUrl)+s}return E.urlArgs&&!/^blob\:/.test(s)?s+E.urlArgs(e,s):s},load:function(e,t){req.load(x,e,t)},execCb:function(e,t,n,r){return t.apply(r,n)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=g(e);x.completeLoad(t.id)}},onScriptError:function(e){var t=g(e);if(!i(t.id)){var n=[];return eachProp(C,function(e,r){0!==r.indexOf("_@r")&&each(e.depMaps,function(e){if(e.id===t.id)return n.push(r),!0})}),l(makeError("scripterror",'Script error for "'+t.id+(n.length?'", needed by: '+n.join(", "):'"'),e,[t.id]))}}},x.require=x.makeRequire(),x}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(e){if("interactive"===e.readyState)return interactiveScript=e}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.2.0",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if(void 0===define){if(void 0!==requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}void 0===require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,n,r){var i,o,a=defContextName;return isArray(e)||"string"==typeof e||(o=e,isArray(t)?(e=t,t=n,n=r):e=[]),o&&o.context&&(a=o.context),i=getOwn(contexts,a),i||(i=contexts[a]=req.s.newContext(a)),o&&i.configure(o),i.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],(baseElement=document.getElementsByTagName("base")[0])&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e,t,n){var r=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return r.type=e.scriptType||"text/javascript",r.charset="utf-8",r.async=!0,r},req.load=function(e,t,n){var r,i=e&&e.config||{};if(isBrowser)return r=req.createNode(i,t,n),r.setAttribute("data-requirecontext",e.contextName),r.setAttribute("data-requiremodule",t),!r.attachEvent||r.attachEvent.toString&&r.attachEvent.toString().indexOf("[native code")<0||isOpera?(r.addEventListener("load",e.onScriptLoad,!1),r.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,r.attachEvent("onreadystatechange",e.onScriptLoad)),r.src=n,i.onNodeCreated&&i.onNodeCreated(r,i,t,n),currentlyAddingScript=r,baseElement?head.insertBefore(r,baseElement):head.appendChild(r),currentlyAddingScript=null,r;if(isWebWorker)try{setTimeout(function(){},0),importScripts(n),e.completeLoad(t)}catch(r){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+n,r,[t]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){if(head||(head=e.parentNode),dataMain=e.getAttribute("data-main"))return mainScript=dataMain,cfg.baseUrl||-1!==mainScript.indexOf("!")||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(e,t,n){var r,i;"string"!=typeof e&&(n=t,t=e,e=null),isArray(t)||(n=t,t=null),!t&&isFunction(n)&&(t=[],n.length&&(n.toString().replace(commentRegExp,commentReplace).replace(cjsRequireRegExp,function(e,n){t.push(n)}),t=(1===n.length?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(r=currentlyAddingScript||getInteractiveScript())&&(e||(e=r.getAttribute("data-requiremodule")),i=contexts[r.getAttribute("data-requirecontext")]),i?(i.defQueue.push([e,t,n]),i.defQueueMap[e]=!0):globalDefQueue.push([e,t,n])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this),define("jquery",[],function(){"use strict";return window.$}),require.config({waitSeconds:7,baseUrl:"https://as.ftcdn.net/v1/js",paths:{store:["app/store/store.prod"]}}),require.config({paths:{text:"vendor/requirejs/text",hbs:"vendor/handlebars/hbs",i18n:"vendor/jed/jed",redux:"vendor/redux/redux.min","i18n-config":"i18n-config",lodash:"vendor/lodash/lodash",anyware:"vendor/misc/anyware.min",daterangepicker:"vendor/bootstrap-daterangepicker/daterangepicker",coreComponents:"vendor/core-components-js",stockWebIngest:"vendor/stock-web-ingest/dist/stock.ingest",croppie:"vendor/croppie/croppie",noUiSlider:"vendor/nouislider/distribute/nouislider.min"},hbars:{extension:".hbs"}}),define("momentLocale",["moment"],function(){}),define("/tmp/phpDw1Ly4",function(){});define("page_config",["jquery"],function(e){"use strict";return JSON.parse(e("#js-page-config").text())}),function(){function e(e,t){for(var n=-1,a=null==e?0:e.length,i=0,s=[];++n<a;){var r=e[n];t(r,n,e)&&(s[i++]=r)}return s}function t(e,t){for(var n=-1,a=null==e?0:e.length,i=Array(a);++n<a;)i[n]=t(e[n],n,e);return i}function n(e,t){for(var n=-1,a=t.length,i=e.length;++n<a;)e[i+n]=t[n];return e}function a(e,t){for(var n=-1,a=null==e?0:e.length;++n<a;)if(t(e[n],n,e))return!0;return!1}function i(e,t){for(var n=-1,a=Array(e);++n<e;)a[n]=t(n);return a}function s(e,t){return e.has(t)}function r(e,t){return null==e?Re:e[t]}function o(e){var t=-1,n=Array(e.size);return e.forEach(function(e,a){n[++t]=[a,e]}),n}function l(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function c(){}function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}function d(){this.__data__=Zt?Zt(null):{},this.size=0}function p(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function h(e){var t=this.__data__;if(Zt){var n=t[e];return n===De?Re:n}return Dt.call(t,e)?t[e]:Re}function f(e){var t=this.__data__;return Zt?t[e]!==Re:Dt.call(t,e)}function _(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Zt&&t===Re?De:t,this}function m(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}function E(){this.__data__=[],this.size=0}function g(e){var t=this.__data__,n=U(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ut.call(t,n,1),--this.size,!0)}function v(e){var t=this.__data__,n=U(t,e);return n<0?Re:t[n][1]}function b(e){return U(this.__data__,e)>-1}function T(e,t){var n=this.__data__,a=U(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}function I(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}function S(){this.size=0,this.__data__={hash:new u,map:new(Wt||m),string:new u}}function y(e){var t=ee(this,e).delete(e);return this.size-=t?1:0,t}function A(e){return ee(this,e).get(e)}function O(e){return ee(this,e).has(e)}function R(e,t){var n=ee(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}function C(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new I;++t<n;)this.add(e[t])}function L(e){return this.__data__.set(e,De),this}function D(e){return this.__data__.has(e)}function N(e){var t=this.__data__=new m(e);this.size=t.size}function P(){this.__data__=new m,this.size=0}function M(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function w(e){return this.__data__.get(e)}function x(e){return this.__data__.has(e)}function k(e,t){var n=this.__data__;if(n instanceof m){var a=n.__data__;if(!Wt||a.length<Ce-1)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new I(a)}return n.set(e,t),this.size=n.size,this}function F(e,t){var n=dn(e),a=!n&&un(e),s=!n&&!a&&pn(e),r=!n&&!a&&!s&&hn(e),o=n||a||s||r,l=o?i(e.length,String):[],c=l.length;for(var u in e)!t&&!Dt.call(e,u)||o&&("length"==u||s&&("offset"==u||"parent"==u)||r&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ae(u,c))||l.push(u);return l}function U(e,t){for(var n=e.length;n--;)if(he(e[n][0],t))return n;return-1}function H(e,t){t=Q(t,e);for(var n=0,a=t.length;null!=e&&n<a;)e=e[ce(t[n++])];return n&&n==a?e:Re}function j(e,t,a){var i=t(e);return dn(e)?i:n(i,a(e))}function V(e){return null==e?e===Re?et:Ke:Ht&&Ht in Object(e)?ne(e):le(e)}function Y(e){return ve(e)&&V(e)==Fe}function G(e,t,n,a,i){return e===t||(null==e||null==t||!ve(e)&&!ve(t)?e!==e&&t!==t:B(e,t,n,a,G,i))}function B(e,t,n,a,i,s){var r=dn(e),o=dn(t),l=r?Ue:on(e),c=o?Ue:on(t);l=l==Fe?ze:l,c=c==Fe?ze:c;var u=l==ze,d=c==ze,p=l==c;if(p&&pn(e)){if(!pn(t))return!1;r=!0,u=!1}if(p&&!u)return s||(s=new N),r||hn(e)?Z(e,t,n,a,i,s):X(e,t,l,n,a,i,s);if(!(n&Pe)){var h=u&&Dt.call(e,"__wrapped__"),f=d&&Dt.call(t,"__wrapped__");if(h||f){var _=h?e.value():e,m=f?t.value():t;return s||(s=new N),i(_,m,n,a,s)}}return!!p&&(s||(s=new N),$(e,t,n,a,i,s))}function q(e){return!(!ge(e)||re(e))&&(me(e)?Mt:dt).test(ue(e))}function W(e){return ve(e)&&Ee(e.length)&&!!ft[V(e)]}function K(e){if(!oe(e))return Yt(e);var t=[];for(var n in Object(e))Dt.call(e,n)&&"constructor"!=n&&t.push(n);return t}function z(e){if("string"==typeof e)return e;if(dn(e))return t(e,z)+"";if(be(e))return sn?sn.call(e):"";var n=e+"";return"0"==n&&1/e==-we?"-0":n}function Q(e,t){return dn(e)?e:ie(e,t)?[e]:ln(Ie(e))}function Z(e,t,n,i,r,o){var l=n&Pe,c=e.length,u=t.length;if(c!=u&&!(l&&u>c))return!1;var d=o.get(e);if(d&&o.get(t))return d==t;var p=-1,h=!0,f=n&Me?new C:Re;for(o.set(e,t),o.set(t,e);++p<c;){var _=e[p],m=t[p];if(i)var E=l?i(m,_,p,t,e,o):i(_,m,p,e,t,o);if(E!==Re){if(E)continue;h=!1;break}if(f){if(!a(t,function(e,t){if(!s(f,t)&&(_===e||r(_,e,n,i,o)))return f.push(t)})){h=!1;break}}else if(_!==m&&!r(_,m,n,i,o)){h=!1;break}}return o.delete(e),o.delete(t),h}function X(e,t,n,a,i,s,r){switch(n){case nt:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case tt:return!(e.byteLength!=t.byteLength||!s(new kt(e),new kt(t)));case je:case Ve:case We:return he(+e,+t);case Ye:return e.name==t.name&&e.message==t.message;case Ze:case $e:return e==t+"";case qe:var c=o;case Xe:var u=a&Pe;if(c||(c=l),e.size!=t.size&&!u)return!1;var d=r.get(e);if(d)return d==t;a|=Me,r.set(e,t);var p=Z(c(e),c(t),a,i,s,r);return r.delete(e),p;case Je:if(an)return an.call(e)==an.call(t)}return!1}function $(e,t,n,a,i,s){var r=n&Pe,o=J(e),l=o.length;if(l!=J(t).length&&!r)return!1;for(var c=l;c--;){var u=o[c];if(!(r?u in t:Dt.call(t,u)))return!1}var d=s.get(e);if(d&&s.get(t))return d==t;var p=!0;s.set(e,t),s.set(t,e);for(var h=r;++c<l;){u=o[c];var f=e[u],_=t[u];if(a)var m=r?a(_,f,u,t,e,s):a(f,_,u,e,t,s);if(!(m===Re?f===_||i(f,_,n,a,s):m)){p=!1;break}h||(h="constructor"==u)}if(p&&!h){var E=e.constructor,g=t.constructor;E!=g&&"constructor"in e&&"constructor"in t&&!("function"==typeof E&&E instanceof E&&"function"==typeof g&&g instanceof g)&&(p=!1)}return s.delete(e),s.delete(t),p}function J(e){return j(e,ye,rn)}function ee(e,t){var n=e.__data__;return se(t)?n["string"==typeof t?"string":"hash"]:n.map}function te(e,t){var n=r(e,t);return q(n)?n:Re}function ne(e){var t=Dt.call(e,Ht),n=e[Ht];try{e[Ht]=Re;var a=!0}catch(e){}var i=Pt.call(e);return a&&(t?e[Ht]=n:delete e[Ht]),i}function ae(e,t){var n=typeof e;return!!(t=null==t?xe:t)&&("number"==n||"symbol"!=n&&ht.test(e))&&e>-1&&e%1==0&&e<t}function ie(e,t){if(dn(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!be(e))||(it.test(e)||!at.test(e)||null!=t&&e in Object(t))}function se(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function re(e){return!!Nt&&Nt in e}function oe(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Rt)}function le(e){return Pt.call(e)}function ce(e){if("string"==typeof e||be(e))return e;var t=e+"";return"0"==t&&1/e==-we?"-0":t}function ue(e){if(null!=e){try{return Lt.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function de(e,t,n){function a(t){var n=p,a=h;return p=h=Re,g=t,_=e.apply(a,n)}function i(e){return g=e,m=setTimeout(o,t),v?a(e):_}function s(e){var n=e-E,a=e-g,i=t-n;return b?Bt(i,f-a):i}function r(e){var n=e-E,a=e-g;return E===Re||n>=t||n<0||b&&a>=f}function o(){var e=cn();if(r(e))return l(e);m=setTimeout(o,s(e))}function l(e){return m=Re,T&&p?a(e):(p=h=Re,_)}function c(){m!==Re&&clearTimeout(m),g=0,p=E=h=m=Re}function u(){return m===Re?_:l(cn())}function d(){var e=cn(),n=r(e);if(p=arguments,h=this,E=e,n){if(m===Re)return i(E);if(b)return m=setTimeout(o,t),a(E)}return m===Re&&(m=setTimeout(o,t)),_}var p,h,f,_,m,E,g=0,v=!1,b=!1,T=!0;if("function"!=typeof e)throw new TypeError(Le);return t=Te(t)||0,ge(n)&&(v=!!n.leading,b="maxWait"in n,f=b?Gt(Te(n.maxWait)||0,t):f,T="trailing"in n?!!n.trailing:T),d.cancel=c,d.flush=u,d}function pe(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(Le);var n=function(){var a=arguments,i=t?t.apply(this,a):a[0],s=n.cache;if(s.has(i))return s.get(i);var r=e.apply(this,a);return n.cache=s.set(i,r)||s,r};return n.cache=new(pe.Cache||I),n}function he(e,t){return e===t||e!==e&&t!==t}function fe(e){return null!=e&&Ee(e.length)&&!me(e)}function _e(e,t){return G(e,t)}function me(e){if(!ge(e))return!1;var t=V(e);return t==Ge||t==Be||t==He||t==Qe}function Ee(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=xe}function ge(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ve(e){return null!=e&&"object"==typeof e}function be(e){return"symbol"==typeof e||ve(e)&&V(e)==Je}function Te(e){if("number"==typeof e)return e;if(be(e))return ke;if(ge(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ge(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(ot,"");var n=ut.test(e);return n||pt.test(e)?_t(e.slice(2),n?2:8):ct.test(e)?ke:+e}function Ie(e){return null==e?"":z(e)}function Se(e,t,n){var a=null==e?Re:H(e,t);return a===Re?n:a}function ye(e){return fe(e)?F(e):K(e)}function Ae(){return[]}function Oe(){return!1}var Re,Ce=200,Le="Expected a function",De="__lodash_hash_undefined__",Ne=500,Pe=1,Me=2,we=1/0,xe=9007199254740991,ke=NaN,Fe="[object Arguments]",Ue="[object Array]",He="[object AsyncFunction]",je="[object Boolean]",Ve="[object Date]",Ye="[object Error]",Ge="[object Function]",Be="[object GeneratorFunction]",qe="[object Map]",We="[object Number]",Ke="[object Null]",ze="[object Object]",Qe="[object Proxy]",Ze="[object RegExp]",Xe="[object Set]",$e="[object String]",Je="[object Symbol]",et="[object Undefined]",tt="[object ArrayBuffer]",nt="[object DataView]",at=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,it=/^\w*$/,st=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rt=/[\\^$.*+?()[\]{}|]/g,ot=/^\s+|\s+$/g,lt=/\\(\\)?/g,ct=/^[-+]0x[0-9a-f]+$/i,ut=/^0b[01]+$/i,dt=/^\[object .+?Constructor\]$/,pt=/^0o[0-7]+$/i,ht=/^(?:0|[1-9]\d*)$/,ft={};ft["[object Float32Array]"]=ft["[object Float64Array]"]=ft["[object Int8Array]"]=ft["[object Int16Array]"]=ft["[object Int32Array]"]=ft["[object Uint8Array]"]=ft["[object Uint8ClampedArray]"]=ft["[object Uint16Array]"]=ft["[object Uint32Array]"]=!0,ft[Fe]=ft[Ue]=ft[tt]=ft[je]=ft[nt]=ft[Ve]=ft[Ye]=ft[Ge]=ft[qe]=ft[We]=ft[ze]=ft[Ze]=ft[Xe]=ft[$e]=ft["[object WeakMap]"]=!1;var _t=parseInt,mt="object"==typeof global&&global&&global.Object===Object&&global,Et="object"==typeof self&&self&&self.Object===Object&&self,gt=mt||Et||Function("return this")(),vt="object"==typeof exports&&exports&&!exports.nodeType&&exports,bt=vt&&"object"==typeof module&&module&&!module.nodeType&&module,Tt=bt&&bt.exports===vt,It=Tt&&mt.process,St=function(){try{return It&&It.binding&&It.binding("util")}catch(e){}}(),yt=St&&St.isTypedArray,At=Array.prototype,Ot=Function.prototype,Rt=Object.prototype,Ct=gt["__core-js_shared__"],Lt=Ot.toString,Dt=Rt.hasOwnProperty,Nt=function(){var e=/[^.]+$/.exec(Ct&&Ct.keys&&Ct.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Pt=Rt.toString,Mt=RegExp("^"+Lt.call(Dt).replace(rt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wt=Tt?gt.Buffer:Re,xt=gt.Symbol,kt=gt.Uint8Array,Ft=Rt.propertyIsEnumerable,Ut=At.splice,Ht=xt?xt.toStringTag:Re,jt=Object.getOwnPropertySymbols,Vt=wt?wt.isBuffer:Re,Yt=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),Gt=Math.max,Bt=Math.min,qt=te(gt,"DataView"),Wt=te(gt,"Map"),Kt=te(gt,"Promise"),zt=te(gt,"Set"),Qt=te(gt,"WeakMap"),Zt=te(Object,"create"),Xt=ue(qt),$t=ue(Wt),Jt=ue(Kt),en=ue(zt),tn=ue(Qt),nn=xt?xt.prototype:Re,an=nn?nn.valueOf:Re,sn=nn?nn.toString:Re;u.prototype.clear=d,u.prototype.delete=p,u.prototype.get=h,u.prototype.has=f,u.prototype.set=_,m.prototype.clear=E,m.prototype.delete=g,m.prototype.get=v,m.prototype.has=b,m.prototype.set=T,I.prototype.clear=S,I.prototype.delete=y,I.prototype.get=A,I.prototype.has=O,I.prototype.set=R,C.prototype.add=C.prototype.push=L,C.prototype.has=D,N.prototype.clear=P,N.prototype.delete=M,N.prototype.get=w,N.prototype.has=x,N.prototype.set=k;var rn=jt?function(t){return null==t?[]:(t=Object(t),e(jt(t),function(e){return Ft.call(t,e)}))}:Ae,on=V;(qt&&on(new qt(new ArrayBuffer(1)))!=nt||Wt&&on(new Wt)!=qe||Kt&&"[object Promise]"!=on(Kt.resolve())||zt&&on(new zt)!=Xe||Qt&&"[object WeakMap]"!=on(new Qt))&&(on=function(e){var t=V(e),n=t==ze?e.constructor:Re,a=n?ue(n):"";if(a)switch(a){case Xt:return nt;case $t:return qe;case Jt:return"[object Promise]";case en:return Xe;case tn:return"[object WeakMap]"}return t});var ln=function(e){var t=pe(e,function(e){return n.size===Ne&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(st,function(e,n,a,i){t.push(a?i.replace(lt,"$1"):n||e)}),t}),cn=function(){return gt.Date.now()};pe.Cache=I;var un=Y(function(){return arguments}())?Y:function(e){return ve(e)&&Dt.call(e,"callee")&&!Ft.call(e,"callee")},dn=Array.isArray,pn=Vt||Oe,hn=yt?function(e){return function(t){return e(t)}}(yt):W;c.debounce=de,c.keys=ye,c.memoize=pe,c.eq=he,c.get=Se,c.isArguments=un,c.isArray=dn,c.isArrayLike=fe,c.isBuffer=pn,c.isEqual=_e,c.isFunction=me,c.isLength=Ee,c.isObject=ge,c.isObjectLike=ve,c.isSymbol=be,c.isTypedArray=hn,c.stubArray=Ae,c.stubFalse=Oe,c.now=cn,c.toNumber=Te,c.toString=Ie,c.VERSION="4.17.5","function"==typeof define&&"object"==typeof define.amd&&define.amd&&define("lodash",[],function(){return c})}.call(this),define("lib/cookie",[],function(){"use strict";return function(e,t,n){if(void 0===t){var a=null;if(document.cookie&&""!==document.cookie)for(var i=document.cookie.split(";"),s=0;s<i.length;s++){var r=i[s].trim();if(r.substring(0,e.length+1)===e+"="){a=decodeURIComponent(r.substring(e.length+1));break}}return a}n=n||{},null===t&&(t="",n.expires=-1);var o="";if(n.expires&&("number"==typeof n.expires||n.expires.toUTCString)){var l;"number"==typeof n.expires?(l=new Date,l.setTime(l.getTime()+24*n.expires*60*60*1e3)):l=n.expires,o="; expires="+l.toUTCString()}var c=n.path?"; path="+n.path:"",u=n.domain?"; domain="+n.domain:"",d=n.secure?"; secure":"";document.cookie=[e,"=",encodeURIComponent(t),o,c,u,d].join("")}}),define("lib/deparam",[],function(){"use strict";return function(e,t){var n={},a={true:!0,false:!1,null:null};return e.replace(/\+/g," ").split("&").forEach(function(e){var i,s=e.split("="),r=decodeURIComponent(s[0]),o=n,l=0,c=r.split("]["),u=c.length-1;if(/\[/.test(c[0])&&/\]$/.test(c[u])?(c[u]=c[u].replace(/\]$/,""),c=c.shift().split("[").concat(c),u=c.length-1):u=0,2===s.length)if(i=decodeURIComponent(s[1]),t&&(i=i&&!isNaN(i)?+i:"undefined"===i?void 0:void 0!==a[i]?a[i]:i),u)for(l;l<=u;l++)r=""===c[l]?o.length:c[l],o=o[r]=l<u?o[r]||(c[l+1]&&isNaN(c[l+1])?{}:[]):i;else Array.isArray(n[r])?n[r].push(i):void 0!==n[r]?n[r]=[n[r],i]:n[r]=i;else r&&(n[r]=t?void 0:"")}),n}}),define("lib/window",["lib/deparam"],function(e){"use strict";return{setTimeout:function(e,t){window.setTimeout(e,t)},setInterval:function(e,t){return window.setInterval(e,t)},clearInterval:function(e){e&&window.clearInterval(e)},getLocation:function(e){return e?window.location[e]:window.location},setLocation:function(e){window.location.assign(e)},setLocationHash:function(e){window.location.hash=e},reloadLocation:function(){window.location.reload()},getPath:function(){var e=window.location;return e.pathname+e.search+e.hash},supportsReplaceState:function(){return window.history&&window.history.replaceState},replaceState:function(){this.supportsReplaceState()&&window.history.replaceState.apply(window.history,arguments)},supportsPushState:function(){return window.history&&window.history.pushState},pushState:function(){this.supportsPushState()&&window.history.pushState.apply(window.history,arguments)},getSearchObject:function(){var t=this.getLocation("search");return t?(t=t.substr(1),e(t)):{}},getOrigin:function(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")},getReferrer:function(){return document.referrer},getNumberFormat:function(e){return window.Intl?new window.Intl.NumberFormat(e):null},performance:function(){return window.performance?window.performance:null},open:function(e){return window.open(e)}}}),function(){var e,t=this,n=Array.prototype.forEach,a=Object.prototype.hasOwnProperty,i=Array.prototype.slice,s=0,r=function(){return{keys:Object.keys||function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("keys() called on a non-object");var t,n=[];for(t in e)e.hasOwnProperty(t)&&(n[n.length]=t);return n},uniqueId:function(e){var t=++s+"";return e?e+t:t},has:function(e,t){return a.call(e,t)},each:function(e,t,a){if(null!=e)if(n&&e.forEach===n)e.forEach(t,a);else if(e.length===+e.length)for(var i=0,s=e.length;i<s;i++)t.call(a,e[i],i,e);else for(var r in e)this.has(e,r)&&t.call(a,e[r],r,e)},once:function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}}}}();e={on:function(e,t,n){return l(this,"on",e,[t,n])&&t?(this._events||(this._events={}),(this._events[e]||(this._events[e]=[])).push({callback:t,context:n,ctx:n||this}),this):this},once:function(e,t,n){if(!l(this,"once",e,[t,n])||!t)return this;var a=this,i=r.once(function(){a.off(e,i),t.apply(this,arguments)});return i._callback=t,this.on(e,i,n)},off:function(e,t,n){var a,i,s,o,c,u,d,p;if(!this._events||!l(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;for(o=e?[e]:r.keys(this._events),c=0,u=o.length;c<u;c++)if(e=o[c],s=this._events[e]){if(this._events[e]=a=[],t||n)for(d=0,p=s.length;d<p;d++)i=s[d],(t&&t!==i.callback&&t!==i.callback._callback||n&&n!==i.context)&&a.push(i);a.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=i.call(arguments,1);if(!l(this,"trigger",e,t))return this;var n=this._events[e],a=this._events.all;return n&&c(n,t),a&&c(a,arguments),this},stopListening:function(e,t,n){var a=this._listeners;if(!a)return this;var i=!t&&!n;"object"==typeof t&&(n=this),e&&((a={})[e._listenerId]=e);for(var s in a)a[s].off(t,n,this),i&&delete this._listeners[s];return this}};var o=/\s+/,l=function(e,t,n,a){if(!n)return!0;if("object"==typeof n){for(var i in n)e[t].apply(e,[i,n[i]].concat(a));return!1}if(o.test(n)){for(var s=n.split(o),r=0,l=s.length;r<l;r++)e[t].apply(e,[s[r]].concat(a));return!1}return!0},c=function(e,t){var n,a=-1,i=e.length,s=t[0],r=t[1],o=t[2];switch(t.length){case 0:for(;++a<i;)(n=e[a]).callback.call(n.ctx);return;case 1:for(;++a<i;)(n=e[a]).callback.call(n.ctx,s);return;case 2:for(;++a<i;)(n=e[a]).callback.call(n.ctx,s,r);return;case 3:for(;++a<i;)(n=e[a]).callback.call(n.ctx,s,r,o);return;default:for(;++a<i;)(n=e[a]).callback.apply(n.ctx,t)}},u={listenTo:"on",listenToOnce:"once"};r.each(u,function(t,n){e[n]=function(e,n,a){return(this._listeners||(this._listeners={}))[e._listenerId||(e._listenerId=r.uniqueId("l"))]=e,"object"==typeof n&&(a=this),e[t](n,a,this),this}}),e.bind=e.on,e.unbind=e.off,e.mixin=function(e){var t=["on","once","off","trigger","stopListening","listenTo","listenToOnce","bind","unbind"];return r.each(t,function(t){e[t]=this[t]},this),e},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=e),exports.BackboneEvents=e):"function"==typeof define?define("vendor/backbone-events-standalone",[],function(){return e}):t.BackboneEvents=e}(),define("lib/uiEvents",["vendor/backbone-events-standalone"],function(e){"use strict";return e.mixin({DEFAULT_LIBRARY_UPDATED:"defaultLibraryUpdated",ENTITLEMENT_UPDATED:"entitlementUpdated",ASSET_LICENSED:"assetLicensed",ASSET_DELETED:"assetDeleted",ASSET_LICENSE_REQUEST_PENDING:"assetLicenseRequestPending",FILTER_VIDEO_ONLY:"videoOnly",NOTIFICATION_SHOW:"showHeaderNotification",DETAIL_BUTTON:{UPDATE_STATE:"licensed"},DETAILS_PANEL:{OPEN:"openDetailsPanel",CLOSE:"closeDetailsPanel"},MOSAIC_RELOADED:"reloaded.adobestock_mosaic",HOVER_MENU_ACTION_PANEL_EXPANDED:"hoverMenuActionPanel",WELCOME_BACK_MODEL_DISPLAYED:"welcomeBackModal",FOTOLIA_MIGRATION_IS_OVER:"fotoliaMigrationOver",SEARCH_RESULTS_UPDATED:"searchResultsUpdated",UPDATE_SEARCH_RESULTS_CACHE:"updateSearchResultsCache",DATE_RANGE_PICKER:{CANCEL:"dateRangePickerCancel",APPLY:"dateRangePickerApply"},BODY_CLICKED:"bodyClicked"})}),define("lib/licenseType",[],function(){"use strict";return{LICENSE_TYPE_ID_CREDITS_CORE:15,LICENSE_TYPE_ID_CREDITS_GENERIC:16,LICENSE_TYPE_ID_AGENCY_STANDARD_CREDITS:42,LICENSE_TYPE_ID_AGENCY_PREMIUM_CREDITS:44,LICENSE_TYPE_ID_AGENCY_UNIVERSAL_CREDITS:43,LICENSE_TYPE_ID_CCE_BUNDLE:53,isLicenseTypeCredit:function(e){var t=!1;switch(e){case 15:case 16:case 42:case 44:case 43:t=!0;break;default:t=!1}return t}}}),define("lib/contentDetails",["jquery","lodash"],function(e,t){"use strict";function n(e){r=e||{}}function a(e){Object.assign(r,e||{})}function i(){var t=e("#image-detail-json"),n=t.attr("data-encoded"),a=t.text();n&&(a=decodeURIComponent(a)),r=a?JSON.parse(a):{}}function s(e){var t=e||r;return Object.keys(t).map(function(e){return t[e]}).sort(function(e,t){return e.order_key-t.order_key})}var r={};return{init:i,getContentDataDic:function(){return e.isEmptyObject(r)&&i(),r},getContentData:function(e){var t=this.getContentDataDic();return t[e]?t[e]:{}},getSortedContentArray:s,getContentTypeId:function(e){var n=this.getContentData(e);return t.get(n,"content_type_id",null)},is3D:function(e){var n=this.getContentData(e);return t.get(n,"is_3D",!1)||t.get(n,"is3D",!1)},isTemplate:function(e){var n=this.getContentData(e);return t.get(n,"is_template",!1)||t.get(n,"isTemplate",!1)},isVideo:function(e){var n=this.getContentData(e);return t.get(n,"is_video",!1)||t.get(n,"isVideo",!1)},getLargestVideoSize:function(e){var t=this.getContentData(e),n=t.content_original_width,a=t.content_original_height,i=n*a,s=null;return i>=4147200?s=2160:i>=2073600&&(s=1080),s},isImage:function(e){return this.getContentData(e).is_image},isLicensed:function(e){var t=this.getContentData(e);return!(!t.is_licensed&&!t.downloaded)},isPremium:function(e){var n=this.getContentData(e);return t.get(n,"is_premium",!1)||t.get(n,"isPremium",!1)},isEditorial:function(e){var n=this.getContentData(e);return t.get(n,"is_editorial",!1)},isFree:function(e){var n=this.getContentData(e);return t.get(n,"is_free",!1)},isVector:function(e){var n=this.getContentData(e);return t.get(n,"is_vector",!1)},isIllustrative:function(e){var n=this.getContentData(e);return t.get(n,"is_illustrative",!1)},isPurchasable:function(e){var n=this.getContentData(e);return t.get(n,"is_purchasable",!1)},isStandard:function(e){var n=this.getContentData(e);return t.get(n,"is_standard",!1)},setDataDicFromStore:n,appendData:a,HIGHRES_SIZE_VIDEO_4K:2160,HIGHRES_SIZE_VIDEO_HD:1080}}),define("lib/member",["jquery","page_config","lib/cookie","lib/uiEvents","lib/licenseType","lodash","lib/contentDetails"],function(e,t,n,a,i,s,r){"use strict";function o(){return window.__stock_portal_exports__.packages.coreCCStorageAuthentication}function l(e){return e>0&&(e-=1),e}function c(e,t){return e>=t&&(e-=t),e}return{_imsProfile:null,_stockProfile:null,CONTENT_TYPE_ID_PHOTO:1,CONTENT_TYPE_VIDEO:4,CONTENT_TYPE_ILLUSTRATION:2,CONTENT_TYPE_VECTOR:3,CONTENT_TYPE_INSTANT:5,CONTENT_TYPE_3D:6,CONTENT_TYPE_TEMPLATE:7,setImsProfile:function(e){this._imsProfile=e},getServiceAccounts:function(){return this._imsProfile?this._imsProfile.serviceAccounts:null},setStockProfile:function(e){this._stockProfile=e},getLicensingEntitlementByContent:function(e){return e?s.get(this._stockProfile,r.isStandard(e)?"standard_assets_licensing_entitlement":"non_standard_assets_licensing_entitlement",null):null},getCountryCode:function(){return this._imsProfile?this._imsProfile.countryCode:t.default_country_code?t.default_country_code:"US"},getMigrationV2UpgradeCandidate:function(){return this._stockProfile.migration_v2_upgrade_candidate},isMigrationV2UpgradeCandidate:function(e,t){return t&&!this.hasQuota(e,t,e)&&2!=e&&this.getMigrationV2UpgradeCandidate()&&!t.is_premium&&!t.is_editorial&&!t.is_free&&!t.is_video},isLoggedIn:function(){var e=!!this._imsProfile;return e||(e=n(t.SUSI.COOKIE_STOCK_ONLY_LOGGED_IN)),e},isZombieUser:function(){return"interim"===n(t.SUSI.COOKIE_STOCK_ONLY_LOGGED_IN)},getDefaultEntitlement:function(e){return this._stockProfile?this.getLicensingEntitlementByContent(e)||this._stockProfile.default_entitlement:null},isEnterpriseDiscountEligible:function(){return!!this._stockProfile&&this._stockProfile.is_enterprise_discount_eligible},getEnterpriseOffer:function(e){var t=this.getDefaultEntitlement(e),n=null;return t&&t.organization&&(n=t.organization.enterprise_offer),n},hasEnterpriseCreditCardPurchaseEnabled:function(e){var t=this.getDefaultEntitlement(e);return!!t&&!!t.has_enterprise_credit_card_purchase_enabled},hasEnoughQuotaForPossibleAssetLicenses:function(t,n){var a,i,s,r=t.possible_licenses||[],o=this.getDefaultEntitlement()&&this.getDefaultEntitlement().is_cce;return!(o&&!t.is_bundle_licensable&&!e.isEmptyObject(n))||!n.is_organization_out_of_quota&&r.some(function(e){return s=t.license_details[e].license_type_id,a=t.license_details[e].quota,(i=n.total_quota_available_by_license_type_id[s]||0)>=a})},getMemberId:function(){return this._stockProfile?this._stockProfile.member_id:null},getGuid:function(){return this._imsProfile?this._imsProfile.userId:null},getCleanGuid:function(e){var t,n=this.getGuid();return n&&(t=n.indexOf("@"),e?-1!==t&&(n=n.substr(0,t)):n=n.replace("@AdobeID","")),n},updateDefaultEntitlement:function(e){this._stockProfile.default_entitlement=e,a.trigger(a.ENTITLEMENT_UPDATED)},consumeDefaultEntitlementLicense:function(){this._stockProfile.default_entitlement&&a.trigger(a.ENTITLEMENT_UPDATED)},consumeDefaultEntitlementLicenseType:function(e,t){var n;if(this._stockProfile.default_entitlement&&(n=this._stockProfile.default_entitlement.quotas_labels_by_license_type_id||{}),n&&n[e]&&n[e].quota>=t)e=parseInt(e),this._stockProfile.default_entitlement.quotas_labels_by_license_type_id[e].quota=c(n[e].quota,t),a.trigger(a.ENTITLEMENT_UPDATED);else if(this._stockProfile.default_entitlement&&this._stockProfile.default_entitlement.total_quota_available_by_license_type_id[e]>=t){switch(e=parseInt(e)){case i.LICENSE_TYPE_ID_CREDITS_CORE:this._stockProfile.default_entitlement.total_quota_available_by_license_type_name.Credits_Images=c(this._stockProfile.default_entitlement.total_quota_available_by_license_type_name.Credits_Images,t);break;case i.LICENSE_TYPE_ID_CREDITS_GENERIC:this._stockProfile.default_entitlement.total_quota_available_by_license_type_name.Credits_Generic=c(this._stockProfile.default_entitlement.total_quota_available_by_license_type_name.Credits_Generic,t);break;case i.LICENSE_TYPE_ID_AGENCY_STANDARD_CREDITS:this._stockProfile.default_entitlement.total_quota_available_by_license_type_name.Agency_Model_Standard=c(this._stockProfile.default_entitlement.total_quota_available_by_license_type_name.Agency_Model_Standard,t);break;case i.LICENSE_TYPE_ID_AGENCY_PREMIUM_CREDITS:this._stockProfile.default_entitlement.total_quota_available_by_license_type_name.Agency_Model_Premium=c(this._stockProfile.default_entitlement.total_quota_available_by_license_type_name.Agency_Model_Premium,t);break;case i.LICENSE_TYPE_ID_AGENCY_UNIVERSAL_CREDITS:this._stockProfile.default_entitlement.total_quota_available_by_license_type_name.Agency_Model_Universal=c(this._stockProfile.default_entitlement.total_quota_available_by_license_type_name.Agency_Model_Universal,t)}a.trigger(a.ENTITLEMENT_UPDATED)}},consumeDefaultEntitlementQuotaLicense:function(e){e&&!e.no_quota_consumption&&(!i.isLicenseTypeCredit(e.license_type_id)||e.is_cce&&!e.is_license_again_workflow?this.consumeDefaultEntitlementLicense():this.consumeDefaultEntitlementLicenseType(e.license_type_id,e.required_quota))},updateCreditPackQuota:function(e){s.get(this._stockProfile,"default_entitlement.available_credit_pack_quota")&&(this._stockProfile.default_entitlement.available_credit_pack_quota=e,a.trigger(a.ENTITLEMENT_UPDATED))},getLicenseIdByContentTypeId:function(e){switch(e){case 1:case 2:case 3:case 5:case 7:case 6:return this.hasCCTPro()?10:1;case 4:return 3;default:return!1}},getUsername:function(){var e=null;return this._imsProfile&&(e=this.isTeam()?this._stockProfile.default_entitlement.label:"JP"==this._imsProfile.countryCode?this._imsProfile.last_name+"":this._imsProfile.first_name),e},getProfileName:function(){var e=this.getUsername();return this._stockProfile&&this._stockProfile.profile_name&&(e=this._stockProfile.profile_name),e},isTeam:function(){return!!(this._stockProfile&&this._stockProfile.default_entitlement&&this._stockProfile.default_entitlement.guid)},isType2E:function(){return this._stockProfile&&this._stockProfile.is_type2e},isAdmin:function(){return this.isTeam()&&this._stockProfile.default_entitlement.is_admin},getDefaultCloudId:function(){var e=this.getResolvedStockProfile();return e?e.default_cloud_id:null},getDefaultLibraryId:function(){var e=this.getResolvedStockProfile();return e?e.default_library_id:null},getDefaultOpenInAppCode:function(){var e=this.getResolvedStockProfile();return e?e.default_openin_appcode:null},hasStorageQuota:function(){var e=this.getResolvedStockProfile();return!!e&&e.has_storage_quota},hasCCPublicStorageQuota:function(){var e=this.getResolvedStockProfile();return e?e.has_ccpublic_storage_quota:null},isCCEPrivateUser:function(){var e=this.getResolvedStockProfile();return!!e&&e.is_cce_private_user},isCCE:function(){var e=this.getResolvedStockProfile();return!!e&&e.is_cce},isCCActive:function(){var e=this.getServiceAccounts(),t=!1;if(e)for(var n=0,a=e.length;n<a;n++)"creative_cloud"==e[n].serviceCode&&"ACTIVE"==e[n].serviceStatus&&(t=!0);return t},isDefaultEntitlementCCE:function(e){var t=this.getDefaultEntitlement(e);return t&&void 0!==t.is_cce?t.is_cce:this.isCCE()},getClouds:function(){var e=this.getResolvedStockProfile();return!!e&&e.clouds},getDefaultCloudVal:function(){var e=this.getDefaultCloudId(),t="Creative Cloud";if(e){var n=this.getClouds();if(n&&n.length>0)for(var a in n)n[a].id==e&&(t=n[a].name)}return t},getResolvedImsProfile:function(){return this._imsProfile?this._imsProfile:t.SUSI.profile?t.SUSI.profile:null},getResolvedStockProfile:function(){return this._stockProfile?this._stockProfile:t.member?t.member:null},formatProfiles:function(e,t){var n=[],a=!1,i={id:e.id,label:e.name,quota:[],groups:[]};return e.entitlements.forEach(function(s){var r=s.guid,o=s.label,l=s.entitlement_id,c=s.is_default_entitlement,u=s.licenses_available,d=s.quotas_labels_by_license_type_id,p=s.used_for_licensing_asset_type||null;if(null===e.id){var h={id:r,isDefaultEntitlement:t&&c,label:o,used_for_licensing_asset_type:p,quotas_labels_by_license_type_id:d,quota:[],groups:[]};h.quota.push({available:u,stockEntitlementId:l}),null===r?n.unshift(h):n.push(h),t&&c&&(a=!0)}else i.groups.push({id:r,label:o,isDefaultEntitlement:t&&c,used_for_licensing_asset_type:p,quotas_labels_by_license_type_id:d,quota:[{available:u,stockEntitlementId:l}]})}),null!==i.id&&n.unshift(i),{isPersonalProfileActive:a,profiles:n}},buildOrganizations:function(){var e=this,t=this.getResolvedStockProfile().entitlements_data,n=t.guid,a=t.account_cluster_organizations?t.account_cluster_organizations.auth_member:{},i=t.account_cluster_organizations?t.account_cluster_organizations.entitlement_only_members:{},s=!0,r={},o={};if(Object.entries(a).length){var l=Object.entries(a)[0],c=l[0],u=l[1];s=c===n,r[c]=[],u.forEach(function(t){var n=e.formatProfiles(t,s),a=n.profiles;r[c]=r[c].concat(a)})}return Object.entries(i).forEach(function(t){var a=t[0],i=t[1],s=a===n;o[a]=[],i.forEach(function(t){var n=e.formatProfiles(t,s).profiles;o[a]=o[a].concat(n)})}),{authProfiles:r,entitlementOnlyProfiles:o}},hasCCEOldModel:function(e){var t=!1
;return!this.isDefaultEntitlementCCE(e)||this.hasCreditsModel(e)||this.hasAgencyModel(e)||this.hasStockBundle(e)||(t=!0),t},hasCreditsModel:function(e){var t=this.getDefaultEntitlement(e);return t?t.is_cce&&t.has_credit_model:this.isCCE()},hasAgencyModel:function(t){var n=this.getDefaultEntitlement(t);return e.isEmptyObject(n)?this.isCCE():n.is_cce&&n.has_agency_model},isEnterprise:function(){return this.hasCreditsModel()||this.hasAgencyModel()},hasVideoQuota:function(){return!!(this._stockProfile&&this._stockProfile.default_entitlement&&this._stockProfile.default_entitlement.displayable_quota_available_by_license_name)&&(this._stockProfile.default_entitlement.displayable_quota_available_by_license_name.Video_4K>0||this._stockProfile.default_entitlement.displayable_quota_available_by_license_name.Video_HD>0)},hasStandardQuota:function(){return!!(this._stockProfile&&this._stockProfile.default_entitlement&&this._stockProfile.default_entitlement.displayable_quota_available_by_license_name)&&this._stockProfile.default_entitlement.displayable_quota_available_by_license_name.Standard>0},hasExtendedImageQuota:function(){return!!(this._stockProfile&&this._stockProfile.default_entitlement&&this._stockProfile.default_entitlement.displayable_quota_available_by_license_name)&&this._stockProfile.default_entitlement.displayable_quota_available_by_license_name.Extended>0},hasLicensesForContent:function(e){return e.is_video?this.hasVideoQuota():this.hasStandardQuota()},hasSubscription:function(){return!!(this.isLoggedIn()&&this._stockProfile&&this._stockProfile.default_entitlement)&&this._stockProfile.default_entitlement.has_subscription},isCheckoutEligible:function(e){return!!this.hasEnterpriseCreditCardPurchaseEnabled()||(!(this.isLoggedIn()&&this.isTeam()&&!e)||!(!this.isType2E()||!t.is_team_plans))},isFMFEligible:function(){return!(this.isLoggedIn()&&this._stockProfile&&this._stockProfile.default_entitlement)||this._stockProfile.default_entitlement.is_fmf_eligible},hasAvailableCreditPackQuota:function(){var e=this.getDefaultEntitlement();return e&&e.available_credit_pack_quota>0},hasEverHadCreditPacks:function(){var e=this.getDefaultEntitlement();return e&&e.has_ever_had_credit_packs},hasQuota:function(e,t,n){var a=this.hasCCTPro();if((1===n||10===n)&&s.get(t,"can_license_with_cct_pro")&&a)return!0;var i=s.get(t,"is_premium"),r=s.get(t,"possible_data_premium."+e);return!i&&!r&&(s.get(this,'_stockProfile.default_entitlement.total_quota_available_by_license_id["'+e+'"]',0)>0||s.get(this,'_stockProfile.default_entitlement.displayable_quota_available_by_license_id["'+e+'"]',0)>0&&!this.hasAvailableCreditPackQuota())},updateQuotaFromLicenseName:function(e,t){var n=s.get(this,'_stockProfile.default_entitlement.total_quota_available_by_license_name["'+t+'"]'),a=s.get(this,"_stockProfile.default_entitlement.total_quota_available_by_license_name"),i=s.get(this,'_stockProfile.default_entitlement.total_quota_available_by_license_id["'+e+'"]'),r=s.get(this,"_stockProfile.default_entitlement.total_quota_available_by_license_id"),o=s.get(this,'_stockProfile.default_entitlement.displayable_quota_available_by_license_name["'+t+'"]'),c=s.get(this,"_stockProfile.default_entitlement.displayable_quota_available_by_license_name"),u=s.get(this,'_stockProfile.default_entitlement.displayable_quota_available_by_license_id["'+e+'"]'),d=s.get(this,"_stockProfile.default_entitlement.displayable_quota_available_by_license_id");e&&t&&a&&r&&c&&d&&(a[t]=l(n),r[e]=l(i),c[t]=l(o),d[e]=l(u))},getDefaultEntitlementGuid:function(){return s.get(this,"_stockProfile.default_entitlement.guid",null)},getOmnitureTeamProfileType:function(){return this._stockProfile&&this._stockProfile.default_entitlement?this._stockProfile.default_entitlement.team_profile_type:null},getOmnitureMemberType:function(){return this._stockProfile?this._stockProfile.member_type:null},hasBoughtSomething:function(){return!(!this._stockProfile||!this._stockProfile.default_entitlement)&&this._stockProfile.default_entitlement.has_bought_something},hasBoughtTrial:function(){return!(!this._stockProfile||!this._stockProfile.default_entitlement)&&this._stockProfile.default_entitlement.has_bought_trial},hasCCXPro:function(){return!(!this._stockProfile||!this._stockProfile.default_entitlement)&&this._stockProfile.default_entitlement.has_ccx_pro},hasSomeEntitlement:function(){return this.hasBoughtSomething()||this.hasBoughtTrial()||this.hasCCTPro()||this.hasCCXPro()||this.hasStockBundle()||this.hasOrders()},hasOrders:function(){return!(!this._stockProfile||!this._stockProfile.default_entitlement)&&this._stockProfile.default_entitlement.total_orders>0},getOmnitureMemberStatus:function(){return this._stockProfile?this._stockProfile.member_status:null},mustLicenseRequest:function(){var e=this.getResolvedStockProfile();return!!e&&!!e.must_license_request},mustAcceptTermsToLicense:function(){var e=this.getResolvedStockProfile();return!!e&&!!e.must_accept_terms_to_license},hasStockBundle:function(e){var t=this.getDefaultEntitlement(e);return!!t&&!!t.has_stock_bundle},hasQuotesEnabled:function(){var e=this.getDefaultEntitlement();return!!e&&!!e.has_quotes_enabled},isTeamTrialFreeQuotaAvailable:function(){var e=this.getResolvedStockProfile();return!!e&&e.is_team_trial_free_quota_available},getQuotaDataByLicenseTypeId:function(e){var e=e||this.getDefaultEntitlement(),t=null;return e&&e.quotas_labels_by_license_type_id&&Object.keys(e.quotas_labels_by_license_type_id).length>0&&(t=e.quotas_labels_by_license_type_id),t},shouldDisplayLicenseCounter:function(t){var t=t||this.getDefaultEntitlement()||{};return!(!(t.displayable_quota_available||this.hasSubscription()||this.isCCE()||this.hasCCTPro()||t.has_ever_had_credit_packs)&&e.isEmptyObject(t.quotas_labels_by_license_type_id))},getPrivateCloudUrlForLibraries:function(){var e=this.getClouds(),t={};if(e&&e.length>0)for(var n=this.getDefaultCloudId(),a=0;a<e.length;a++){var i=e[a];if(i.id&&i.id==n||!n&&this.isCCEPrivateUser()&&!this.hasCCPublicStorageQuota()){t={isPrivateCloud:!0,libraryServiceURL:i.url,privateCloudId:i.id,storageHost:i.storage_url?i.storage_url.replace(/^https?:\/\//,""):""};break}}return t},fetchAccessToken:function(){return n(t.SUSI.COOKIE_IMS_ACCESS_TOKEN)},fetchStorageRepositoryInfo:function(n){var a=e.Deferred(),i={storageToken:n,imsClientId:t.SUSI.CLIENT_ID,environment:t.isProductionServer?"production":"staging"};return o().getStorageRepositoryInfo(i).then(function(e){a.resolve(e)},function(e){a.reject(e)}),a},fetchStorageToken:function(){var n=e.Deferred(),a={csrfToken:t.csrf_token&&t.csrf_token.value,xRequestId:t.x_request_id,endpointUrl:t.base_url+"/Ajax/Member/AuthToken"};return o().getStorageAccessToken(a).then(function(e){if(!e||!e.access_token)return n.reject(new Error("Invalid cc storage access token"));n.resolve(e.access_token)},function(e){n.reject(e)}),n},clearCachedStorageAccessData:function(){o().clearCachedStorageAccessData()},fetchLibrariesToken:function(){return t.isStorageTokenEnabled?this.fetchStorageToken():e.Deferred().resolve(this.fetchAccessToken())},checkAccessToken:function(e,t){return!!t||(e.reject(),!1)},hasCCTPro:function(){return s.get(this,"_stockProfile.has_cct_pro",!1)},shouldDisplayTeamEntitlementErrorModal:function(){return s.get(this,"_stockProfile.show_team_entitlement_error",!1)},isUsingCCEAccount:function(){return this.isDefaultEntitlementCCE()||s.get(this.getDefaultEntitlement(),"is_credit_card_purchase_entitlement")||this.isCCE()},getImsAccountName:function(){var e=this.getResolvedImsProfile();return[s.get(e,"first_name"),s.get(e,"last_name")].join(" ").trim()}}}),function(e,t){function n(e){return d.PF.compile(e||"nplurals=2; plural=(n != 1);")}function a(e,t){this._key=e,this._i18n=t}var i=Array.prototype,s=Object.prototype,r=i.slice,o=s.hasOwnProperty,l=i.forEach,c={},u={forEach:function(e,t,n){var a,i,s;if(null!==e)if(l&&e.forEach===l)e.forEach(t,n);else if(e.length===+e.length){for(a=0,i=e.length;a<i;a++)if(a in e&&t.call(n,e[a],a,e)===c)return}else for(s in e)if(o.call(e,s)&&t.call(n,e[s],s,e)===c)return},extend:function(e){return this.forEach(r.call(arguments,1),function(t){for(var n in t)e[n]=t[n]}),e}},d=function(e){if(this.defaults={locale_data:{messages:{"":{domain:"messages",lang:"en",plural_forms:"nplurals=2; plural=(n != 1);"}}},domain:"messages",debug:!1},this.options=u.extend({},this.defaults,e),this.textdomain(this.options.domain),e.domain&&!this.options.locale_data[this.options.domain])throw new Error("Text domain set to non-existent domain: `"+e.domain+"`")};d.context_delimiter=String.fromCharCode(4),u.extend(a.prototype,{onDomain:function(e){return this._domain=e,this},withContext:function(e){return this._context=e,this},ifPlural:function(e,t){return this._val=e,this._pkey=t,this},fetch:function(e){return"[object Array]"!={}.toString.call(e)&&(e=[].slice.call(arguments,0)),(e&&e.length?d.sprintf:function(e){return e})(this._i18n.dcnpgettext(this._domain,this._context,this._key,this._pkey,this._val),e)}}),u.extend(d.prototype,{translate:function(e){return new a(e,this)},textdomain:function(e){if(!e)return this._textdomain;this._textdomain=e},gettext:function(e){return this.dcnpgettext.call(this,void 0,void 0,e)},dgettext:function(e,t){return this.dcnpgettext.call(this,e,void 0,t)},dcgettext:function(e,t){return this.dcnpgettext.call(this,e,void 0,t)},ngettext:function(e,t,n){return this.dcnpgettext.call(this,void 0,void 0,e,t,n)},dngettext:function(e,t,n,a){return this.dcnpgettext.call(this,e,void 0,t,n,a)},dcngettext:function(e,t,n,a){return this.dcnpgettext.call(this,e,void 0,t,n,a)},pgettext:function(e,t){return this.dcnpgettext.call(this,void 0,e,t)},dpgettext:function(e,t,n){return this.dcnpgettext.call(this,e,t,n)},dcpgettext:function(e,t,n){return this.dcnpgettext.call(this,e,t,n)},npgettext:function(e,t,n,a){return this.dcnpgettext.call(this,void 0,e,t,n,a)},dnpgettext:function(e,t,n,a,i){return this.dcnpgettext.call(this,e,t,n,a,i)},dcnpgettext:function(e,t,a,i,s){i=i||a,e=e||this._textdomain;var r;if(!this.options)return r=new d,r.dcnpgettext.call(r,void 0,void 0,a,i,s);if(!this.options.locale_data)throw new Error("No locale data provided.");if(!this.options.locale_data[e])throw new Error("Domain `"+e+"` was not found.");if(!this.options.locale_data[e][""])throw new Error("No locale meta information provided.");if(!a)throw new Error("No translation key found.");var o,l,c,u=t?t+d.context_delimiter+a:a,p=this.options.locale_data,h=p[e],f=(p.messages||this.defaults.locale_data.messages)[""],_=h[""].plural_forms||h[""]["Plural-Forms"]||h[""]["plural-forms"]||f.plural_forms||f["Plural-Forms"]||f["plural-forms"];if(void 0===s)c=0;else{if("number"!=typeof s&&(s=parseInt(s,10),isNaN(s)))throw new Error("The number that was passed in is not a number.");c=n(_)(s)}if(!h)throw new Error("No domain named `"+e+"` could be found.");return!(o=h[u])||c>o.length?(this.options.missing_key_callback&&this.options.missing_key_callback(u,e),l=[a,i],this.options.debug,l[n()(s)]):(l=o[c])||(l=[a,i],l[n()(s)])}});var p=function(){function e(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function t(e,t){for(var n=[];t>0;n[--t]=e);return n.join("")}var n=function(){return n.cache.hasOwnProperty(arguments[0])||(n.cache[arguments[0]]=n.parse(arguments[0])),n.format.call(null,n.cache[arguments[0]],arguments)};return n.format=function(n,a){var i,s,r,o,l,c,u,d=1,h=n.length,f="",_=[];for(s=0;s<h;s++)if("string"===(f=e(n[s])))_.push(n[s]);else if("array"===f){if(o=n[s],o[2])for(i=a[d],r=0;r<o[2].length;r++){if(!i.hasOwnProperty(o[2][r]))throw p('[sprintf] property "%s" does not exist',o[2][r]);i=i[o[2][r]]}else i=o[1]?a[o[1]]:a[d++];if(/[^s]/.test(o[8])&&"number"!=e(i))throw p("[sprintf] expecting number but found %s",e(i));switch(void 0!==i&&null!==i||(i=""),o[8]){case"b":i=i.toString(2);break;case"c":i=String.fromCharCode(i);break;case"d":i=parseInt(i,10);break;case"e":i=o[7]?i.toExponential(o[7]):i.toExponential();break;case"f":i=o[7]?parseFloat(i).toFixed(o[7]):parseFloat(i);break;case"o":i=i.toString(8);break;case"s":i=(i=String(i))&&o[7]?i.substring(0,o[7]):i;break;case"u":i=Math.abs(i);break;case"x":i=i.toString(16);break;case"X":i=i.toString(16).toUpperCase()}i=/[def]/.test(o[8])&&o[3]&&i>=0?"+"+i:i,c=o[4]?"0"==o[4]?"0":o[4].charAt(1):" ",u=o[6]-String(i).length,l=o[6]?t(c,u):"",_.push(o[5]?i+l:l+i)}return _.join("")},n.cache={},n.parse=function(e){for(var t=e,n=[],a=[],i=0;t;){if(null!==(n=/^[^\x25]+/.exec(t)))a.push(n[0]);else if(null!==(n=/^\x25{2}/.exec(t)))a.push("%");else{if(null===(n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t)))throw"[sprintf] huh?";if(n[2]){i|=1;var s=[],r=n[2],o=[];if(null===(o=/^([a-z_][a-z_\d]*)/i.exec(r)))throw"[sprintf] huh?";for(s.push(o[1]);""!==(r=r.substring(o[0].length));)if(null!==(o=/^\.([a-z_][a-z_\d]*)/i.exec(r)))s.push(o[1]);else{if(null===(o=/^\[(\d+)\]/.exec(r)))throw"[sprintf] huh?";s.push(o[1])}n[2]=s}else i|=2;if(3===i)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";a.push(n)}t=t.substring(n[0].length)}return a},n}(),h=function(e,t){return t.unshift(e),p.apply(null,t)};d.parse_plural=function(e,t){return e=e.replace(/n/g,t),d.parse_expression(e)},d.sprintf=function(e,t){return"[object Array]"=={}.toString.call(t)?h(e,[].slice.call(t)):p.apply(this,[].slice.call(arguments))},d.prototype.sprintf=function(){return d.sprintf.apply(this,arguments)},d.PF={},d.PF.parse=function(e){var t=d.PF.extractPluralExpr(e);return d.PF.parser.parse.call(d.PF.parser,t)},d.PF.compile=function(e){function t(e){return!0===e?1:e||0}var n=d.PF.parse(e);return function(e){return t(d.PF.interpreter(n)(e))}},d.PF.interpreter=function(e){return function(t){switch(e.type){case"GROUP":return d.PF.interpreter(e.expr)(t);case"TERNARY":return d.PF.interpreter(e.expr)(t)?d.PF.interpreter(e.truthy)(t):d.PF.interpreter(e.falsey)(t);case"OR":return d.PF.interpreter(e.left)(t)||d.PF.interpreter(e.right)(t);case"AND":return d.PF.interpreter(e.left)(t)&&d.PF.interpreter(e.right)(t);case"LT":return d.PF.interpreter(e.left)(t)<d.PF.interpreter(e.right)(t);case"GT":return d.PF.interpreter(e.left)(t)>d.PF.interpreter(e.right)(t);case"LTE":return d.PF.interpreter(e.left)(t)<=d.PF.interpreter(e.right)(t);case"GTE":return d.PF.interpreter(e.left)(t)>=d.PF.interpreter(e.right)(t);case"EQ":return d.PF.interpreter(e.left)(t)==d.PF.interpreter(e.right)(t);case"NEQ":return d.PF.interpreter(e.left)(t)!=d.PF.interpreter(e.right)(t);case"MOD":return d.PF.interpreter(e.left)(t)%d.PF.interpreter(e.right)(t);case"VAR":return t;case"NUM":return e.val;default:throw new Error("Invalid Token found.")}}},d.PF.extractPluralExpr=function(e){e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),/;\s*$/.test(e)||(e=e.concat(";"));var t,n=/nplurals\=(\d+);/,a=/plural\=(.*);/,i=e.match(n),s={};if(!(i.length>1))throw new Error("nplurals not found in plural_forms string: "+e);if(s.nplurals=i[1],e=e.replace(n,""),!((t=e.match(a))&&t.length>1))throw new Error("`plural` expression not found: "+e);return t[1]},d.PF.parser=function(){var e={trace:function(){},yy:{},symbols_:{error:2,expressions:3,e:4,EOF:5,"?":6,":":7,"||":8,"&&":9,"<":10,"<=":11,">":12,">=":13,"!=":14,"==":15,"%":16,"(":17,")":18,n:19,NUMBER:20,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",6:"?",7:":",8:"||",9:"&&",10:"<",11:"<=",12:">",13:">=",14:"!=",15:"==",16:"%",17:"(",18:")",19:"n",20:"NUMBER"},productions_:[0,[3,2],[4,5],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,1],[4,1]],performAction:function(e,t,n,a,i,s,r){var o=s.length-1;switch(i){case 1:return{type:"GROUP",expr:s[o-1]};case 2:this.$={type:"TERNARY",expr:s[o-4],truthy:s[o-2],falsey:s[o]};break;case 3:this.$={type:"OR",left:s[o-2],right:s[o]};break;case 4:this.$={type:"AND",left:s[o-2],right:s[o]};break;case 5:this.$={type:"LT",left:s[o-2],right:s[o]};break;case 6:this.$={type:"LTE",left:s[o-2],right:s[o]};break;case 7:this.$={type:"GT",left:s[o-2],right:s[o]};break;case 8:this.$={type:"GTE",left:s[o-2],right:s[o]};break;case 9:this.$={type:"NEQ",left:s[o-2],right:s[o]};break;case 10:this.$={type:"EQ",left:s[o-2],right:s[o]};break;case 11:this.$={type:"MOD",left:s[o-2],right:s[o]};break;case 12:this.$={type:"GROUP",expr:s[o-1]};break;case 13:this.$={type:"VAR"};break;case 14:this.$={type:"NUM",val:Number(e)}}},table:[{3:1,4:2,17:[1,3],19:[1,4],20:[1,5]},{1:[3]},{5:[1,6],6:[1,7],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16]},{4:17,17:[1,3],19:[1,4],20:[1,5]},{5:[2,13],6:[2,13],7:[2,13],8:[2,13],9:[2,13],10:[2,13],11:[2,13],12:[2,13],13:[2,13],14:[2,13],15:[2,13],16:[2,13],18:[2,13]},{5:[2,14],6:[2,14],7:[2,14],8:[2,14],9:[2,14],10:[2,14],11:[2,14],12:[2,14],13:[2,14],14:[2,14],15:[2,14],16:[2,14],18:[2,14]},{1:[2,1]},{4:18,17:[1,3],19:[1,4],20:[1,5]},{4:19,17:[1,3],19:[1,4],20:[1,5]},{4:20,17:[1,3],19:[1,4],20:[1,5]},{4:21,17:[1,3],19:[1,4],20:[1,5]},{4:22,17:[1,3],19:[1,4],20:[1,5]},{4:23,17:[1,3],19:[1,4],20:[1,5]},{4:24,17:[1,3],19:[1,4],20:[1,5]},{4:25,17:[1,3],19:[1,4],20:[1,5]},{4:26,17:[1,3],19:[1,4],20:[1,5]},{4:27,17:[1,3],19:[1,4],20:[1,5]},{6:[1,7],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[1,28]},{6:[1,7],7:[1,29],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16]},{5:[2,3],6:[2,3],7:[2,3],8:[2,3],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[2,3]},{5:[2,4],6:[2,4],7:[2,4],8:[2,4],9:[2,4],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[2,4]},{5:[2,5],6:[2,5],7:[2,5],8:[2,5],9:[2,5],10:[2,5],11:[2,5],12:[2,5],13:[2,5],14:[2,5],15:[2,5],16:[1,16],18:[2,5]},{5:[2,6],6:[2,6],7:[2,6],8:[2,6],9:[2,6],10:[2,6],11:[2,6],12:[2,6],13:[2,6],14:[2,6],15:[2,6],16:[1,16],18:[2,6]},{5:[2,7],6:[2,7],7:[2,7],8:[2,7],9:[2,7],10:[2,7],11:[2,7],12:[2,7],13:[2,7],14:[2,7],15:[2,7],16:[1,16],18:[2,7]},{5:[2,8],6:[2,8],7:[2,8],8:[2,8],9:[2,8],10:[2,8],11:[2,8],12:[2,8],13:[2,8],14:[2,8],15:[2,8],16:[1,16],18:[2,8]},{5:[2,9],6:[2,9],7:[2,9],8:[2,9],9:[2,9],10:[2,9],11:[2,9],12:[2,9],13:[2,9],14:[2,9],15:[2,9],16:[1,16],18:[2,9]},{5:[2,10],6:[2,10],7:[2,10],8:[2,10],9:[2,10],10:[2,10],11:[2,10],12:[2,10],13:[2,10],14:[2,10],15:[2,10],16:[1,16],18:[2,10]},{5:[2,11],6:[2,11],7:[2,11],8:[2,11],9:[2,11],10:[2,11],11:[2,11],12:[2,11],13:[2,11],14:[2,11],15:[2,11],16:[2,11],18:[2,11]},{5:[2,12],6:[2,12],7:[2,12],8:[2,12],9:[2,12],10:[2,12],11:[2,12],12:[2,12],13:[2,12],14:[2,12],15:[2,12],16:[2,12],18:[2,12]},{4:30,17:[1,3],19:[1,4],20:[1,5]},{5:[2,2],6:[1,7],7:[2,2],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[2,2]}],defaultActions:{6:[2,1]},parseError:function(e,t){throw new Error(e)},parse:function(e){function t(){var e;return e=n.lexer.lex()||1,"number"!=typeof e&&(e=n.symbols_[e]||e),e}var n=this,a=[0],i=[null],s=[],r=this.table,o="",l=0,c=0,u=0,d=2;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var p=this.lexer.yylloc;s.push(p),"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var h,f,_,m,E,g,v,b,T,I={};;){if(_=a[a.length-1],this.defaultActions[_]?m=this.defaultActions[_]:(null==h&&(h=t()),m=r[_]&&r[_][h]),void 0===m||!m.length||!m[0]){if(!u){T=[];for(g in r[_])this.terminals_[g]&&g>2&&T.push("'"+this.terminals_[g]+"'");var S="";S=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+T.join(", ")+", got '"+this.terminals_[h]+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==h?"end of input":"'"+(this.terminals_[h]||h)+"'"),this.parseError(S,{text:this.lexer.match,token:this.terminals_[h]||h,line:this.lexer.yylineno,loc:p,expected:T})}if(3==u){if(1==h)throw new Error(S||"Parsing halted.");c=this.lexer.yyleng,o=this.lexer.yytext,l=this.lexer.yylineno,p=this.lexer.yylloc,h=t()}for(;;){if(d.toString()in r[_])break;if(0==_)throw new Error(S||"Parsing halted.");!function(e){a.length=a.length-2*e,i.length=i.length-e,s.length=s.length-e}(1),_=a[a.length-1]}f=h,h=d,_=a[a.length-1],m=r[_]&&r[_][d],u=3}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+_+", token: "+h);switch(m[0]){case 1:a.push(h),i.push(this.lexer.yytext),s.push(this.lexer.yylloc),a.push(m[1]),h=null,f?(h=f,f=null):(c=this.lexer.yyleng,o=this.lexer.yytext,l=this.lexer.yylineno,p=this.lexer.yylloc,u>0&&u--);break;case 2:if(v=this.productions_[m[1]][1],I.$=i[i.length-v],I._$={first_line:s[s.length-(v||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(v||1)].first_column,last_column:s[s.length-1].last_column},void 0!==(E=this.performAction.call(I,o,c,l,this.yy,m[1],i,s)))return E;v&&(a=a.slice(0,-1*v*2),i=i.slice(0,-1*v),s=s.slice(0,-1*v)),a.push(this.productions_[m[1]][0]),i.push(I.$),s.push(I._$),b=r[a[a.length-2]][a[a.length-1]],a.push(b);break;case 3:return!0}}return!0}},t=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parseError)throw new Error(e);this.yy.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.match+=e,this.matched+=e,e.match(/\n/)&&this.yylineno++,this._input=this._input.slice(1),e},unput:function(e){return this._input=e+this._input,this},more:function(){return this._more=!0,this},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t;this._more||(this.yytext="",this.match="");for(var n=this._currentRules(),a=0;a<n.length;a++)if(e=this._input.match(this.rules[n[a]]))return t=e[0].match(/\n.*/g),t&&(this.yylineno+=t.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:t?t[t.length-1].length-1:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],this.performAction.call(this,this.yy,this,n[a],this.conditionStack[this.conditionStack.length-1])||void 0;if(""===this._input)return this.EOF;this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return void 0!==e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)}};return e.performAction=function(e,t,n,a){switch(n){case 0:break;case 1:return 20;case 2:return 19;case 3:return 8;case 4:return 9;case 5:return 6;case 6:return 7;case 7:return 11;case 8:return 13;case 9:return 10;case 10:return 12;case 11:return 14;case 12:return 15;case 13:return 16;case 14:return 17;case 15:return 18;case 16:return 5;case 17:return"INVALID"}},e.rules=[/^\s+/,/^[0-9]+(\.[0-9]+)?\b/,/^n\b/,/^\|\|/,/^&&/,/^\?/,/^:/,/^<=/,/^>=/,/^</,/^>/,/^!=/,/^==/,/^%/,/^\(/,/^\)/,/^$/,/^./],e.conditions={INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17],inclusive:!0}},e}();return e.lexer=t,e}(),"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=d),exports.Jed=d):("function"==typeof define&&define.amd&&define("i18n",[],function(){return d}),e.Jed=d)}(this),function(e,t){"function"==typeof define&&define.amd?define("Handlebars",[],t):"object"==typeof exports?module.exports=t():e.Handlebars=t()}(this,function(){var e=function(){"use strict";function e(e){return l[e]}function t(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}function n(e,t){for(var n=0,a=e.length;n<a;n++)if(e[n]===t)return n;return-1}function a(t){return t&&t.toHTML?t.toHTML():null==t?"":t?(t=""+t,u.test(t)?t.replace(c,e):t):t+""}function i(e){return!e&&0!==e||!(!h(e)||0!==e.length)}function s(e,t){return e.path=t,e}function r(e,t){return(e?e+".":"")+t}var o={},l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},c=/[&<>"'`]/g,u=/[&<>"'`]/;o.extend=t;var d=Object.prototype.toString;o.toString=d;var p=function(e){return"function"==typeof e};p(/x/)&&(p=function(e){return"function"==typeof e&&"[object Function]"===d.call(e)});var p;o.isFunction=p;var h=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===d.call(e)};return o.isArray=h,o.indexOf=n,o.escapeExpression=a,o.isEmpty=i,o.blockParams=s,o.appendContextPath=r,o}(),t=function(){"use strict";function e(e,n){var a,i,s=n&&n.loc;s&&(a=s.start.line,i=s.start.column,e+=" - "+a+":"+i);for(var r=Error.prototype.constructor.call(this,e),o=0;o<t.length;o++)this[t[o]]=r[t[o]];s&&(this.lineNumber=a,this.column=i)}var t=["description","fileName","lineNumber","message","name","number","stack"];return e.prototype=new Error,e}(),n=function(e,t){"use strict";function n(e,t){this.helpers=e||{},this.partials=t||{},a(this)}function a(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new r("Missing helper: '"+arguments[arguments.length-1].name+"'")}),e.registerHelper("blockHelperMissing",function(t,n){var a=n.inverse,i=n.fn;if(!0===t)return i(this);if(!1===t||null==t)return a(this);if(l(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):a(this);if(n.data&&n.ids){var r=h(n.data);r.contextPath=s.appendContextPath(n.data.contextPath,n.name),n={data:r}}return i(t,n)}),e.registerHelper("each",function(e,t){function n(t,n,r){a&&(a.key=t,a.index=n,a.first=0===n,a.last=!!r,i&&(a.contextPath=i+t)),p+=o(e[t],{data:a,blockParams:s.blockParams([e[t],t],[i+t,null])})}if(!t)throw new r("Must pass iterator to #each");var a,i,o=t.fn,u=t.inverse,d=0,p="";if(t.data&&t.ids&&(i=s.appendContextPath(t.data.contextPath,t.ids[0])+"."),c(e)&&(e=e.call(this)),t.data&&(a=h(t.data)),e&&"object"==typeof e)if(l(e))for(var f=e.length;d<f;d++)n(d,d,d===e.length-1);else{var _;for(var m in e)e.hasOwnProperty(m)&&(_&&n(_,d-1),_=m,d++);_&&n(_,d-1,!0)}return 0===d&&(p=u(this)),p}),e.registerHelper("if",function(e,t){return c(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||s.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers.if.call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),e.registerHelper("with",function(e,t){c(e)&&(e=e.call(this));var n=t.fn;if(s.isEmpty(e))return t.inverse(this);if(t.data&&t.ids){var a=h(t.data);a.contextPath=s.appendContextPath(t.data.contextPath,t.ids[0]),t={data:a}}return n(e,t)}),e.registerHelper("log",function(t,n){var a=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;e.log(a,t)}),e.registerHelper("lookup",function(e,t){return e&&e[t]})}var i={},s=e,r=t;i.VERSION="3.0.0";i.COMPILER_REVISION=6;var o={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"};i.REVISION_CHANGES=o;var l=s.isArray,c=s.isFunction,u=s.toString;i.HandlebarsEnvironment=n,n.prototype={constructor:n,logger:d,log:p,registerHelper:function(e,t){if("[object Object]"===u.call(e)){if(t)throw new r("Arg not supported with multiple helpers");s.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if("[object Object]"===u.call(e))s.extend(this.partials,e);else{if(void 0===t)throw new r("Attempting to register a partial as undefined");this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]}};var d={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:1,log:function(e,t){if("undefined"!=typeof console&&d.level<=e){var n=d.methodMap[e];(console[n]||console.log).call(console,t)}}};i.logger=d;var p=d.log;i.log=p;var h=function(e){var t=s.extend({},e);return t._parent=e,t};return i.createFrame=h,i}(e,t),a=function(){"use strict";function e(e){this.string=e}return e.prototype.toString=e.prototype.toHTML=function(){return""+this.string},e}(),i=function(e,t,n){"use strict";function a(e){var t=e&&e[0]||1,n=h;if(t!==n){if(t<n){var a=f[n],i=f[t];throw new p("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+a+") or downgrade your runtime to an older version ("+i+").")}throw new p("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function i(e,t){if(!t)throw new p("No environment passed to template");if(!e||!e.main)throw new p("Unknown template object: "+typeof e);t.VM.checkRevision(e.compiler);var n=function(n,a,i){i.hash&&(a=d.extend({},a,i.hash)),n=t.VM.resolvePartial.call(this,n,a,i);var s=t.VM.invokePartial.call(this,n,a,i);if(null==s&&t.compile&&(i.partials[i.name]=t.compile(n,e.compilerOptions,t),s=i.partials[i.name](a,i)),null!=s){if(i.indent){for(var r=s.split("\n"),o=0,l=r.length;o<l&&(r[o]||o+1!==l);o++)r[o]=i.indent+r[o];s=r.join("\n")}return s}throw new p("The partial "+i.name+" could not be compiled when running in runtime-only mode")},a={strict:function(e,t){if(!(t in e))throw new p('"'+t+'" not defined in '+e);return e[t]},lookup:function(e,t){for(var n=e.length,a=0;a<n;a++)if(e[a]&&null!=e[a][t])return e[a][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:d.escapeExpression,invokePartial:n,fn:function(t){return e[t]},programs:[],program:function(e,t,n,a,i){var r=this.programs[e],o=this.fn(e);return t||i||a||n?r=s(this,e,o,t,n,a,i):r||(r=this.programs[e]=s(this,e,o)),r},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=d.extend({},t,e)),n},noop:t.VM.noop,compilerInfo:e.compiler},i=function(t,n){n=n||{};var s=n.data;i._setup(n),!n.partial&&e.useData&&(s=c(t,s));var r,o=e.useBlockParams?[]:void 0;return e.useDepths&&(r=n.depths?[t].concat(n.depths):[t]),e.main.call(a,t,a.helpers,a.partials,s,o,r)};return i.isTop=!0,i._setup=function(n){n.partial?(a.helpers=n.helpers,a.partials=n.partials):(a.helpers=a.merge(n.helpers,t.helpers),e.usePartial&&(a.partials=a.merge(n.partials,t.partials)))},i._child=function(t,n,i,r){if(e.useBlockParams&&!i)throw new p("must pass block params");if(e.useDepths&&!r)throw new p("must pass parent depths");return s(a,t,e[t],n,0,i,r)},i}function s(e,t,n,a,i,s,r){var o=function(t,i){return i=i||{},n.call(e,t,e.helpers,e.partials,i.data||a,s&&[i.blockParams].concat(s),r&&[t].concat(r))};return o.program=t,o.depth=r?r.length:0,o.blockParams=i||0,o}function r(e,t,n){return e?e.call||n.name||(n.name=e,e=n.partials[e]):e=n.partials[n.name],e}function o(e,t,n){if(n.partial=!0,void 0===e)throw new p("The partial "+n.name+" could not be found");if(e instanceof Function)return e(t,n)}function l(){return""}function c(e,t){return t&&"root"in t||(t=t?_(t):{},t.root=e),t}var u={},d=e,p=t,h=n.COMPILER_REVISION,f=n.REVISION_CHANGES,_=n.createFrame;return u.checkRevision=a,u.template=i,u.program=s,u.resolvePartial=r,u.invokePartial=o,u.noop=l,u}(e,t,n);return function(e,t,n,a,i){"use strict";var s=e,r=t,o=n,l=a,c=i,u=function(){var e=new s.HandlebarsEnvironment
;return l.extend(e,s),e.SafeString=r,e.Exception=o,e.Utils=l,e.escapeExpression=l.escapeExpression,e.VM=c,e.template=function(t){return c.template(t,e)},e},d=u();d.create=u;var p="undefined"!=typeof global?global:window,h=p.Handlebars;return d.noConflict=function(){p.Handlebars===d&&(p.Handlebars=h)},d.default=d,d}(n,a,t,e,i)}),define("viewHelpers/numberFormatI18n",["jquery","lib/window","page_config"],function(e,t,n){"use strict";var a=!1,i={1:"USD",2:"EUR",3:"GBP",4:"AUD",5:"CAD",6:"JPY",7:"CHF",8:"DKK",9:"NOK",10:"SEK"};try{(0).toLocaleString("i")}catch(e){a="RangeError"===e.name}return{format:function(e){var a,i,s=t.getNumberFormat(n.locale_code.replace("_","-"));return s?a=s.format(e):(i=e.toString().split("."),i.length>2?a=e:(i[0]=i[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,","),a=i.join("."))),a},formatCurrency:function(e,t){return a?e.toLocaleString(n.locale_code.replace("_","-"),{style:"currency",currency:i[t||1]}):null}}}),define("i18n-config",["jquery","i18n","page_config","Handlebars","viewHelpers/numberFormatI18n"],function(e,t,n,a,i){"use strict";function s(e){return e.replace(/^(?:[a-zA-Z0-9_]+::)+/,"")}var r,o=n.locale_code;r=new t(o&&window.i18ndata&&window.i18ndata[o]?{locale_data:window.i18ndata[o],domain:"adobestock"}:{domain:"adobestock",locale_data:{adobestock:{"":{domain:"adobestock","plural-forms":"nplurals=2; plural=n != 1;",lang:""}}}});var l=r.gettext,c=r.ngettext;return r.gettext=function(e){var t=l.call(r,e);return t===e&&(t=s(t)),t},r.ngettext=function(e,t,n){var a=c.call(r,e,t,n);return a!==e&&a!==t||(a=s(a)),a},a.registerHelper("_",r.gettext),a.registerHelper("ngettext",r.ngettext),a.registerHelper("sprintf",function(){var e=Array.prototype.slice.call(arguments,0,arguments.length-1),n=e.shift();return t.sprintf(n,e)}),a.registerHelper("escape_sprintf",function(){var e=Array.prototype.slice.call(arguments,0,arguments.length-1),n=a.escapeExpression(e.shift());return new a.SafeString(t.sprintf(n,e))}),a.registerHelper("number",i.format),a.registerHelper("mapToAdobeBaseUrl",function(e){var t=Array.prototype.slice.call(arguments,0,arguments.length-1);if(t.length>=2){if(-1!==Array.prototype.slice.call(t,1,t.length).indexOf(e))return""}return"/hk"===e?"/hk_zh":e}),a.registerHelper("data-t",function(){var e=Array.prototype.slice.call(arguments,0,arguments.length-1),n=e.map(function(e){return a.escapeExpression(e).split(" ").join("-").toLowerCase()});return new a.SafeString(t.sprintf('data-t="%s"',n.join("-")))}),r}),define("lib/error",["jquery","i18n","i18n-config"],function(e,t,n){"use strict";var a=e(".js-alert-error-modal-canvas").first(),i=a.find(".js-error-modal-header"),s=a.find(".js-error-modal-body"),r=a.find(".js-dismiss-error-modal"),o=e(".js-error-modal-canvas").first(),l=o.find(".js-error-modal-header"),c=o.find(".js-error-modal-body"),u=o.find(".js-dismiss-error-modal"),d=u.text(),p=e(".js-short-error-modal-canvas").first(),h=p.find(".js-short-error-modal-body"),f=p.find(".js-short-dismiss-error-modal"),_=f.text(),m=null;return o.on("click",u,function(){m&&m(),o.hide()}),a.on("click",r,function(){m&&m(),a.hide()}),p.on("click",f,function(){m&&m(),p.hide()}),{displayErrorModal:function(e,t,n,i){l.text(e),c.html(t),u.text(n||d),m=i,o.show(),a.hide(),p.hide()},displayAlertErrorModal:function(e,t,n,l){i.text(e),s.html(t),r.text(n||d),m=l,a.show(),o.hide(),p.hide()},displayShortErrorModal:function(e,t,n){h.text(e),f.text(t||_),m=n,p.show(),a.hide(),o.hide()},displayErrorMsgModal:function(e,t,n,a,i){var s=this;e&&e.title&&e.msg?e.msg.length<50?s.displayShortErrorModal(e.msg,a,i):s.displayErrorModal(e.title,e.msg,a,i):s.displayShortErrorModal(n,a,i)},errorMsg:function(e,t){return{title:e,msg:t}},isModalVisible:function(){return o.is(":visible")||p.is(":visible")||a.is(":visible")},displayGenericError:function(){this.displayShortErrorModal(n.gettext("GENERIC::There was an error processing your request."))},displaySelectionLimitErrorMessager:function(e){var a=t.sprintf(n.ngettext("LIBRARY::ACTION::Sorry, this action is limited to %s item per request","LIBRARY::ACTION::Sorry, this action is limited to %s items per request",e),e);this.displayShortErrorModal(a)},displayAjaxErrorResponse:function(e){e&&e.err&&e.err.responseJSON&&e.err.responseJSON.error?this.displayShortErrorModal(e.err.responseJSON.error):this.displayGenericError()}}}),define("app/constants/localStorage",[],function(){"use strict";return{CURRENT_SESSION:"current_session",SESSION_STORAGE_DATA:"session_storage_data",VECTOR_DOWNLOAD_CHOICE_KEY:"vector_download_choice",MEMBER_ONBOARDING_STEP:"onboarding_step",LIBRARY_TOAST_AUTO_SAVE_KEY:"library-toast:auto-save-enabled-v1",LIBRARY_TOAST_AUTO_DOWNLOAD_KEY:"library-toast:auto-download-enabled-v1"}}),define("app/utils/error",[],function(){"use strict";function e(e,t){e instanceof Error||(e=new Error(e)),t&&t.constructor===Object||(t={}),window.newrelic&&window.newrelic.noticeError(e,t)}return{reportNewRelicError:e}}),define("lib/localStorage",["app/constants/localStorage","app/utils/error"],function(e,t){"use strict";function n(){var e,t=Date.now();try{return localStorage.setItem(t,t),e=localStorage.getItem(t)==t,localStorage.removeItem(t),e&&localStorage}catch(e){}}function a(e,t,a,i){var s;n()&&(s=i?sessionStorage:localStorage,e?s.setItem(e+t,JSON.stringify(a)):s.setItem(t,JSON.stringify(a)))}function i(e,a,i,s){var r,o,l;if(n()){o=s?sessionStorage:localStorage,l=e?e+a:a;try{if(r=JSON.parse(o.getItem(l)))return r}catch(e){t.reportNewRelicError(e,{storage_type:o,storage_key:l})}}return i}function s(e,t,a){var i,s;n()&&(i=a?sessionStorage:localStorage,s=e?e+t:t,i.removeItem(s))}return function(){if(n()){var a=localStorage.getItem(e.CURRENT_SESSION);sessionStorage.length&&a||localStorage.setItem(e.CURRENT_SESSION,Date.now()),window.addEventListener("storage",function(n){if(n.key===e.CURRENT_SESSION)localStorage.setItem(e.SESSION_STORAGE_DATA,JSON.stringify(sessionStorage)),localStorage.removeItem(e.SESSION_STORAGE_DATA);else if(n.key===e.SESSION_STORAGE_DATA&&!sessionStorage.length)try{var a=JSON.parse(n.newValue);for(var i in a)a.hasOwnProperty(i)&&sessionStorage.setItem(i,a[i])}catch(e){t.reportNewRelicError(e,{data:n.newValue,event_key:n.key})}})}}(),{storage:n,storeData:a,retrieveData:i,removeData:s}}),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("redux",[],t):"object"==typeof exports?exports.Redux=t():e.Redux=t()}(this,function(){return function(e){function t(a){if(n[a])return n[a].exports;var i=n[a]={exports:{},id:a,loaded:!1};return e[a].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.compose=t.applyMiddleware=t.bindActionCreators=t.combineReducers=t.createStore=void 0;var i=n(2),s=a(i),r=n(7),o=a(r),l=n(6),c=a(l),u=n(5),d=a(u),p=n(1),h=a(p);a(n(3)),t.createStore=s.default,t.combineReducers=o.default,t.bindActionCreators=c.default,t.applyMiddleware=d.default,t.compose=h.default},function(e,t){"use strict";function n(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];if(0===t.length)return function(e){return e};if(1===t.length)return t[0];var a=t[t.length-1],i=t.slice(0,-1);return function(){return i.reduceRight(function(e,t){return t(e)},a.apply(void 0,arguments))}}t.__esModule=!0,t.default=n},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){function a(){E===m&&(E=m.slice())}function s(){return _}function o(e){if("function"!=typeof e)throw Error("Expected listener to be a function.");var t=!0;return a(),E.push(e),function(){if(t){t=!1,a();var n=E.indexOf(e);E.splice(n,1)}}}function u(e){if(!(0,r.default)(e))throw Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(g)throw Error("Reducers may not dispatch actions.");try{g=!0,_=f(_,e)}finally{g=!1}for(var t=m=E,n=0;t.length>n;n++)t[n]();return e}function d(e){if("function"!=typeof e)throw Error("Expected the nextReducer to be a function.");f=e,u({type:c.INIT})}function p(){var e,t=o;return e={subscribe:function(e){function n(){e.next&&e.next(s())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");return n(),{unsubscribe:t(n)}}},e[l.default]=function(){return this},e}var h;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw Error("Expected the enhancer to be a function.");return n(i)(e,t)}if("function"!=typeof e)throw Error("Expected the reducer to be a function.");var f=e,_=t,m=[],E=m,g=!1;return u({type:c.INIT}),h={dispatch:u,subscribe:o,getState:s,replaceReducer:d},h[l.default]=p,h}t.__esModule=!0,t.ActionTypes=void 0,t.default=i;var s=n(4),r=a(s),o=n(12),l=a(o),c=t.ActionTypes={INIT:"@@redux/INIT"}},function(e,t){"use strict";function n(e){"undefined"!=typeof console&&console.error;try{throw Error(e)}catch(e){}}t.__esModule=!0,t.default=n},function(e,t,n){function a(e){if(!r(e)||h.call(e)!=o||s(e))return!1;var t=i(e);if(null===t)return!0;var n=d.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==p}var i=n(8),s=n(9),r=n(11),o="[object Object]",l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,p=u.call(Object),h=c.toString;e.exports=a},function(e,t,n){"use strict";function a(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return function(e){return function(n,a,s){var o=e(n,a,s),l=o.dispatch,c=[],u={getState:o.getState,dispatch:function(e){return l(e)}};return c=t.map(function(e){return e(u)}),l=r.default.apply(void 0,c)(o.dispatch),i({},o,{dispatch:l})}}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=a;var s=n(1),r=function(e){return e&&e.__esModule?e:{default:e}}(s)},function(e,t){"use strict";function n(e,t){return function(){return t(e.apply(void 0,arguments))}}function a(e,t){if("function"==typeof e)return n(e,t);if("object"!=typeof e||null===e)throw Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var a=Object.keys(e),i={},s=0;a.length>s;s++){var r=a[s],o=e[r];"function"==typeof o&&(i[r]=n(o,t))}return i}t.__esModule=!0,t.default=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function s(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:o.ActionTypes.INIT}))throw Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+o.ActionTypes.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.')})}function r(e){for(var t=Object.keys(e),n={},a=0;t.length>a;a++){var r=t[a];"function"==typeof e[r]&&(n[r]=e[r])}var o,l=Object.keys(n);try{s(n)}catch(e){o=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(o)throw o;for(var a=!1,s={},r=0;l.length>r;r++){var c=l[r],u=n[c],d=e[c],p=u(d,t);if(void 0===p){var h=i(c,t);throw Error(h)}s[c]=p,a=a||p!==d}return a?s:e}}t.__esModule=!0,t.default=r;var o=n(2);a((a(n(4)),n(3)))},function(e,t,n){var a=n(10),i=a(Object.getPrototypeOf,Object);e.exports=i},function(e,t){function n(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}e.exports=n},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},function(e,t){function n(e){return!!e&&"object"==typeof e}e.exports=n},function(e,t,n){e.exports=n(13)},function(e,t,n){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),i=function(e){return e&&e.__esModule?e:{default:e}}(a),s=void 0;void 0!==e?s=e:"undefined"!=typeof window&&(s=window);var r=(0,i.default)(s);t.default=r}).call(t,function(){return this}())},function(e,t){"use strict";function n(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n}])}),define("app/utils/object",[],function(){"use strict";return{objectWithoutProperties:function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}}}),define("app/middleware/promiseMiddleware",["jquery","app/utils/object"],function(e,t){"use strict";return{promiseMiddleware:function(){return function(n){return function(a){var i=a.promise,s=a.type,r=t.objectWithoutProperties(a,["promise","type"]),o=s.begin,l=s.success,c=s.failure;return i&&e.isPlainObject(a)?(n(e.extend({},r,{type:o})),i.then(function(t){return n(e.extend({},r,{result:t,type:l}))},function(t){return n(e.extend({},r,{error:t,type:c}))})):n(a)}}}}}),define("app/middleware/thunkMiddleware",[],function(){"use strict";return{thunkMiddleware:function(e){var t=e.dispatch,n=e.getState;return function(e){return function(a){return"function"==typeof a?a(t,n):e(a)}}}}}),define("app/utils/actions",[],function(){"use strict";function e(e){return{begin:e+"_BEGIN",success:e+"_SUCCESS",failure:e+"_FAILURE"}}return{createAsyncAction:e}}),define("app/actions/actionTypes",["app/utils/actions"],function(e){"use strict";var t=e.createAsyncAction("GET_SEARCH_RESULTS"),n=e.createAsyncAction("GET_QUERY_SUGGESTIONS_RESULTS"),a=e.createAsyncAction("OPEN_FILTERS_PANEL"),i=e.createAsyncAction("FETCH_PREMIUM_IMAGES"),s=e.createAsyncAction("FETCH_ASSETS_ALL"),r=e.createAsyncAction("FETCH_ASSETS_EDITORIAL"),o=e.createAsyncAction("FETCH_ASSETS_IMAGES"),l=e.createAsyncAction("FETCH_ASSETS_PREMIUM"),c=e.createAsyncAction("FETCH_ASSETS_FREE"),u=e.createAsyncAction("FETCH_ASSETS_TEMPLATES"),d=e.createAsyncAction("FETCH_ASSETS_THREED"),p=e.createAsyncAction("FETCH_ASSETS_VIDEOS");return{ADD_ITEM_DETAILS:"ADD_ITEM_DETAILS",CLEAR_QUERY_SUGGESTIONS:"CLEAR_QUERY_SUGGESTIONS",CHECK_FILTER_TOGGLE:"CHECK_FILTER_TOGGLE",UPDATE_DETAIL_PANEL_LICENSE:"UPDATE_DETAIL_PANEL_LICENSE",CLEAR_ASSET_TYPE_BREADCRUMB:"CLEAR_ASSET_TYPE_BREADCRUMB",CLEAR_BREADCRUMB_FILTER:"CLEAR_BREADCRUMB_FILTER",CLEAR_PREMIUM_IMAGES:"CLEAR_PREMIUM_IMAGES",CLEAR_SEARCH_FILTERS:"CLEAR_SEARCH_FILTERS",CLOSE_FILTERS_PANEL:"CLOSE_FILTERS_PANEL",FETCH_PREMIUM_IMAGES:i,FETCH_ASSETS_ALL:s,FETCH_ASSETS_EDITORIAL:r,FETCH_ASSETS_IMAGES:o,FETCH_ASSETS_LONGTAIL:e.createAsyncAction("FETCH_ASSETS_LONGTAIL"),FETCH_ASSETS_PREMIUM:l,FETCH_ASSETS_TEMPLATES:u,FETCH_ASSETS_THREED:d,FETCH_ASSETS_VIDEOS:p,GET_SEARCH_RESULTS:t,HIDE_RECENT_SEARCHES:"HIDE_RECENT_SEARCHES",ITEM_SELECTED:"ITEM_SELECTED",MEMBER_LOGGED_IN:"MEMBER_LOGGED_IN",MEMBER_UPDATED_ENTITLEMENT:"MEMBER_UPDATED_ENTITLEMENT",MULTI_IMAGE_ADD:"MULTI_IMAGE_ADD",MULTI_IMAGE_REMOVE:"MULTI_IMAGE_REMOVE",MULTI_IMAGE_UPLOAD:"MULTI_IMAGE_UPLOAD",NAVIGATE_SEARCH_HISTORY:"NAVIGATE_SEARCH_HISTORY",OPEN_FILTERS_PANEL:a,SET_ASSET_TYPE_TO_PREMIUM:"SET_ASSET_TYPE_TO_PREMIUM",SHOW_RECENT_SEARCHES:"SHOW_RECENT_SEARCHES",UPDATE_ASSET_ID:"UPDATE_ASSET_ID",UPDATE_ASSET_TYPE_FILTER:"UPDATE_ASSET_TYPE_FILTER",UPDATE_COPY_SPACE_FILTER:"UPDATE_COPY_SPACE_FILTER",UPDATE_FIND_SIMILAR_BY:"UPDATE_FIND_SIMILAR_BY",UPDATE_IMAGE_SUBCATEGORY_FILTER:"UPDATE_IMAGE_SUBCATEGORY_FILTER",UPDATE_FRAME_RATE_FILTER:"UPDATE_FRAME_RATE_FILTER",UPDATE_SHOT_SIZE_FILTER:"UPDATE_SHOT_SIZE_FILTER",UPDATE_SHOT_ANGLE_FILTER:"UPDATE_SHOT_ANGLE_FILTER",UPDATE_ISOLATED_FILTER:"UPDATE_ISOLATED_FILTER",UPDATE_ILLUSTRATIVE_FILTER:"UPDATE_ILLUSTRATIVE_FILTER",UPDATE_UNDISCOVERED_FILTER:"UPDATE_UNDISCOVERED_FILTER",UPDATE_DURATION_FILTER:"UPDATE_DURATION_FILTER",UPDATE_LIBRARY_ITEMS:"UPDATE_LIBRARY_ITEMS",UPDATE_PAGE_DATA:"UPDATE_PAGE_DATA",UPDATE_SEARCH_FILTERS:"UPDATE_SEARCH_FILTERS",UPDATE_SIZE_FILTER:"UPDATE_SIZE_FILTER",UPDATE_ASSET_TYPE_STATE:"UPDATE_ASSET_TYPE_STATE",UPDATE_KEYWORD:"UPDATE_KEYWORD",TOGGLE_FILTER_IS_MINIMIZED:"TOGGLE_FILTER_IS_MINIMIZED",BUY_LICENSE:e.createAsyncAction("BUY_LICENSE"),DOWNLOAD_ASSET:e.createAsyncAction("DOWNLOAD_ASSET"),MOSAIC_RELOADED:"MOSAIC_RELOADED",QUICKER_CHECKOUT_OPEN:"QUICKER_CHECKOUT_OPEN",QUICKER_CHECKOUT_CLOSE:"QUICKER_CHECKOUT_CLOSE",QUICKER_CHECKOUT_DONE:"QUICKER_CHECKOUT_DONE",QUICKER_CHECKOUT_ERROR:"QUICKER_CHECKOUT_ERROR",SAVE_ASSET:e.createAsyncAction("SAVE_ASSET"),SAVE_ASSET_COMPLETE:"SAVE_ASSET_COMPLETE",WAIT_QUICKER_CHECKOUT_MODAL_OPEN:"WAIT_QUICKER_CHECKOUT_MODAL_OPEN",OPEN_HOVER_MENU_MORE_OPTIONS:"OPEN_HOVER_MENU_MORE_OPTIONS",CLOSE_HOVER_MENU_MORE_OPTIONS:"CLOSE_HOVER_MENU_MORE_OPTIONS",OPEN_VECTOR_DOWNLOAD_SETTINGS:"OPEN_VECTOR_DOWNLOAD_SETTINGS",SAVE_VECTOR_DOWNLOAD_PREFERENCE:"SAVE_VECTOR_DOWNLOAD_PREFERENCE",CLOSE_VECTOR_DOWNLOAD_SETTINGS:"CLOSE_VECTOR_DOWNLOAD_SETTINGS",SELECT_CONTENT_LICENSE:"SELECT_CONTENT_LICENSE",SHOW_HOVER_MENU:"SHOW_HOVER_MENU",HIDE_HOVER_MENU:"HIDE_HOVER_MENU",CONTENT_LICENSED:"CONTENT_LICENSED",GET_QUERY_SUGGESTIONS_RESULTS:n,ALERT_UNDO_ACTION:"ALERT_UNDO_ACTION",FETCH_ASSETS_FREE:c}}),define("app/reducers/details",["jquery","app/actions/actionTypes"],function(e,t){"use strict";var n=function(){return{selected:null}};return{details:function(a,i){var s={},r={},o=i.content_id;switch(r[o]=i.data,void 0===a&&(a=n()),i.type){case t.ADD_ITEM_DETAILS:s=e.extend(a,r);case t.ITEM_SELECTED:s=e.extend(s,a,{selected:o});break;case t.GET_SEARCH_RESULTS.begin:s=e.extend(s,a,{selected:null});break;default:s=a}return s}}}),define("lib/ajax",["jquery","lib/cookie"],function(e,t){"use strict";var n=["s_sess"],a={ajax:function(a,i){var s,r,o=[];e.each(n,function(e,n){o[n]=t(n),o[n]&&t(n,null)});try{r=e.ajax(a,i)}catch(e){}return s=window.location.host.split(".").slice(-2).join("."),e.each(n,function(e,n){o[n]&&t(n,o[n],{path:"/",domain:s})}),r}};return e.each(["get","post"],function(t,n){a[n]=function(t,i,s,r){return e.isFunction(i)&&(r=r||s,s=i,i=void 0),a.ajax({url:t,type:n,dataType:r,data:i,success:s})}}),a}),define("lib/assetsStore",["jquery","lib/ajax","page_config","lodash"],function(e,t,n,a){"use strict";var i=n.base_url+"/Ajax/MediaData/",s=n.base_url+"/Ajax/Similar/";return{_activeRequests:{},_cache:{},ASSET_DETAIL:{NONE:0,MIN:1,BASIC:2,WITH_KEYWORDS:3,FULL:4},THREE_D_TYPE:{MODELS:1,LIGHTS:2,MATERIALS:3},calculateAssetDetail:function(e){function t(t){return t.reduce(function(t,n){return t&&e.hasOwnProperty(n)},!0)}var n=this;return e=e||{},t(["content_id"])?t(["author","author_url","comp_file_path","content_height","content_thumb_large_url","content_thumb_url","content_width","format","title","content_type_id","content_type","content_url","content_original_width","content_original_height","is_video","extended_license_price"])?t(["keywords"])?t(["series"])?n.ASSET_DETAIL.FULL:n.ASSET_DETAIL.WITH_KEYWORDS:n.ASSET_DETAIL.BASIC:n.ASSET_DETAIL.MIN:n.ASSET_DETAIL.NONE},getAsset:function(n,a,s){var r=this,o=null,l="";return 0===n||n?(r._cache.hasOwnProperty(n)&&void 0===s?o=r.getAssetFromCacheAsPromise(n):(r._activeRequests[n]||(void 0!==s&&(l="&license_id="+s),r._activeRequests[n]=t.get(i+n+"?full=1"+l).then(function(e){return r._cache[n]=e,r._activeRequests[n]=null,r._cache[n]},function(){r._activeRequests[n]=null})),o=r._activeRequests[n]),o.then(function(e){if(!e)return null;var t=r.calculateAssetDetail(e);return void 0===a||t>=a?e:t<r.ASSET_DETAIL.WITH_KEYWORDS?r.getKeywords(n).then(function(e){return e}):r.getAssetFromCacheAsPromise(n)}).promise()):e.Deferred().resolve({}).promise()},getKeywords:function(n){var a=this,s=a._cache[n],r="",o=a.calculateAssetDetail(s);return s&&o>=a.ASSET_DETAIL.WITH_KEYWORDS?a.getAssetFromCacheAsPromise(n):(o<a.ASSET_DETAIL.BASIC&&(r="?full=1"),a._activeRequests[n]||(a._activeRequests[n]=t.get(i+n+r).then(function(t){return t&&(a._cache[n]=e.extend(a._cache[n],t)),a._activeRequests[n]=null,a._cache[n]},function(){a._activeRequests[n]=null}).promise()),a._activeRequests[n])},getSeries:function(n){var a=this,i=e.Deferred();return t.get(s+n).then(function(t){if(t&&e.isArray(t.result_similar_contents)){var s=t.result_similar_contents.reduce(function(e,t){return e[t.type]=t.results.map(function(e){return e.content_id=e.id,delete e.id,a._cache[e.content_id]=e,e}),e},{});a._cache[n]=e.extend(a._cache[n],{series:s}),i.resolve(a._cache[n])}else i.reject()},function(){i.reject()}),i.promise()},getAssetFromCacheOnly:function(e){var t=this;return t._cache.hasOwnProperty(e)?t._cache[e]:null},setAssetDownloadedInCache:function(e,t){var n,i=this,s=a.get(i,["_cache",e],!1);return!!s&&(n=a.get(s,["license_details",t],!1),a.isObject(n)&&(s.license_details[t].downloaded=!0),s.downloaded=!0,s.licensed=!0,!0)},getAssetFromCacheAsPromise:function(t){var n=this;return e.Deferred().resolve(n._cache[t]).promise()},addAsset:function(t,n){var a=this;if(a._cache.hasOwnProperty(t)){var i=a._cache[t];e.extend(i,n)}else a._cache[t]=n;return a._cache[t]}}}),define("app/constants/analytics",[],function(){"use strict";return{ADOBE_LOGO_EVENT:"adobe logo",BANNER_UPDATE_EVENT:"bannerUpdate",CAMPAIGN:"campaign",CAROUSEL_ELEMENT_NAME:"elementname",CAROUSEL_POSITION:"carousel_position",CAROUSEL_THUMBNAIL_SUFFIX:" thumbnail",CAROUSEL_VIEW_RESULTS_SUFFIX:" view results",CLICK_EVENT:"click",CTA_EVENT:"cta",DROPDOWN_EVENT:"dropdown",LINK_EVENT:"link",DETAIL_PANEL_EVENT:"detailPanel",DISPLAY_EVENT:"display",DOWNLOAD_FOR_FREE_EVENT:"download-for-free",DOWNLOAD_TO_DEVICE:"download-to-device",ELEMENT_SAVE:"Save",SAVE_TO_LIBRARY_EVENT:"save to library",DOWNLOAD_PREVIEW:"download-preview",RE_DOWNLOAD_FOR_FREE_EVENT:"re-download-for-free",LICENSE_FOR_FREE_EVENT:"license-for-free",ERROR_EVENT:"error",EVENT_INFO:"eventInfo",EVENT_VALUES:{CHECKOUT_ACCOUNT_CREATE:"event100",CHECKOUT_EMAIL_STEP:"event89",CHECKOUT_MODAL_CLOSE:"event97",CHECKOUT_STEP_FOUR:"event91",CHECKOUT_STEP_ONE:"event88",CHECKOUT_STEP_OVERAGE:"event287",CHECKOUT_STEP_REVIEW:"event96",CHECKOUT_STEP_SWITCH_PERSONAL:"event61,event62",CHECKOUT_STEP_TAX_ACCEPTED:"event97",CHECKOUT_STEP_TEAM_BUY_CHOICE:"event187",CHECKOUT_STEP_THREE:"event90",CREDIT_PACK_APPLIED:"event304",CREDIT_PACK_BUY_CHOICE_INSUFFICIENT_CREDITS:"event198",CREDIT_PACK_BUY_CHOICE_NO_CREDITS:"event197",CREDIT_PACK_BUY_CHOICE_ON_DEMAND_PURCHASE_CONTINUE:"event310",CREDIT_PACK_BUY_CHOICE_OPTIONS_RADIO_BUTTON:"event297",CREDIT_PACK_BUY_CHOICE_PURCHASE_CONTINUE:"event311",CREDIT_PACK_USAGE:"event302",CREDIT_PURCHASE_EVENT:"event300",CTA_TRACKER:"event97",DEFAULT_SUBSCRIPTION_SELECTED:"event92",ERROR:"event80",NEW_PAYMENT_ERROR:"event480",FIRST_USER_DOWNLOAD:"event270",FMF:"event94",NEW_BUYER:"event70",NUMBER_OF_PURCHASED_CREDITS:"event301",ORDER_CONFIRMATION:"event145",ORDER_CONFIRMATION_FOTOLIA_MIGRATION:"event186",OVERAGE_DONE:"event49",PERSISTENT_CHECKOUT:"event420",PERSISTENT_CHECKOUT_COMPLETE:"event421",PURCHASE:"purchase",REPEAT_BUYER:"event71",REPEAT_USER_DOWNLOAD:"event271",SAVE_IMAGE:"event95",SIGN_IN:"event412",SIGN_UP:"event418",STOCK_LOGIN_SUCCESS:"event73",SUBSCRIPTION:"event99",SWITCH_SUBSCRIPTION:"event98",TAX_START:"event77",TAX_STOP:"event78"},FILTERS_ACTION_UPDATE:"update",FILTERS_LOAD_TYPE:"filter",FINDING_METHOD:{HOMEPAGE:"homepage",SEARCH:"search",LIBRARIES:"libraries",LICENSE_HISTORY:"license history",PLANS:"plans",ADOBE_APPS:"Adobe apps",PREMIUM:"premium",ASSET:"asset",ARTIST:"artist",TEAMS:"teams",IMAGES:"images-landing-page",IMAGES_DETAIL:"images-asset-detail",VIDEO:"video-landing-page",VIDEO_DETAIL:"video-asset-detail",EDITORIAL:"editorial",TEMPLATES:"templates-landing-page",TEMPLATES_DETAIL:"templates-asset-detail",THREE_D:"3d-landing-page",THREE_D_DETAIL:"3d-asset-detail",CATEGORY:"category",PROMO:"promo",COLLECTIONS:"collections"},FIND_SIMILAR_EVENT:"findSimilar",FIND_SIMILAR_LOAD_TYPE:"find_similar",FIND_SIMILAR_THUMB:"Find Similar",FSC_OPTIONS:{FSC_OPTION_ALL:"all",FSC_OPTION_COLOR:"color",FSC_OPTION_CONTENT:"content",FSC_OPTION_COMPOSITION:"composition"},FIRST_DOWNLOAD:"new",FOTOLIA_TRANSFER_OVERAGE:"fotolia transfer overage",HEADER_EVENT:"header",INTERNAL_INFO:"internalInfo",LICENSE_ASSET_EVENT:"licenseAsset",BUY_LICENSE_AGAIN_EVENT:"buy license again",LICENSE_HISTORY_EVENT:"license history",LONGTAIL_SUGGESTED_KEYWORD:"long_tail_suggested_keyword",LONGTAIL:"long tail",MANAGE_ADOBE_ID_EVENT:"manage my Adobe ID",MEDIA_TYPE_LOAD_TYPE:"media type",MODAL_EVENT:"modal",NAVNAME_PROFILE:"profile",NA:"NA",NEW_BUYER:"new",NULL_RESULT:"null result",OPEN_IN_PANE:"open in",ORDER_PAGENAME:"orderConfirmationPage_OnLoadComplete",OVERAGE_OK_EVENT:"overageOk",OVERAGE_PAGENAME:"Overage:orderConfirmationPage_OnLoadComplete",PAGE_INFO:"pageInfo",PAGE_LOAD_EVENT:"pageload",PAGE_LOAD_TYPE:"page",ASSET_CLICK:"assetclick",INTERNAL_CAMP:"internalcamp",VIEW_RESULT:"view result",PREMIUM_BOTTOM_RAIL:{PREMIUM:"premium",PREMIUM_CAROUSEL:"premium-carousel"},FREE_BOTTOM_RAIL:{FREE_BR:"freebr",FREE_BR_CAROUSEL:"freebr-carousel"},PREMIUM_EVENT:"premium",PREVIEW_ASSET_EVENT:"previewAsset",PREVIEW_PANE:"preview",PRICING_EVENT:"pricing",PRODUCT:"product",REMOVE_THUMBNAIL:"removethumbnail",REPEAT_BUYER:"repeat",REPEAT_DOWNLOAD:"repeat",SAVE_TO_LIBRARY:"save-to-library",SEARCH:"search",SEARCH_TYPE:"search_type",SEARCH_EVENT:"AdobeStockSearch",SEARCH_LOAD_TYPE:"search",SEARCH_START_EVENT:"search_start",SEARCH_RESULT:"searchresult",SEE_MORE_EVENTS:{SERIES:"More from this Series",MODEL:"More from this Model",IMAGES:"More from Similar Images"},SEE_MORE_LOAD_TYPE:"see more",SELECTION_DETAIL:"detail",SELECTION_DIRECT:"direct",SELECTION_HOVER:"hover",SELECTION_TILE:"tile",SELL_EVENT:"sell",SIGNIN_EVENT:"sign in",SIGNOUT_EVENT:"signout",SIMILAR_PANE:"similar",STOCK_LOGO_EVENT:"stock logo",STOCK_NEW_BUYER:"Stock New Buyer",STOCK_REPEAT_BUYER:"Stock Repeat Buyer",SWITCH_TEAM_EVENT:"switch team",TRACK_INTERACTION:"trackInteraction",TRANSACTION:"transaction",UPGRADE_PAGENAME:"Upgrade:orderConfirmationPage_OnLoadComplete",USER:"user",USER_TYPE_ACTIVE:"stockactivestatus",VIEW_PREVIEW_EVENT:"viewPreview",VISUAL_LOAD_TYPE:"visual",VISUAL_SEARCH_BROWSE:"browse",VISUAL_SEARCH_DRAG:"drag",PHOTO:"Photo",ILLUSTRATION:"Illustration",VECTOR:"Vector",NEW_LIBRARY:"new library",EXISTING_LIBRARY:"existing library",MORE_OPTIONS_EVENT:"more-options",OPEN_IN_APP_EVENT:"open-in-app",SUSI_EVENT:"susi",SUSI_LOGIN:"login",SUSI_CREATE_ACCOUNT:"create-account",BLUE_BANNER_START_NOW:"blue-banner-start-now"}}),define("lib/license",["lodash","jquery","app/constants/analytics","lib/member"],function(e,t,n,a){"use strict";var i={},s={};return{LICENSE_ID_HD:3,LICENSE_ID_4K:4,LICENSE_ID_EXTENDED:2,LICENSE_ID_STANDARD:1,LICENSE_ABBR_SHORT_4K:"4K",LICENSE_ABBR_SHORT_HD:"HD",LICENSE_ID_STANDARD_M:5,LICENSE_ID_VIDEO_HD_STANDARD:6,LICENSE_ID_ENHANCED:10,LICENSE_ID_LIMITED:17,ACTION_SAVE:"Save",ACTION_LICENSE:"License",ACTION_RE_LICENSE:"Relicense",ACTION_SAVE_DEPRECATED:"SaveDeprecated",isLicenseAction:function(e){return"License"==e||"Relicense"==e},setLicenseId:function(e,t){i[e]=t},getLicenseId:function(e){return i[e]?i[e]:null},getLicenseAbbrByLicenseId:function(e){var t=null;switch(e){case 1:t="Standard";break;case 2:t="Extended";break;case 3:t="Video_HD";break;case 4:t="Video_4K"}return t},getLicenseIdByLicenseAbbr:function(e){var t=null;switch(e){case"Standard":t=1;break;case"Extended":t=2;break;case"Video_HD":t=3;break;case"Video_4K":t=4}return t},getLicenseIdVideoByResolution:function(){return{HD:3,"4K":4}},setDefaultLicenseId:function(e,n){var i=null,s=n.possible_licenses||[];if(!n.is_video&&t("#select-licenses option:selected").val())i=this.getLicenseIdByLicenseAbbr(t("#select-licenses option:selected").val());else if(n.license_id)i=n.license_id;else if(n.licensed)i=this.getLicenseIdByLicenseAbbr(n.licensed);else if(n.is_video){var r=this.getLicenseIdVideoByResolution();i=n.video_data&&r[n.video_data.resolution]?r[n.video_data.resolution]:n.resolution?r[n.resolution]:n.license?this.getLicenseIdByLicenseAbbr(n.license):a.getLicenseIdByContentTypeId(n.content_type_id)}else i=a.getLicenseIdByContentTypeId(n.content_type_id);s.length&&!s.includes(i)&&(i=s[0]),this.setLicenseId(e,i)},isAlreadyLicensed:function(e,t,n){var a=!1,n=n||this.getLicenseId(e);return(t.license_id&&t.license_id==n||t.licensed&&this.getLicenseIdByLicenseAbbr(t.licensed)==n||t.license&&this.getLicenseIdByLicenseAbbr(t.license)==n||t.license_details&&void 0!==t.license_details[n]&&t.license_details[n].downloaded)&&(a=!0),a},getLicenseIdIfLicensed:function(t){var n=!1,a=e.get(t,"license_details");return!!e.isObject(a)&&(Object.keys(a).forEach(function(i){e.get(a[i],"downloaded")&&(n=i,this.setLicenseId(t.content_id,i))},this),n)},getLicenseIdsIfLicensedForDifferrentSizes:function(t){var n,a=e.get(t,"license_details")||{},i=e.get(t,"possible_data_premium")||e.get(t,"possible_data_video");return e.isObject(i)?Object.keys(i).filter(function(t){return e.get(a[t],"downloaded")}):(n=this.getLicenseIdIfLicensed(t),n?[n]:[])},getLicenseIdFromContent:function(e){var t,n;return e?(e.selected_license_id?t=e.selected_license_id:e.licensed?t=this.getLicenseIdByLicenseAbbr(e.licensed):e.default_license_id?t=e.default_license_id:e.video_data&&e.video_data.resolution?(n=this.getLicenseIdVideoByResolution(),t=n[e.video_data.resolution]):t=this.getLicenseId(e.content_id),t):t},getLicenseIdByType:function(e){if(e.is_template||e.is_3D)return 1},getDeprecatedLicenseIdUsed:function(e){return s[e]||null},hasDeprecatedLicenseIdUsed:function(e,n){var a,i,r=null;if(!t.isArray(n))return r;i=e.license_details||{};for(a in i)if(i[a]&&i[a].downloaded){if(n.indexOf(parseInt(a))>-1){r=null,s={};break}s[e.content_id]=a,r=a}return r},getContentDefaultLicenseId:function(e,t){var n,a=e.possible_licenses||[],i=e.license_details||{},s=a[0]||null,t=t||[],r=e.default_license_id||null,o=parseInt(e.license_bookmark)||null;return n=a.filter(function(e){return t.indexOf(e)>-1})[0]||null,o&&-1==a.indexOf(o)&&(o=null),Object.keys(i).map(function(e){return parseInt(e)}).filter(function(e){return a.indexOf(e)>-1&&i[e].downloaded})[0]||null||o||r||n||s}}}),define("app/constants/userActions",["page_config"],function(e){"use strict";return e.constants.user_actions}),define("app/constants/assetTypeFilters",["page_config"],function(e){"use strict";return e.constants.asset_type_filters}),define("app/constants/searchFilters",[],function(){"use strict";var e=["1155","1157","1156"],t=["content_type:illustration","content_type:image","content_type:photo","content_type:template","content_type:3d","content_type:zip_vector","content_type:video"],n=["indesign","photoshop","after_effects","illustrator","rush_version"],a=["horizontal","vertical","square","panoramic"],i=["val23976","val24","val25","val2997","val30","val50","val5994","val60"],s=["extreme_close_up","close_up","medium_shot","long_shot","extreme_long_shot"];return{ALL_FILTER:"all",ASSET_ID:"asset_id",AUTHOR:"creator_id",CATEGORIES_ALL:"all",CATEGORY:"ca",COLLECTION:"gallery_id",COLOR:"color",CONTENT_TYPE_ALL:"content_type:all",CONTENT_TYPE_3D:"content_type:3d",CONTENT_TYPE_ILLUSTRATION:"content_type:illustration",CONTENT_TYPE_IMAGE:"content_type:image",IMAGE:"image",CONTENT_TYPE_PHOTO:"content_type:photo",PHOTO:"photo",CONTENT_TYPE_TEMPLATE:"content_type:template",
CONTENT_TYPE_VECTOR:"content_type:zip_vector",CONTENT_TYPE_VIDEO:"content_type:video",COPY_SPACE:"copy_space",COPY_SPACE_ALL:"all",COPY_SPACE_MANUFACTURED:"manufactured",COPY_SPACE_NATURAL:"natural",DEPTH_OF_FIELD:"ae_depth_of_field",DEPTH_OF_FIELD_DEFAULT_SCORING:"0",EDITORIAL:"is_editorial",EDITORIAL_ON:1,EDITORIAL_CATEGORIES:e,EDITORIAL_CATEGORY_ENTERTAINMENT:"1155",EDITORIAL_CATEGORY_NEWS:"1157",EDITORIAL_CATEGORY_SPORTS:"1156",EDITORIAL_EVENT_DATE_START:"event_date_start",EDITORIAL_EVENT_DATE_END:"event_date_end",EDITORIAL_DATE_RANGE:"editorial_date_range",EDITORIAL_DATE_RANGE_CHOICE:"event-date-choice-range",EDITORIAL_DATE_OFFSET_AMOUNT:1,EDITORIAL_DATE_OFFSET_UNIT:"day",EXCLUDE_PEOPLE:"releases:is_exclude",FIND_SIMILAR_CACHE_SIZE:20,FSC_IMAGE:"fsc_image",FSC_IMAGE_GROUP:"fsc_image_group",FILTERS:"filters",ILLUSTRATIVE:"illustrative",ILLUSTRATIVE_ALL:"all",ILLUSTRATIVE_EXCLUDE:"exclude",ILLUSTRATIVE_INCLUDE:"include",INCLUDE_PEOPLE:"releases:is_include",IS_QUERY_SUGGESTED:"is_query_suggested",ISOLATED:"isolated",ISOLATED_ALL:"all",ISOLATED_HIDE:"hide",ISOLATED_ONLY:"only",UNDISCOVERED:"undiscovered",UNDISCOVERED_ALL:"all",UNDISCOVERED_ONLY:"only",RELEASES_ALL:"releases:all",KEYWORD:"k",MAX_FIND_SIMILAR_IMAGES:2,MODEL_ID:"model_id",NATIVE_VISUAL_SEARCH:"native_visual_search",ORDER:"order",ORDER_CREATION:"creation",ORDER_RELEVANCE:"relevance",ORIENTATION:"orientation",ORIENTATION_FILTER_SEPARATOR:",",PRICE:"price",PRICE_CLIENT_ALL:"all",PRICE_CLIENT_LOW:"low",PRICE_CLIENT_HIGH:"high",PRICE_SERVER_LOW:"$",PRICE_SERVER_MEDIUM:"$$",PRICE_SERVER_HIGH:"$$$",SAFE_SEARCH:"safe_search",SAFE_SEARCH_ON:1,SAFE_SEARCH_OFF:0,SCORING:"scoring",SERIE_ID:"serie_id",SIMILAR_CONTENT_ID:"similar_content_id",SIMILAR_CONTENT_ID_SEPARATOR:",",SIZE:"size",SIZE_PIXELS:"pixels",SIZE_MEGA_PIXELS:"mega_pixels",SIZE_PIXELS_WIDTH_MIN:"pixels_width_min",SIZE_PIXELS_HEIGHT_MIN:"pixels_height_min",SIZE_MEGA_PIXELS_MIN:"mega_pixels_min",SUPPORTED_CONTENT_TYPES:t,FIND_SIMILAR_BY:"find_similar_by",TEMPLATE_CATEGORIES:"template_category_id",TEMPLATE_APPLICATION_INDESIGN:"indesign",TEMPLATE_APPLICATION_PHOTOSHOP:"photoshop",TEMPLATE_APPLICATION_AFTER_EFFECTS:"after_effects",TEMPLATE_APPLICATION_ILLUSTRATOR:"illustrator",TEMPLATE_APPLICATION_RUSH:"rush_version",TEMPLATE_APPLICATIONS:n,TEMPLATE_TYPES:"template_type_id",THREE_D_TYPE:"3d_type_id",VALID_ORIENTATIONS:a,VIDEO_DURATION_MAX:"video_duration_max",VIDEO_DURATION_MIN:"video_duration_min",VIDEO_DURATION_DEFAULT_MIN:0,VIDEO_DURATION_DEFAULT_MAX:60,VIDEO_FRAME_RATE:"video_frame_rate",VIDEO_FRAME_RATE_OPTIONS:i,VIDEO_SHOT_ANGLE:"video_shot_angle",VIDEO_SHOT_ANGLE_OPTIONS:["top_down","aerial","high_angle","eye_level","low_angle"],VIDEO_SHOT_ANGLE_TOP_DOWN:"top_down",VIDEO_SHOT_ANGLE_AERIAL:"aerial",VIDEO_SHOT_ANGLE_HIGH_ANGLE:"high_angle",VIDEO_SHOT_ANGLE_LOW_ANGLE:"low_angle",VIDEO_SHOT_ANGLE_EYE_LEVEL:"eye_level",VIDEO_SHOT_SIZE:"video_shot_size",VIDEO_SHOT_SIZE_OPTIONS:s,VIDEO_SHOT_SIZE_LONG_SHOT:"long_shot",VIDEO_SHOT_SIZE_CLOSE_UP:"close_up",VIDEO_SHOT_SIZE_MEDIUM_SHOT:"medium_shot",VIDEO_SHOT_SIZE_EXTREME_CLOSE_UP:"extreme_close_up",VIDEO_SHOT_SIZE_EXTREME_LONG_SHOT:"extreme_long_shot",VIDEO_IS_ALL:"video_subcat_all:on",VIDEO_IS_4K:"license_V_4K:on",VIVID_COLOR:"ae_vivid_color",VIVID_COLOR_DEFAULT_SCORING:"0",VIDEO_DURATION:"video_duration",ALERT_ACTION_UNDO:"undo",ALERT_ACTION_SEARCH_IMAGES:"searchImages",CONTENT_TYPE_FREE_COLLECTION:"free_collection"}}),define("app/constants/templateCategories",["page_config"],function(e){"use strict";return e.constants.template_categories||{}}),define("app/constants/templateTypes",["page_config"],function(e){"use strict";return e.constants.template_types||{}}),define("app/constants/ui",[],function(){"use strict";return{ENTER_KEY:13,DOWN_KEY:40,UP_KEY:38,SPACE_KEY:32,TAB_KEY:9,ESC_KEY:27,FILTER_PANEL_CLOSE:"close",FILTER_PANEL_OPEN:"open"}}),define("lib/utils",["jquery","lodash","page_config","i18n-config","lib/assetsStore","lib/deparam","lib/member","lib/license","lib/contentDetails","lib/window","app/constants/userActions","app/constants/assetTypeFilters","app/constants/searchFilters","app/constants/templateCategories","app/constants/templateTypes","app/constants/ui"],function(e,t,n,a,i,s,r,o,l,c,u,d,p,h,f,_){"use strict";function m(){return Ie.allDevicePattern.test(Te)}function E(){return Ie.phonePattern.test(Te)}function g(){return Se.test(Te)}function v(){return"ontouchstart"in window}function b(){switch(n.device_os_family){case"desktop":return a.gettext("FILE::DOWNLOAD::Computer");case"ios":case"android":case"mobile":default:return a.gettext("FILE::DOWNLOAD::Device")}}function T(t){var n=e('.js-search-result-cell[data-content-id="'+t+'"]'),a=n.find(".js-save-title"),s=n.find(".js-save-second-title"),o=n.find(".js-open-preview-title");i.getAsset(t,i.ASSET_DETAIL.BASIC).then(function(e){var t=e.downloaded,n=e.licensed,i=!1;e.representations&&"purchased"==e.representations[0]["adobestock#trackingdata"].state&&(i=!0),t||n||i?(a.html(a.data("postLicensingLanguage")),s.html(s.data("postLicensingLanguage")),o.html(o.data("postLicensingLanguage"))):r.hasLicensesForContent(e)?(a.html(a.data("hasLicensesLanguage")),s.html(s.data("hasLicensesLanguage")),o.html(o.data("hasLicensesLanguage"))):(a.html(a.data("noLicensesLanguage")),s.html(s.data("noLicensesLanguage")),o.html(o.data("noLicensesLanguage")))})}function I(e){var t,n,a=window.location.search.replace(/^\?/,"").split("&");for(t=0;t<a.length;t++)if(n=a[t].split("="),2===n.length&&n[0]===e)return n[1];return null}function S(t,n,a){var i=s(t);return i[n]=a,e.param(i)}function y(t,n,a){var i=s(t);return i.hasOwnProperty(n)&&(i[n]=a),e.param(i)}function A(t,n){var a=s(t);return a.hasOwnProperty(n)&&delete a[n],e.param(a)}function O(e,t,n){e&&e.setAttribute(t,n)}function R(e,t,n){e&&e.addEventListener(t,n)}function C(e){be=e}function L(e,t,n){var a;if(e)for(a=0;a<e.length;a++)be(e[a],t,n)}function D(e){var t;return e&&(t=ye[e]),t}function N(e,t){return e!==u.DEFAULT_ACTION?e:D(t)}function P(e){var t;return e&&(t=Ae[e]),t}function M(e,t,a){if(!e||!t)return t;a||(a=w(e));var s,r=t.slice(6),o=a.some(function(e){return e===r});return o||(e.representations&&e.representations[0]&&(s=e.representations[0].type),e.is_video||e.isVideo?t="OpenInPr":e.is_3D||e.is3D?t=n.isOpenInFelixEnabled&&e["3D_type_id"]!==i.THREE_D_TYPE.MATERIALS&&"Material"!==e.subtypeLabel?"OpenInFe":"":e.is_template||e.isTemplate?t="Photoshop"===e.use_with||"image/vnd.adobe.photoshop.template"===s?"OpenInPs":"Illustrator"===e.use_with||"application/illustrator.template"===s?"OpenInAi":"InDesign"===e.use_with||"application/vnd.adobe.indesign.template"===s?"OpenInId":"":"ai/eps"===e.format||"application/illustrator"===s?t="OpenInAi":"jpeg"!==e.format&&"image/jpeg"!==s||(t="OpenInPs")),t}function w(e){if(e){var t,a=[];return t=e.content_type?e.content_type:e.representations&&e.representations[0].type?e.representations[0].type:"image/jpeg","image/jpeg"===t?a=["Ps","Ai","Pr","Ae","Id"]:e.is_video||e.isVideo?a=["Pr","Ae"]:e.is_3D||e.is3D?a=n.isOpenInFelixEnabled&&e["3D_type_id"]!==i.THREE_D_TYPE.MATERIALS&&"Material"!==e.subtypeLabel?["Fe"]:[]:e.is_template||e.isTemplate?("Photoshop"!==e.use_with&&"image/vnd.adobe.photoshop.template"!=t||(a=["Ps"]),"Illustrator"!==e.use_with&&"application/illustrator.template"!=t||(a=["Ai"]),"InDesign"!==e.use_with&&"application/vnd.adobe.indesign.template"!=t||(a=["Id"])):a=["Ps","Ai","Id"],a}}function x(e,t){if(e){if(l.getContentData(e).is_template)return t.templateString}return t.defaultString}function k(e){return/^[a-zA-Z0-9\s\-\.\+\*\(\)]+$/.test(e)&&e.length>=7&&e.length<=24}function F(e){var t=U(e)?Object.prototype.toString.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function U(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function H(e,t){var n=t||{};return F(e)&&(n=e()),n}function j(e){return"string"!=typeof e||e.length<2?e:e.charAt(0).toUpperCase()+e.slice(1)}function V(e){var t=e.lastIndexOf("::");return t>-1?e.slice(t+2):e}function Y(){var t=e(".js-fmf-params"),n=!0;return t.length>0&&(n=t.data("fmf-enabled")),n}function G(e,t){var n=e&&e[t]||"";return Array.isArray(n)?n.join(" "):"string"==typeof n?n:""}function B(e){var t=0;return U(e)&&(t=Object.keys(e).length),t}function q(t){var n,a=["GET","HEAD","OPTIONS","TRACE"];return n=-1===t.url.indexOf("://")?c.getLocation().host:t.url.split("/")[2],-1===e.inArray(t.type.toUpperCase(),a)&&n===c.getLocation().host}function W(t,a,i,s,r){var o,l;(l=n.isPhoenixEnabled?a&&"desktop"!==a?e("#memberDefaultLibraryId").val(a):e("#memberDefaultLibraryId").val():e("#memberDefaultLibraryId").val(a))!==a&&(i&&(o=P(i)),t.saveDefaultLibrary(a,null,!1,o),F(s)&&s(a,r))}function K(e){if(!Array.isArray(e))throw new Error("flattenReducers requires an array of reducers");return function(t,n){var a=t;return e.forEach(function(e){a=e(a,n)}),a}}function z(e,t,n){if(!e)return null;var a=e.filter(function(e){return e[t]==n});return a.length>0?a[0]:null}function Q(e){return e=e||"",e.split(p.ORIENTATION_FILTER_SEPARATOR)}function Z(){"scrollBehavior"in document.documentElement.style?window.scroll({top:0,behavior:"smooth"}):e("html, body").animate({scrollTop:0})}function X(e,t){return Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}),e.closest("."+t)}function $(e){var t=/[\uFF0E-\uFF1A]/g;return e.replace(t,function(e){return String.fromCharCode(e.charCodeAt(0)-65248)})}function J(e){try{return JSON.parse(JSON.parse(e))}catch(e){return null}}function ee(e){try{return e?JSON.stringify(JSON.stringify(e)):""}catch(e){return""}}function te(e,t){e&&t&&"string"==typeof e&&("object"==typeof t&&(t=ee(t)),localStorage.setItem(e,t))}function ne(e){localStorage.getItem(e)&&localStorage.removeItem(e)}function ae(e,t){var t=t||new Date,e=(e||n.locale_code).replace("_","-");return t.toLocaleDateString(e,{hour:"2-digit",minute:"2-digit"})}function ie(t,n,a){!t instanceof e||(a?t.attr(n,!0):t.removeAttr(n))}function se(t,n,a){!t instanceof e||(a?t.addClass(n):t.removeClass(n))}function re(e){var t,n,a,i="";if(!e)return e;t=e.split("&");for(n in t)a=t[n].split("="),i+=t[n],a[0]!==p.SIMILAR_CONTENT_ID&&a[0]!==p.NATIVE_VISUAL_SEARCH||!a[1]||(t[n]=a[0]+"=");return t.join("&")}function oe(e,t){return e?e.reduce(function(e,n){return e[n[t]]=n,e},{}):{}}function le(e,t,n){if(e){var a=e.filter(function(e){return e[t]==n});return a&&a[0]}}function ce(e,t){return parseInt(e,10)===parseInt(t,10)}function ue(e){switch(e){case d.ALL:return a.gettext("SEARCH::RESULTS::all");case d.IMAGES:return a.gettext("SEARCH::RESULTS::images");case d.VIDEOS:return a.gettext("SEARCH::RESULTS::videos");case d.TEMPLATES:return a.gettext("SEARCH::RESULTS::templates");case d.THREED:return a.gettext("SEARCH::RESULTS::3D");case d.PREMIUM:return a.gettext("SEARCH::RESULTS::Premium");case d.EDITORIAL:return a.gettext("SEARCH::RESULTS::Editorial");case d.FREE:return a.gettext("SEARCH::RESULTS::Free");default:return""}}function de(e){new IntersectionObserver(function(e,t){e.forEach(function(e){if(e.isIntersecting){var n=e.target,a=n.getAttribute("data-lazy");n.hasAttribute("srcset")?n.setAttribute("srcset",a):n.setAttribute("src",a),t.disconnect()}})}).observe(e)}function pe(e,t){return void 0!==t&&t?n.base_url+"/Ajax/GetLicenseDownloadUrl/"+e+"/"+t:n.base_url+"/Ajax/GetDownloadUrl/"+e}function he(e,t){var n=["logged-out-alert","library-selector-open","saving","saved","downloading","second-overage","wait"];e.removeClass(n.join(" ")).addClass(t),t?e.attr("data-state",t):e.removeAttr("data-state")}function fe(e){return"Audio"!==e||n.isAudioSaveEnabled}function _e(e,t,n){e.shiftKey&&e.keyCode===_.TAB_KEY?document.activeElement===t&&(e.preventDefault(),n.focus()):e.keyCode===_.TAB_KEY&&document.activeElement===n&&(e.preventDefault(),t.focus())}function me(e,t){if(!e||!t)throw new Error("invalid argument");Ee(e,t)||(e.className+=" "+t)}function Ee(e,t){if(!e||!t)throw new Error("invalid argument");return ve(t).test(e.className)}function ge(e,t){e.className=e.className.replace(ve(t),"")}function ve(e){var t;if(!e)throw new Error("invalid argument");return t="(^|\\s)"+e+"(\\s|$)",new RegExp(t)}var be,Te=navigator.userAgent||navigator.vendor||window.opera,Ie={phonePattern:/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,allDevicePattern:/mobi|android/i},Se=/firefox/i,ye={PHXS:"OpenInPs",IDSN:"OpenInId",ILST:"OpenInAi",PPRO:"OpenInPr",AEFT:"OpenInAe"},Ae={OpenInPs:"PHXS",OpenInId:"IDSN",OpenInAi:"ILST",OpenInPr:"PPRO",OpenInAe:"AEFT"},Oe=["OpenInPs","OpenInId","OpenInAi","OpenInPr","OpenInAe"];n.isOpenInFelixEnabled&&(ye.FELX="OpenInFe",Ae.OpenInFe="FELX",Oe.push("OpenInFe"));var Re={MODELS:"SEARCH::FILTERS::3D_CATEGORY::Models",LIGHTS:"SEARCH::FILTERS::3D_CATEGORY::Lights",MATERIALS:"SEARCH::FILTERS::3D_CATEGORY::Materials"},Ce={1:{labelLocalized:"FILE::LABEL::Model",label:"Models"},2:{labelLocalized:"FILE::LABEL::Light",label:"Lights"},3:{labelLocalized:"FILE::LABEL::Material",label:"Materials"}},Le=[Re.MODELS,Re.LIGHTS,Re.MATERIALS];be=R;var De=function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},Ne=function(){var e=[];return e[f.NO_APP]=[h.PRINT_SUBCATEGORY,h.WEB,h.MOBILE,h.ART_ILLUSTRATION,h.FILM_VIDEO,h.PHOTOGRAPHY],e[f.PSDT]=[h.PRINT_SUBCATEGORY,h.WEB,h.MOBILE,h.ART_ILLUSTRATION,h.FILM_VIDEO,h.PHOTOGRAPHY],e[f.AIT]=[h.PRINT_SUBCATEGORY,h.WEB,h.MOBILE,h.ART_ILLUSTRATION,h.FILM_VIDEO],e[f.INDT]=[h.PRINT_SUBCATEGORY,h.WEB,h.MOBILE],e[f.PPRO_MOGRT]=[h.LOWER_THIRDS,h.TITLES_TEXT_OVERLAYS,h.TRANSITIONS,h.BACKGROUNDS,h.INFOGRAPHICS,h.SOCIAL_MEDIA],e[f.AE_MOGRT]=[h.LOWER_THIRDS,h.TITLES_TEXT_OVERLAYS,h.TRANSITIONS,h.BACKGROUNDS,h.INFOGRAPHICS,h.SOCIAL_MEDIA],e[f.RUSH_COMPATIBLE_MOGRT]=[h.LOWER_THIRDS,h.TITLES_TEXT_OVERLAYS,h.TRANSITIONS,h.BACKGROUNDS,h.INFOGRAPHICS,h.SOCIAL_MEDIA],e};return{addClass:me,capitalizeFirstCharacter:j,coerceValue:function(e,t){var n;switch(t){case"int":if(n=parseInt(e),isNaN(n))throw new TypeError("Could not convert filter value to integer");break;default:n=e}return n},enforceLibraryMenuText:T,flattenReducers:K,formatVideoDurationInput:function(e,t){return Math.round(e)<10?":0"+Math.round(e):Math.round(e)>=t?":"+t+"+":":"+Math.round(e)},formatVideoDurationOutput:function(e){return e.replace(/[:+]/g,"")},getDefaultOpenInAppCode:M,getKeyNosInObject:B,processLocalizedNumChars:$,getMultipleOrientationFilters:Q,getOpenInAction:D,getOpenInActionWithDefaultFallback:N,getOpenInAppCode:P,getOpenInLibraryName:x,getOpenInOptions:w,getQueryParam:I,getSaveToDeviceI18nText:b,getStringFromProperty:G,getTemplateSubcategoryByTemplateTypes:Ne,getValueFromArrayById:z,isFMFEnabled:Y,isFunction:F,isMobile:m,isObject:U,isPhone:E,isFirefox:g,isTouch:v,isValidEmailAddress:De,isValidPhoneNumber:k,lazyLoad:de,map3DIdsToTypes:Le,openInActionArray:Oe,removeLocalizationCategorization:V,replaceQueryParam:y,removeQueryParam:A,removeClass:ge,safelyExecuteFunction:H,scrollToTop:Z,setQueryParam:S,shouldAddCsrfToken:q,shouldGoToOneClickLicenseSave:fe,threeDPromoTextMap:Ce,threeDTypes:Re,updateAttribute:O,updateDefaultLibrary:W,addEventListener:R,bindElementsToListener:L,setAddEventListener:C,findAncestor:X,doubleParseObject:J,doubleStringifyObject:ee,addItemToLocalStorage:te,removeItemFromLocalStorage:ne,getCurrentDateFormatted:ae,toggleAttribute:ie,toggleClassName:se,getFindSimilarUrl:function(e,a){var i,s=[],r=t.get(a,"history",null),o=t.get(e,"is_editorial",!1),l=t.get(e,"is_premium",!1),c=t.get(e,"is_video",!1),u=t.get(e,"is_image",!1),d=t.get(e,"is_template",!1),h=t.get(e,"is_3D",!1),f="";return i=e.search_url?e.search_url:r?r.url+"?"+r.urlQuery:n.full_search_url,o?s.push(encodeURIComponent("filters[is_editorial]")+"=1"):l&&(s.push(encodeURIComponent("price[$$]")+"=1"),s.push(encodeURIComponent("price[$$$]")+"=1")),i.indexOf("content_type")<0&&(u?(s.push(encodeURIComponent("filters["+p.CONTENT_TYPE_IMAGE+"]")+"=1"),s.push(encodeURIComponent("filters["+p.CONTENT_TYPE_ILLUSTRATION+"]")+"=1"),s.push(encodeURIComponent("filters["+p.CONTENT_TYPE_PHOTO+"]")+"=1"),s.push(encodeURIComponent("filters["+p.CONTENT_TYPE_VECTOR+"]")+"=1")):c?s.push(encodeURIComponent("filters["+p.CONTENT_TYPE_VIDEO+"]")+"=1"):d?s.push(encodeURIComponent("filters["+p.CONTENT_TYPE_TEMPLATE+"]")+"=1"):h&&s.push(encodeURIComponent("filters["+p.CONTENT_TYPE_3D+"]")+"=1")),i=re(i),s.length&&(f=-1===i.indexOf("?")?"?":"&"),i+f+s.join("&")},updateCountDisplay:function(t,n){!t instanceof e||t.text(n?"("+n+")":"")},unsetSimilarParams:re,arrayToHashMap:oe,arrayFindByKeyValue:le,areEqualNumbers:ce,getLocalizedAssetType:ue,computeDownloadUrl:pe,updateContainerState:he,isValidOpenInAction:function(e){return Oe.indexOf(e)>=0},keyboardTabbingHandler:_e}}),define("app/utils/reducerHelpers",["jquery","page_config","lib/utils","app/constants/searchFilters","app/constants/assetTypeFilters"],function(e,t,n,a,i){"use strict";function s(e){return e[a.VIVID_COLOR]||e[a.DEPTH_OF_FIELD]}function r(){var i=t.search_params||{},s={};return c.forEach(function(t){var a=i[t];a&&(n.isObject(a)?Object.keys(a).length&&(s[t]=e.extend({},a)):s[t]=a)}),t.force_safe_search&&(s[a.SAFE_SEARCH]=1),s=o(s)}function o(e){var t,i;return e.filters?(t=e.filters[a.EDITORIAL],i=e.filters[a.CONTENT_TYPE_PHOTO]||e.filters[a.CONTENT_TYPE_ILLUSTRATION]||e.filters[a.CONTENT_TYPE_VECTOR],t&&"all"!==t&&(e.filters[a.EDITORIAL]=n.coerceValue(t,"int")),e.filters[a.CONTENT_TYPE_IMAGE]=i,e):e}function l(e,t){var n=e===i.EDITORIAL,s=-1!==a.EDITORIAL_CATEGORIES.indexOf(t);return n&&s||!n&&!s}var c=[a.AUTHOR,a.CATEGORY,a.COLLECTION,a.COLOR,a.FILTERS,a.KEYWORD,a.MODEL_ID,a.NATIVE_VISUAL_SEARCH,a.ORDER,a.PRICE,a.SAFE_SEARCH,a.SCORING,a.SERIE_ID,a.SIMILAR_CONTENT_ID];return{getDefaultFilterState:r,isAestheticFilterEnabled:s,isCategoryCompatibleWithAssetType:l}}),define("app/reducers/filters",["jquery","lodash","page_config","lib/utils","app/actions/actionTypes","app/constants/searchFilters","app/constants/assetTypeFilters","app/utils/reducerHelpers"],function(e,t,n,a,i,s,r,o){"use strict";function l(e,t){t.forEach(function(t){e[t]=void 0})}function c(t){var n,a={},i=[];return a[s.CONTENT_TYPE_3D]=1,a[s.CONTENT_TYPE_ILLUSTRATION]=1,a[s.CONTENT_TYPE_IMAGE]=1,a[s.CONTENT_TYPE_PHOTO]=1,a[s.CONTENT_TYPE_TEMPLATE]=1,a[s.CONTENT_TYPE_VIDEO]=1,a[s.CONTENT_TYPE_VECTOR]=1,n=e.extend(!0,{},t,{filters:a}),n[s.ORDER]=s.ORDER_RELEVANCE,S.push(s.EDITORIAL),l(n.filters,S),i=[s.PRICE],l(n,i),n}function u(t){var a,i={},r=[];return i[s.CONTENT_TYPE_3D]=0,i[s.CONTENT_TYPE_ILLUSTRATION]=1,i[s.CONTENT_TYPE_IMAGE]=1,i[s.CONTENT_TYPE_PHOTO]=1,i[s.CONTENT_TYPE_TEMPLATE]=0,i[s.CONTENT_TYPE_VIDEO]=0,i[s.CONTENT_TYPE_VECTOR]=1,a=e.extend(!0,{},t,{filters:i}),a[s.ORDER]=s.ORDER_RELEVANCE,S.push(s.EDITORIAL),l(a.filters,S),r=[s.PRICE],l(a,r),a[s.PRICE]={},n.isGloballySafeCollectionEnabled||(a[s.PRICE][s.PRICE_CLIENT_LOW]=1,a[s.PRICE][s.PRICE_SERVER_LOW]=1),a}function d(t,n){var a,i=n[s.CONTENT_TYPE_IMAGE];return a=e.extend(!0,{},t),a[s.FILTERS][s.CONTENT_TYPE_PHOTO]=i,a[s.FILTERS][s.CONTENT_TYPE_ILLUSTRATION]=i,a[s.FILTERS][s.CONTENT_TYPE_VECTOR]=i,a}function p(t){var n,a;return t&&t[s.SERIE_ID]?(n=[s.COLLECTION],a=e.extend(!0,{},t),l(a,n),a):t}function h(t){var n,a;return t&&t[s.MODEL_ID]?(n=[s.COLLECTION],a=e.extend(!0,{},t),l(a,n),a):t}function f(t){var a=[s.PRICE,s.SCORING],i=[s.COPY_SPACE,s.THREE_D_TYPE,s.ORIENTATION,s.TEMPLATE_CATEGORIES,s.TEMPLATE_TYPES,s.SIZE,s.SIZE_PIXELS_WIDTH_MIN,s.SIZE_PIXELS_HEIGHT_MIN,s.SIZE_MEGA_PIXELS_MIN,s.ILLUSTRATIVE,s.ILLUSTRATIVE_ALL,s.ILLUSTRATIVE_EXCLUDE,s.ILLUSTRATIVE_INCLUDE];n.isFreeEnabled&&i.push(s.CONTENT_TYPE_FREE_COLLECTION);var r,o={};return o[s.CONTENT_TYPE_3D]=0,o[s.CONTENT_TYPE_ILLUSTRATION]=0,o[s.CONTENT_TYPE_IMAGE]=0,o[s.CONTENT_TYPE_PHOTO]=0,o[s.CONTENT_TYPE_TEMPLATE]=0,o[s.CONTENT_TYPE_VIDEO]=1,o[s.CONTENT_TYPE_VECTOR]=0,r=e.extend(!0,{},t,{filters:o}),r[s.ORDER]=s.ORDER_RELEVANCE,l(r,a),l(r.filters,i),r}function _(t){var a=[s.COLOR,s.SCORING],i=[s.COPY_SPACE,s.THREE_D_TYPE,s.VIDEO_IS_4K,s.ORIENTATION,s.EXCLUDE_PEOPLE,s.INCLUDE_PEOPLE,s.EDITORIAL,s.VIDEO_FRAME_RATE,s.VIDEO_DURATION_MAX,s.VIDEO_DURATION_MIN,s.VIDEO_SHOT_SIZE,s.VIDEO_SHOT_ANGLE,s.ISOLATED,s.SIZE,s.SIZE_PIXELS_WIDTH_MIN,s.SIZE_PIXELS_HEIGHT_MIN,s.SIZE_MEGA_PIXELS_MIN,s.ILLUSTRATIVE,s.ILLUSTRATIVE_ALL,s.ILLUSTRATIVE_EXCLUDE,s.ILLUSTRATIVE_INCLUDE];n.isFreeEnabled&&i.push(s.CONTENT_TYPE_FREE_COLLECTION);var r,o={};return o[s.CONTENT_TYPE_3D]=0,o[s.CONTENT_TYPE_ILLUSTRATION]=0,o[s.CONTENT_TYPE_IMAGE]=0,o[s.CONTENT_TYPE_PHOTO]=0,o[s.CONTENT_TYPE_TEMPLATE]=1,o[s.CONTENT_TYPE_VIDEO]=0,o[s.CONTENT_TYPE_VECTOR]=0,r=e.extend(!0,{},t,{filters:o}),r[s.ORDER]=s.ORDER_RELEVANCE,a.push(s.PRICE),l(r,a),l(r.filters,i),r}function m(t){var a=[s.COLOR,s.SCORING],i=[s.COPY_SPACE,s.VIDEO_IS_4K,s.ORIENTATION,s.EXCLUDE_PEOPLE,s.INCLUDE_PEOPLE,s.TEMPLATE_CATEGORIES,s.TEMPLATE_TYPES,s.EDITORIAL,s.VIDEO_FRAME_RATE,s.VIDEO_DURATION_MAX,s.VIDEO_DURATION_MIN,s.VIDEO_SHOT_SIZE,s.VIDEO_SHOT_ANGLE,s.ISOLATED,s.SIZE,s.SIZE_PIXELS_WIDTH_MIN,s.SIZE_PIXELS_HEIGHT_MIN,s.SIZE_MEGA_PIXELS_MIN,s.ILLUSTRATIVE,s.ILLUSTRATIVE_ALL,s.ILLUSTRATIVE_EXCLUDE,s.ILLUSTRATIVE_INCLUDE];n.isFreeEnabled&&i.push(s.CONTENT_TYPE_FREE_COLLECTION);var r,o={};return o[s.CONTENT_TYPE_3D]=1,o[s.CONTENT_TYPE_ILLUSTRATION]=0,o[s.CONTENT_TYPE_IMAGE]=0,o[s.CONTENT_TYPE_PHOTO]=0,o[s.CONTENT_TYPE_TEMPLATE]=0,o[s.CONTENT_TYPE_VIDEO]=0,o[s.CONTENT_TYPE_VECTOR]=0,r=e.extend(!0,{},t,{filters:o}),r[s.ORDER]=s.ORDER_RELEVANCE,a.push(s.PRICE),l(r,a),l(r.filters,i),r}function E(t){var n,a={},i={};return a[s.CONTENT_TYPE_3D]=0,a[s.CONTENT_TYPE_ILLUSTRATION]=1,a[s.CONTENT_TYPE_IMAGE]=1,a[s.CONTENT_TYPE_PHOTO]=1,a[s.CONTENT_TYPE_TEMPLATE]=0,a[s.CONTENT_TYPE_VECTOR]=1,a[s.CONTENT_TYPE_VIDEO]=0,i[s.PRICE_CLIENT_HIGH]=1,i[s.PRICE_CLIENT_LOW]=0,i[s.PRICE_SERVER_MEDIUM]=1,i[s.PRICE_SERVER_HIGH]=1,i[s.PRICE_SERVER_LOW]=0,n=e.extend(!0,{},t,{filters:a,price:i}),n[s.ORDER]=s.ORDER_RELEVANCE,l(n.filters,y),n}function g(t){var n,a={};return a[s.CONTENT_TYPE_3D]=0,a[s.CONTENT_TYPE_ILLUSTRATION]=1,a[s.CONTENT_TYPE_IMAGE]=1,a[s.CONTENT_TYPE_PHOTO]=1,a[s.CONTENT_TYPE_TEMPLATE]=0,a[s.CONTENT_TYPE_VECTOR]=1,a[s.CONTENT_TYPE_VIDEO]=0,a[s.CONTENT_TYPE_FREE_COLLECTION]=1,a[s.ORDER]=s.ORDER_RELEVANCE,n=e.extend(!0,{},t,{filters:a}),l(n.filters,A),n[s.PRICE]={},n}function v(t){var a,i={},r=[s.PRICE],o=[s.COPY_SPACE,s.EXCLUDE_PEOPLE,s.INCLUDE_PEOPLE,s.TEMPLATE_CATEGORIES,s.TEMPLATE_TYPES,s.THREE_D_TYPE,s.VIDEO_IS_4K,s.VIDEO_FRAME_RATE,s.VIDEO_DURATION_MAX,s.VIDEO_DURATION_MIN,s.VIDEO_SHOT_SIZE,s.VIDEO_SHOT_ANGLE,s.ISOLATED,s.ILLUSTRATIVE,s.ILLUSTRATIVE_ALL,s.ILLUSTRATIVE_EXCLUDE,s.ILLUSTRATIVE_INCLUDE];return i[s.CONTENT_TYPE_3D]=0,i[s.CONTENT_TYPE_ILLUSTRATION]=1,i[s.CONTENT_TYPE_PHOTO]=1,i[s.CONTENT_TYPE_TEMPLATE]=0,i[s.CONTENT_TYPE_VECTOR]=1,i[s.CONTENT_TYPE_IMAGE]=1,i[s.CONTENT_TYPE_VIDEO]=1,i[s.EDITORIAL]=1,a=e.extend(!0,{},t,{filters:i}),a[s.ORDER]=s.ORDER_CREATION,n.isFreeEnabled&&o.push(s.CONTENT_TYPE_FREE_COLLECTION),l(a,r),l(a.filters,o),a}function b(t,r){var l,c,u,f,_,m="",E=[];switch(void 0===t&&(t=o.getDefaultFilterState()),r.type){case i.UPDATE_SEARCH_FILTERS:c=Object.keys(r.filters),l=e.extend({},t),c.forEach(function(n){var i;a.isObject(r.filters[n])?(i=e.extend({},t[n],r.filters[n]),Object.keys(i).forEach(function(e){i[e]||(i[e]=void 0)}),i=e.extend({},i),Object.keys(i).length?l[n]=i:l[n]=void 0):n!==s.SAFE_SEARCH?l[n]=r.filters[n]||void 0:l[n]=r.filters[n]}),l=p(l),l=h(l),l=e.extend({},l);break;case i.UPDATE_ASSET_TYPE_FILTER:case i.CLEAR_ASSET_TYPE_BREADCRUMB:c={},c[s.FILTERS]=e.extend({},t[s.FILTERS],r.filters),r.filters[s.CONTENT_TYPE_VIDEO]&&!r.all&&(c[s.PRICE]={}),l=e.extend({},t,c),l=d(l,r.filters);break;case i.UPDATE_IMAGE_SUBCATEGORY_FILTER:l=e.extend({},t),l[s.FILTERS]=e.extend({},t[s.FILTERS],r.filters);break;case i.UPDATE_ISOLATED_FILTER:l=e.extend({},t);var g=r.filters[s.ISOLATED];void 0===g&&l[s.FILTERS]?delete l[s.FILTERS][s.ISOLATED]:l[s.FILTERS]=e.extend({},t[s.FILTERS],r.filters);break;case i.UPDATE_ILLUSTRATIVE_FILTER:l=e.extend({},t);var g=r.filters[s.ILLUSTRATIVE];void 0===g&&l[s.FILTERS]?delete l[s.FILTERS][s.ILLUSTRATIVE]:l[s.FILTERS]=e.extend({},t[s.FILTERS],r.filters);break;case i.UPDATE_UNDISCOVERED_FILTER:l=e.extend({},t);var g=r.filters[s.UNDISCOVERED];void 0===g&&l[s.FILTERS]?delete l[s.FILTERS][s.UNDISCOVERED]:l[s.FILTERS]=e.extend({},t[s.FILTERS],r.filters);break;case i.UPDATE_FRAME_RATE_FILTER:l=e.extend({},t),c={},c[s.VIDEO_FRAME_RATE]=r.frameRates,l[s.FILTERS]=e.extend({},t[s.FILTERS],c);break;case i.UPDATE_SHOT_SIZE_FILTER:l=e.extend({},t),c={},c[s.VIDEO_SHOT_SIZE]=r.shotSize,l[s.FILTERS]=e.extend({},t[s.FILTERS],c);break;case i.UPDATE_SHOT_ANGLE_FILTER:l=e.extend({},t),c={},c[s.VIDEO_SHOT_ANGLE]=r.shotAngle,l[s.FILTERS]=e.extend({},t[s.FILTERS],c);break;case i.UPDATE_FIND_SIMILAR_BY:l=e.extend({},t),l[s.FIND_SIMILAR_BY]=r.findSimilarBy,delete l.oa;break;case i.UPDATE_DURATION_FILTER:l=e.extend({},t),c={},c[s.VIDEO_DURATION_MIN]=r.min,c[s.VIDEO_DURATION_MAX]=r.max,l[s.FILTERS]=e.extend({},t[s.FILTERS],c);break;case i.UPDATE_COPY_SPACE_FILTER:l=e.extend({},t),c={},c[s.COPY_SPACE]=r.value,l[s.FILTERS]=e.extend({},t[s.FILTERS],c);break;case i.NAVIGATE_SEARCH_HISTORY:case i.ALERT_UNDO_ACTION:l=r.previousFilters||o.getDefaultFilterState();break;case i.UPDATE_SIZE_FILTER:f=r[s.SIZE],l=e.extend({},t),c=e.extend({},r.value),_=l[s.FILTERS],delete _[s.SIZE_PIXELS_WIDTH_MIN],delete _[s.SIZE_PIXELS_HEIGHT_MIN],delete _[s.SIZE_MEGA_PIXELS_MIN],f&&(l[s.FILTERS]=e.extend({},t[s.FILTERS],c));break;case i.UPDATE_PAGE_DATA:l=t,r.data.filter_asset_type&&(u=r.data.filter_asset_type,l=e.extend(!0,{},O[u](t)),l[s.CATEGORY]&&!o.isCategoryCompatibleWithAssetType(u,l[s.CATEGORY])&&(l[s.CATEGORY]="")),l=e.extend({},l);break;case i.CLEAR_SEARCH_FILTERS:c={},c[s.KEYWORD]=t[s.KEYWORD],c[s.SIMILAR_CONTENT_ID]=t[s.SIMILAR_CONTENT_ID],c[s.NATIVE_VISUAL_SEARCH]=t[s.NATIVE_VISUAL_SEARCH],c[s.SERIE_ID]=t[s.SERIE_ID],c[s.MODEL_ID]=t[s.MODEL_ID],c[s.SAFE_SEARCH]=s.SAFE_SEARCH_ON,l=e.extend(!0,{},O[r.data.filter_asset_type](c));break;case i.GET_SEARCH_RESULTS.begin:c={},c[s.SIMILAR_CONTENT_ID]=r.searchFilters[s.SIMILAR_CONTENT_ID],l=e.extend(!0,{},t,c),l[s.PRICE]=t[s.PRICE];break;case i.GET_SEARCH_RESULTS.success:case i.GET_SEARCH_RESULTS.failure:l=e.extend(!0,{},t,r.searchFilters||{},{search_page:r.isHistoryNavigationSearch?r.searchFilters.search_page:1}),t[s.COLLECTION]&&!r.searchFilters[s.COLLECTION]&&(l[s.COLLECTION]=void 0),l.is_recent_search=void 0,l[s.IS_QUERY_SUGGESTED]=void 0,l.get_facets=void 0,l=e.extend({},l);break;case i.MULTI_IMAGE_ADD:l=e.extend(!0,{},t,r.searchFilters||{});break;case i.MULTI_IMAGE_REMOVE:l=e.extend(!0,{},t),l[s.SIMILAR_CONTENT_ID]=void 0;break;case i.CLEAR_BREADCRUMB_FILTER:switch(l=e.extend(!0,{},t),r.filter.key){case s.PRICE_CLIENT_LOW:case s.PRICE_CLIENT_HIGH:l.price=void 0;break;case s.COLOR:case s.CATEGORY:l[r.filter.key]=void 0;break;case s.DEPTH_OF_FIELD:case s.VIVID_COLOR:l.scoring[r.filter.key]=void 0;break;case s.EDITORIAL_DATE_RANGE:l.filters[s.EDITORIAL_EVENT_DATE_START]=void 0,l.filters[s.EDITORIAL_EVENT_DATE_END]=void 0;break;case s.CONTENT_TYPE_PHOTO:l.filters[s.CONTENT_TYPE_ILLUSTRATION]||l.filters[s.CONTENT_TYPE_VECTOR]?l.filters[s.CONTENT_TYPE_PHOTO]=0:(l.filters[s.CONTENT_TYPE_ILLUSTRATION]=1,l.filters[s.CONTENT_TYPE_VECTOR]=1);break;case s.CONTENT_TYPE_ILLUSTRATION:l.filters[s.CONTENT_TYPE_PHOTO]||l.filters[s.CONTENT_TYPE_VECTOR]?l.filters[s.CONTENT_TYPE_ILLUSTRATION]=0:(l.filters[s.CONTENT_TYPE_PHOTO]=1,l.filters[s.CONTENT_TYPE_VECTOR]=1);break;case s.CONTENT_TYPE_VECTOR:l.filters[s.CONTENT_TYPE_ILLUSTRATION]||l.filters[s.CONTENT_TYPE_PHOTO]?l.filters[s.CONTENT_TYPE_VECTOR]=0:(l.filters[s.CONTENT_TYPE_ILLUSTRATION]=1,l.filters[s.CONTENT_TYPE_PHOTO]=1);break;case s.SAFE_SEARCH:l[s.SAFE_SEARCH]=s.SAFE_SEARCH_ON;break;case s.TEMPLATE_TYPES:l.filters[s.TEMPLATE_TYPES]=[];break;case s.ISOLATED:l.filters[s.ISOLATED]=void 0;break;case s.UNDISCOVERED:l.filters[s.UNDISCOVERED]=void 0;break;case s.ILLUSTRATIVE:l.filters[s.ILLUSTRATIVE]=void 0;break;case s.SIZE:l.filters[s.SIZE_MEGA_PIXELS_MIN]=void 0,l.filters[s.SIZE_PIXELS_WIDTH_MIN]=void 0,l.filters[s.SIZE_PIXELS_HEIGHT_MIN]=void 0;break;case s.FIND_SIMILAR_BY:l[s.FIND_SIMILAR_BY]=void 0,l[s.SIMILAR_CONTENT_ID]=void 0;break;case s.ORIENTATION:if(n.isUSSSearchEnabled){m=l[s.FILTERS][s.ORIENTATION],E=a.getMultipleOrientationFilters(m),E.splice(E.indexOf(r.filter.value),1),l[s.FILTERS][s.ORIENTATION]=E.length?E.join(s.ORIENTATION_FILTER_SEPARATOR):void 0;break}default:Array.isArray(t.filters[r.filter.key])?l.filters[r.filter.key].splice(l.filters[r.filter.key].lastIndexOf(r.filter.value),1):t.filters[r.filter.key]&&(l.filters[r.filter.key]=void 0)}break;case i.UPDATE_ASSET_ID:l=e.extend(!0,{},t),l[s.ASSET_ID]=r.value;break;default:l=t}return l}function T(t,n){var a=e.extend({},t);switch(n.type){case i.SET_ASSET_TYPE_TO_PREMIUM:return a.filters=e.extend({},t.filters,a.filters),a.filters[s.CONTENT_TYPE_ILLUSTRATION]=1,a.filters[s.CONTENT_TYPE_IMAGE]=1,a.filters[s.CONTENT_TYPE_PHOTO]=1,a.filters[s.CONTENT_TYPE_VECTOR]=1,a.filters[s.CONTENT_TYPE_3D]=0,a.filters[s.CONTENT_TYPE_TEMPLATE]=0,a.filters[s.CONTENT_TYPE_VIDEO]=0,a.price=e.extend({},t.price,a.price),a.price[s.PRICE_CLIENT_LOW]=0,a.price[s.PRICE_CLIENT_HIGH]=1,a.price[s.PRICE_SERVER_LOW]=0,a.price[s.PRICE_SERVER_MEDIUM]=1,a.price[s.PRICE_SERVER_HIGH]=1,a[s.ORDER]=s.ORDER_RELEVANCE,a;default:return t}}function I(t,n){var a=e.extend({},t);switch(n.type){case i.SET_ASSET_TYPE_TO_PREMIUM:return a[s.CATEGORY]&&-1!==s.EDITORIAL_CATEGORIES.indexOf(a[s.CATEGORY])&&(a[s.CATEGORY]=""),y.forEach(function(e){delete a[s.FILTERS][e]}),a;default:return t}}var S=[s.THREE_D_TYPE,s.VIDEO_IS_4K,s.TEMPLATE_CATEGORIES,s.TEMPLATE_TYPES,s.VIDEO_FRAME_RATE,s.VIDEO_DURATION_MAX,s.VIDEO_DURATION_MIN,s.VIDEO_SHOT_SIZE,s.VIDEO_SHOT_ANGLE],y=[s.EDITORIAL,s.TEMPLATE_CATEGORIES,s.TEMPLATE_TYPES,s.THREE_D_TYPE,s.VIDEO_IS_4K,s.VIDEO_FRAME_RATE,s.VIDEO_DURATION_MAX,s.VIDEO_DURATION_MIN,s.VIDEO_SHOT_SIZE,s.VIDEO_SHOT_ANGLE,s.ISOLATED,s.ILLUSTRATIVE,s.ILLUSTRATIVE_ALL,s.ILLUSTRATIVE_EXCLUDE,s.ILLUSTRATIVE_INCLUDE],A=[s.EDITORIAL,s.TEMPLATE_CATEGORIES,s.TEMPLATE_TYPES,s.THREE_D_TYPE,s.VIDEO_IS_4K,s.VIDEO_FRAME_RATE,s.VIDEO_DURATION_MAX,s.VIDEO_DURATION_MIN,s.VIDEO_SHOT_SIZE,s.VIDEO_SHOT_ANGLE,s.ILLUSTRATIVE,s.ILLUSTRATIVE_ALL,s.ILLUSTRATIVE_EXCLUDE,s.ILLUSTRATIVE_INCLUDE];n.isFreeEnabled&&(y.push(s.CONTENT_TYPE_FREE_COLLECTION),S.push(s.CONTENT_TYPE_FREE_COLLECTION));var O={"3d":m,all:c,images:u,templates:_,videos:f,premium:E,editorial:v,free:g};return{filters:a.flattenReducers([T,b,I]),allFiltersSwitchState:c,imagesFiltersSwitchState:u,applyImageFilterToImageTypes:d,videosFiltersSwitchState:f,templatesFiltersSwitchState:_,threeDFiltersSwitchState:m,premiumFiltersSwitchState:E,freeFiltersSwitchState:g,editorialViewSwitchState:v,unsetFiltersReducer:I}}),define("app/constants/cookies",[],function(){"use strict";return{LAST_SELECTED_ASSET_TYPE:"last_selected_asset_type",FIRST_LIBRARY_CREATING:"first_library_creating"}}),define("app/constants/errors",[],function(){"use strict";return{MISSING_URL:"Url must be a string."}}),define("app/constants/mediaTypes",["page_config"],function(e){"use strict";return e.constants.media_types}),define("app/constants/routes",[],function(){"use strict";var e={COLLECTIONS:"/collections",CONTRIBUTORS:"/contributor",
EDITORIAL_COLLECTIONS:"/collections/editorial",PREMIUM_COLLECTIONS:"/premium",SEARCH:"/search"},t={};return t["Member/SwitchAccount"]="/Member/SwitchAccount/:guid",t["Member/SwitchPersonal"]="/Member/SwitchPersonal",t["Member/SwitchTeam"]="/Member/SwitchTeam/:guid",t["License-Terms"]="/license-terms",t.root="/",{allSearchRoutes:e,CONTRIBUTORS:"/contributor",COLLECTIONS:"/collections",DOWNLOAD_API:"/Rest/Libraries/Download/",EDITORIAL_COLLECTIONS:"/collections/editorial",PLANS:"/plans",PREMIUM_COLLECTIONS:"/premium",ROUTES_NAME_MAP:t,SEARCH:"/search",SEARCH_IMAGES:"/search/images",SEARCH_VIDEO:"/search/video",SEARCH_AUDIO:"/search/audio",SEARCH_TEMPLATES:"/search/templates",SEARCH_3D:"/search/3d-assets",SEARCH_EDITORIAL:"/search/editorial",SEARCH_PREMIUM:"/search/premium",SWITCH_PERSONAL:"/Member/SwitchPersonal",SWITCH_TEAM_NAME:"Member/SwitchTeam",SWITCH_ACCOUNT_NAME:"Member/SwitchAccount",SEARCH_FREE:"/search/free"}}),define("app/constants/index",["page_config","lib/window","app/constants/assetTypeFilters","app/constants/cookies","app/constants/errors","app/constants/mediaTypes","app/constants/routes","app/constants/searchFilters","app/constants/templateCategories","app/constants/templateTypes","app/constants/ui"],function(e,t,n,a,i,s,r,o,l,c,u){"use strict";return{assetTypeFilters:n,cookies:a,errors:i,mediaTypes:s,routes:r,searchFilters:o,templateCategories:l,templateTypes:c,ui:u}}),define("app/constants/page",["page_config","lib/window"],function(e,t){"use strict";return{BASE_URL:t.getOrigin()+e.base_url}}),define("app/utils/url",[],function(){"use strict";return{uriEncodeData:function(e){var t="",n=!0;for(var a in e)if(e.hasOwnProperty(a)&&void 0!==e[a]){var i,s=encodeURIComponent(a),r=e[a];i=null===r?"null":"object"==typeof r?encodeURIComponent(JSON.stringify(r)):encodeURIComponent(r),t+=(n?"":"&")+s+"="+i,n=!1}return t},buildQueryString:function(e,t){if(e){var n=this.uriEncodeData(e);return n&&(n=t&&-1!==t.indexOf("?")?"&"+n:"?"+n),n}return""}}}),define("app/utils/routes",["page_config","app/constants/routes","app/utils/url","lib/window"],function(e,t,n,a){"use strict";function i(){var t=a.getLocation("pathname"),n=e.base_url,i=n+"/video/";return t.startsWith(i)}function s(t){return e.base_url+h(t)}function r(t){var n=t?"/Member/EnterpriseReport":"/Member/LicenseHistory";return n="//"+a.getLocation("host")+e.base_url+n}var o=function(e){var n,a,i,s,r=!1;if(e)for(n=Object.keys(t.allSearchRoutes),a=n.length,i=0;i<a;i++)if(s=t.allSearchRoutes[n[i]],-1!==e.indexOf(s)){r=!0;break}return r},l=function(e){return p(e,t.PREMIUM_COLLECTIONS)},c=function(e){return p(e,t.COLLECTIONS)},u=function(e){return p(e,t.EDITORIAL_COLLECTIONS)},d=function(e){var a=t.SWITCH_PERSONAL;return a+n.buildQueryString({referrer_uri:e},a)},p=function(e,t){return e&&-1!==e.indexOf(t)},h=function(n){var a={all:t.SEARCH,images:t.SEARCH_IMAGES,videos:t.SEARCH_VIDEO,audio:t.SEARCH_AUDIO,templates:t.SEARCH_TEMPLATES,"3d":t.SEARCH_3D,premium:t.SEARCH_PREMIUM,editorial:t.SEARCH_EDITORIAL};return e.isFreeEnabled&&(a.free=t.SEARCH_FREE),a[n]};return{shouldRouteToSearch:o,isPremiumRoute:l,isCollectionsRoute:c,isEditorialCollectionsRoute:u,isVideoDetailsPage:i,getSwitchPersonalRoute:d,getSearchRoute:h,getSearchRouteWithBaseURL:s,getLicenseHistoryURL:r,getRoute:function(a,i,s){var r=t.ROUTES_NAME_MAP[i];return r&&(Object.keys(a).forEach(function(e){r=r.replace(":"+e,a[e])}),r+=n.buildQueryString(s,r),e.base_url&&(r=e.base_url+r)),r}}}),define("app/reducers/history",["jquery","i18n-config","app/actions/actionTypes","app/constants/index","app/constants/page","app/utils/routes","lib/utils","page_config"],function(e,t,n,a,i,s,r,o){"use strict";var l=i.BASE_URL+location.pathname.replace(o.base_url,""),c=document.title,u=function(){var e=o.search_params||{},t=window.location;return{oldKeyword:e.k||"",paramHistory:{},skipUrl:!1,title:c,url:l,urlQuery:0===t.search.indexOf("?")?t.search.substr(1):t.search}},d=function(e,n){var i=e||"",s=n.title,o=r.capitalizeFirstCharacter(i);return-1!==n.url.indexOf(a.routes.SEARCH)&&(s=o?t.sprintf(t.gettext("META::%s stock photos, royalty-free images, vectors, video"),o):t.gettext("META::Stock photos, royalty-free images, graphics, vectors & videos")),s},p=function(e,t,n){var r=e||{},o=r.url;if(!o)throw a.errors.MISSING_URL;return(s.shouldRouteToSearch(o)||n)&&(o=i.BASE_URL+s.getSearchRoute(t)),o};return{history:function(a,i){var s,r;switch(void 0===a&&(a=u()),i.type){case n.UPDATE_META_DATA:s=e.extend({},a,i.newMetaData);break;case n.GET_SEARCH_RESULTS.begin:s=e.extend({},a,{oldKeyword:i.searchFilters.k,urlQuery:i.newUrlQuery}),i.isHistoryNavigationSearch||(delete s.paramHistory[i.newUrlQuery],s.url=p(s,i.assetType,i.forceSearchRoute),s.title=d(i.searchFilters.k,s),s.paramHistory[i.newUrlQuery]={assetType:i.assetType,filters:i.searchFilters,pagination:i.searchPagination,title:s.title,url:s.url});break;case n.GET_SEARCH_RESULTS.success:if(i.result.is_csam_search){s=e.extend({},a,{title:t.gettext("META::No Results")});break}case n.GET_SEARCH_RESULTS.failure:s=e.extend({},a,{skipUrl:!1});break;case n.NAVIGATE_SEARCH_HISTORY:case n.ALERT_UNDO_ACTION:r=u(),s=e.extend({},a,{oldKeyword:i.pastKeyword||r.oldKeyword,skipUrl:i.shouldSkipUrl,title:i.previousTitle||r.title,url:i.previousUrl||r.url});break;default:s=a}return s}}}),define("app/actions/memberActions",["app/actions/actionTypes"],function(e){"use strict";function t(t,n){return{stockProfile:t,imsProfile:n,hasSubscription:a(t),type:e.MEMBER_LOGGED_IN}}function n(t){return{stockProfile:t,hasSubscription:a(t),type:e.MEMBER_UPDATED_ENTITLEMENT}}function a(e){return!!(e&&e.default_entitlement&&e.default_entitlement.has_subscription)}return{hasSubscription:a,memberLoggedIn:t,memberUpdatedEntitlement:n}}),define("app/reducers/member",["page_config","app/actions/actionTypes","app/actions/memberActions","jquery","lib/member"],function(e,t,n,a,i){"use strict";function s(){var t=null,s=null,r=!a.isEmptyObject(e.member)&&e.SUSI&&e.SUSI.profile,o=null,l=null;return r&&(s=e.SUSI.profile,o=e.member,i.setImsProfile(a.extend(!0,{},s)),i.setStockProfile(a.extend(!0,{},o)),t=n.hasSubscription(o),l=i.getUsername()),{username:l,avatar:null,imsProfile:s,stockProfile:o,hasSubscription:t,universalSubscriptionFlags:e.universalSubscriptionFlags}}function r(e,n){var r;if(void 0===e)return s();switch(n.type){case t.MEMBER_LOGGED_IN:i.setImsProfile(a.extend(!0,{},n.imsProfile)),i.setStockProfile(a.extend(!0,{},n.stockProfile)),r={username:i.getUsername(),avatar:"",imsProfile:n.imsProfile,stockProfile:n.stockProfile,hasSubscription:n.hasSubscription};break;case t.MEMBER_UPDATED_ENTITLEMENT:i.setStockProfile(a.extend(!0,{},n.stockProfile)),r={username:e.username,avatar:e.avatar,imsProfile:e.imsProfile,stockProfile:n.stockProfile,hasSubscription:n.hasSubscription};break;default:return e}return r}return{member:r}}),define("app/reducers/pagination",["jquery","page_config","lib/utils","app/actions/actionTypes"],function(e,t,n,a){"use strict";var i=function(){var e=t.search_pagination||{},n=parseInt(e.total_pages),a=parseInt(e.current_page),i=parseInt(e.total_results),s=t.search_pagination||{};return{numPages:parseInt(s.total_pages)||1,page:a||1,pageLimit:n||100,total:i||0}};return{pagination:function(t,n){var s;switch(void 0===t&&(t=i()),n.type){case a.GET_SEARCH_RESULTS.success:s=e.extend({},t,{numPages:n.result.num_pages,page:n.result.search_page,pageLimit:n.result.page_limit,total:n.result.total});break;case a.NAVIGATE_SEARCH_HISTORY:case a.ALERT_UNDO_ACTION:s=n.previousPagination||i();break;case a.UPDATE_PAGE_DATA:case a.SET_ASSET_TYPE_TO_PREMIUM:s=e.extend({},t,{page:1});break;default:s=t}return s}}}),define("app/reducers/search",["jquery","app/actions/actionTypes","page_config","app/utils/routes","lib/contentDetails"],function(e,t,n,a,i){"use strict";function s(){var t=i.getContentDataDic(),a={items:e.isEmptyObject(t)?[]:t,loading:!1,originalTotal:null,suggestedKeywords:null,categoryUrl:n.category_url||null};return a.originalTotal=n.original_total||null,a.suggestedKeywords=n.suggest_used||null,a.availableAssetTypes=n.available_asset_types||[],a.longtailKeywords=n.longtail_keywords||[],a.facets=n.facets||null,a.querySuggestions=n.query_suggestions||[],a.contributorRedirect=n.contributor_redirect||[],a.isCsamSearch=n.is_csam_search||!1,a}return{search:function(i,r){var o;switch(void 0===i&&(i=s()),r.type){case t.GET_SEARCH_RESULTS.begin:return e.extend({},i,{loading:!0});case t.GET_SEARCH_RESULTS.success:return r.result.content_url_redirect?e.extend({},i,{content_url_redirect:r.result.content_url_redirect}):(o=e.extend({},i,{items:r.result.items||{},loading:!1,originalTotal:r.result.original_total||null,suggestedKeywords:r.result.suggest_used||null,categoryUrl:a.getSearchRoute(r.assetType),assetTypeLinks:r.result.asset_type_links||[],availableAssetTypes:r.result.available_asset_types||[],longtailKeywords:r.result.longtail_keywords||[],isCsamSearch:r.result.is_csam_search||!1}),r.searchFilters&&"pagination"!==r.searchFilters.search_type&&(r.searchFilters.get_facets||r.result.facets&&r.result.facets.asset_type)&&(o.facets=r.result.facets),n.isQISAsyncEnabled||(o.querySuggestions=r.result.query_suggestions),o.contributorRedirect=r.result.contributor_redirect,o);case t.GET_SEARCH_RESULTS.failure:return e.extend({},i,{loading:!1,errors:r.error});case t.OPEN_FILTERS_PANEL.success:return o=e.extend({},i),o.facets=r.result.facets,o;case t.UPDATE_LIBRARY_ITEMS:return o=e.extend({},i),o.items=r.items,o;case t.ADD_ITEM_DETAILS:return i.items[r.content_id]?(o=i,o.items=e.extend({},i.items),o.items[r.content_id].editorial_data=e.extend({},r.data.editorial_data),o):i;default:return i}}}}),define("app/reducers/page",["jquery","app/actions/actionTypes","app/constants/assetTypeFilters","app/constants/cookies","page_config","lib/cookie","app/constants/localStorage"],function(e,t,n,a,i,s,r){"use strict";function o(){var t=e.extend({},i.page_data||{}),o=s(a.LAST_SELECTED_ASSET_TYPE)||n.DEFAULT_TYPE,l=localStorage.getItem(r.VECTOR_DOWNLOAD_CHOICE_KEY);return i.isHideAllFromDropdownEnabled&&o===n.ALL&&(o=n.IMAGES),o&&(t.original_asset_type=o),l&&(t.vectorDownloadChoice=l),e.extend(t,c),t}function l(n,a){var i={};switch(void 0===n&&(n=o()),a.type){case t.CHECK_FILTER_TOGGLE:i=e.extend({},n),i[a.name]=a.checked;break;case t.RESET_FILTER_TOGGLE:i=e.extend({},n,c);break;case t.UPDATE_PAGE_DATA:i=e.extend({},n,a.data);break;case t.SET_ASSET_TYPE_TO_PREMIUM:i=e.extend({},n),i.filter_asset_type="premium";break;case t.NAVIGATE_SEARCH_HISTORY:case t.ALERT_UNDO_ACTION:i=e.extend(n,{filter_asset_type:a.previousAssetType||n.original_asset_type});break;case t.OPEN_VECTOR_DOWNLOAD_SETTINGS:i=e.extend({},n,{shouldShowVectorDownloadSettingsModal:!0});break;case t.CLOSE_VECTOR_DOWNLOAD_SETTINGS:i=e.extend({},n,{shouldShowVectorDownloadSettingsModal:!1});break;case t.SAVE_VECTOR_DOWNLOAD_PREFERENCE:i=e.extend({},n,{shouldShowVectorDownloadSettingsModal:!1,vectorDownloadChoice:a.value});break;default:i=n}return i}var c={"3d-trigger":!0,"applications-trigger":!0,"asset-trigger":!0,"category-trigger":!0,"color-trigger":!0,"copy-space-trigger":!0,"dof-trigger":!0,"editorial-date-range-trigger":!0,"editorial-trigger":!0,"frame-rate-trigger":!1,"video-shot-size-trigger":!0,"video-shot-angle-trigger":!0,"duration-trigger":!0,"images-trigger":!0,"isolated-trigger":!0,"illustrative-trigger":!0,"undiscovered-trigger":!0,"media-trigger":!0,"order-trigger":!0,"orientation-trigger":!0,"people-trigger":!0,"price-trigger":!0,"safe-search-trigger":!0,"size-trigger":!0,"templates-trigger":!0,"videos-trigger":!0,"vivid-color-trigger":!1};return{page:l}}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("moment",t):e.moment=t()}(this,function(){"use strict";function e(){return Da.apply(null,arguments)}function t(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function n(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function a(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}function i(e){return void 0===e}function s(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function r(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function o(e,t){var n,a=[];for(n=0;n<e.length;++n)a.push(t(e[n],n));return a}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){for(var n in t)l(t,n)&&(e[n]=t[n]);return l(t,"toString")&&(e.toString=t.toString),l(t,"valueOf")&&(e.valueOf=t.valueOf),e}function u(e,t,n,a){return yt(e,t,n,a,!0).utc()}function d(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function p(e){return null==e._pf&&(e._pf=d()),e._pf}function h(e){if(null==e._isValid){var t=p(e),n=Na.call(t.parsedDateParts,function(e){return null!=e}),a=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(a=a&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return a;e._isValid=a}return e._isValid}function f(e){var t=u(NaN);return null!=e?c(p(t),e):p(t).userInvalidated=!0,t}function _(e,t){var n,a,s;if(i(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),i(t._i)||(e._i=t._i),i(t._f)||(e._f=t._f),i(t._l)||(e._l=t._l),i(t._strict)||(e._strict=t._strict),i(t._tzm)||(e._tzm=t._tzm),i(t._isUTC)||(e._isUTC=t._isUTC),i(t._offset)||(e._offset=t._offset),i(t._pf)||(e._pf=p(t)),i(t._locale)||(e._locale=t._locale),Pa.length>0)for(n=0;n<Pa.length;n++)a=Pa[n],s=t[a],i(s)||(e[a]=s);return e}function m(t){_(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Ma&&(Ma=!0,e.updateOffset(this),Ma=!1)}function E(e){return e instanceof m||null!=e&&null!=e._isAMomentObject}function g(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function v(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=g(t)),n}function b(e,t,n){var a,i=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),r=0;for(a=0;a<i;a++)(n&&e[a]!==t[a]||!n&&v(e[a])!==v(t[a]))&&r++;return r+s}function T(t){!1===e.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn}function I(t,n){var a=!0;return c(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),a){for(var i,s=[],r=0;r<arguments.length;r++){if(i="","object"==typeof arguments[r]){i+="\n["+r+"] ";for(var o in arguments[0])i+=o+": "+arguments[0][o]+", ";i=i.slice(0,-2)}else i=arguments[r];s.push(i)}T(t+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),a=!1}return n.apply(this,arguments)},n)}function S(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),wa[t]||(T(n),wa[t]=!0)}function y(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function A(e){var t,n;for(n in e)t=e[n],y(t)?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function O(e,t){var a,i=c({},e);for(a in t)l(t,a)&&(n(e[a])&&n(t[a])?(i[a]={},c(i[a],e[a]),c(i[a],t[a])):null!=t[a]?i[a]=t[a]:delete i[a]);for(a in e)l(e,a)&&!l(t,a)&&n(e[a])&&(i[a]=c({},i[a]));return i}function R(e){null!=e&&this.set(e)}function C(e,t,n){var a=this._calendar[e]||this._calendar.sameElse;return y(a)?a.call(t,n):a}function L(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function D(){return this._invalidDate}function N(e){return this._ordinal.replace("%d",e)}function P(e,t,n,a){var i=this._relativeTime[n];return y(i)?i(e,t,n,a):i.replace(/%d/i,e)}function M(e,t){var n=this._relativeTime[e>0?"future":"past"];return y(n)?n(t):n.replace(/%s/i,t)}function w(e,t){var n=e.toLowerCase();ja[n]=ja[n+"s"]=ja[t]=e}function x(e){return"string"==typeof e?ja[e]||ja[e.toLowerCase()]:void 0}function k(e){var t,n,a={};for(n in e)l(e,n)&&(t=x(n))&&(a[t]=e[n]);return a}function F(e,t){Va[e]=t}function U(e){var t=[];for(var n in e)t.push({unit:n,priority:Va[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function H(e,t,n){var a=""+Math.abs(e),i=t-a.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+a}function j(e,t,n,a){var i=a;"string"==typeof a&&(i=function(){return this[a]()}),e&&(qa[e]=i),t&&(qa[t[0]]=function(){return H(i.apply(this,arguments),t[1],t[2])}),n&&(qa[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function V(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function Y(e){var t,n,a=e.match(Ya);for(t=0,n=a.length;t<n;t++)qa[a[t]]?a[t]=qa[a[t]]:a[t]=V(a[t]);return function(t){var i,s="";for(i=0;i<n;i++)s+=y(a[i])?a[i].call(t,e):a[i];return s}}function G(e,t){return e.isValid()?(t=B(t,e.localeData()),Ba[t]=Ba[t]||Y(t),Ba[t](e)):e.localeData().invalidDate()}function B(e,t){function n(e){return t.longDateFormat(e)||e}var a=5;for(Ga.lastIndex=0;a>=0&&Ga.test(e);)e=e.replace(Ga,n),Ga.lastIndex=0,a-=1;return e}function q(e,t,n){ci[e]=y(t)?t:function(e,a){return e&&n?n:t}}function W(e,t){return l(ci,e)?ci[e](t._strict,t._locale):new RegExp(K(e))}function K(e){return z(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,a,i){return t||n||a||i}))}function z(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Q(e,t){var n,a=t;for("string"==typeof e&&(e=[e]),s(t)&&(a=function(e,n){n[t]=v(e)}),n=0;n<e.length;n++)ui[e[n]]=a}function Z(e,t){Q(e,function(e,n,a,i){a._w=a._w||{},t(e,a._w,a,i)})}function X(e,t,n){null!=t&&l(ui,e)&&ui[e](t,n._a,n,e)}function $(e){return J(e)?366:365}function J(e){return e%4==0&&e%100!=0||e%400==0}function ee(){return J(this.year())}function te(t,n){return function(a){return null!=a?(ae(this,t,a),e.updateOffset(this,n),this):ne(this,t)}}function ne(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function ae(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&J(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),oe(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function ie(e){return e=x(e),y(this[e])?this[e]():this}function se(e,t){if("object"==typeof e){e=k(e);for(var n=U(e),a=0;a<n.length;a++)this[n[a].unit](e[n[a].unit])}else if(e=x(e),y(this[e]))return this[e](t);return this}function re(e,t){return(e%t+t)%t}function oe(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=re(t,12);return e+=(t-n)/12,1===n?J(e)?29:28:31-n%7%2}function le(e,n){return e?t(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Ii).test(n)?"format":"standalone"][e.month()]:t(this._months)?this._months:this._months.standalone}function ce(e,n){return e?t(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Ii.test(n)?"format":"standalone"][e.month()]:t(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ue(e,t,n){var a,i,s,r=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],a=0;a<12;++a)s=u([2e3,a]),this._shortMonthsParse[a]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[a]=this.months(s,"").toLocaleLowerCase();return n?"MMM"===t?(i=bi.call(this._shortMonthsParse,r),-1!==i?i:null):(i=bi.call(this._longMonthsParse,r),-1!==i?i:null):"MMM"===t?-1!==(i=bi.call(this._shortMonthsParse,r))?i:(i=bi.call(this._longMonthsParse,r),-1!==i?i:null):-1!==(i=bi.call(this._longMonthsParse,r))?i:(i=bi.call(this._shortMonthsParse,r),-1!==i?i:null)}function de(e,t,n){var a,i,s;if(this._monthsParseExact)return ue.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),a=0;a<12;a++){if(i=u([2e3,a]),n&&!this._longMonthsParse[a]&&(this._longMonthsParse[a]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[a]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[a]||(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[a]=new RegExp(s.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[a].test(e))return a;if(n&&"MMM"===t&&this._shortMonthsParse[a].test(e))return a;if(!n&&this._monthsParse[a].test(e))return a}}function pe(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=v(t);else if(t=e.localeData().monthsParse(t),!s(t))return e;return n=Math.min(e.date(),oe(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function he(t){return null!=t?(pe(this,t),e.updateOffset(this,!0),this):ne(this,"Month")}function fe(){return oe(this.year(),this.month())}function _e(e){return this._monthsParseExact?(l(this,"_monthsRegex")||Ee.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=Ai),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function me(e){return this._monthsParseExact?(l(this,"_monthsRegex")||Ee.call(this),e?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=Oi),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function Ee(){function e(e,t){return t.length-e.length}var t,n,a=[],i=[],s=[];for(t=0;t<12;t++)n=u([2e3,t]),a.push(this.monthsShort(n,"")),i.push(this.months(n,"")),s.push(this.months(n,"")),s.push(this.monthsShort(n,""));for(a.sort(e),i.sort(e),s.sort(e),t=0;t<12;t++)a[t]=z(a[t]),i[t]=z(i[t]);for(t=0;t<24;t++)s[t]=z(s[t]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+a.join("|")+")","i")}function ge(e,t,n,a,i,s,r){var o;return e<100&&e>=0?(o=new Date(e+400,t,n,a,i,s,r),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,n,a,i,s,r),o}function ve(e){var t;if(e<100&&e>=0){var n=Array.prototype.slice.call(arguments);n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)}else t=new Date(Date.UTC.apply(null,arguments));return t}function be(e,t,n){var a=7+t-n;return-(7+ve(e,0,a).getUTCDay()-t)%7+a-1}function Te(e,t,n,a,i){var s,r,o=(7+n-a)%7,l=be(e,a,i),c=1+7*(t-1)+o+l;return c<=0?(s=e-1,r=$(s)+c):c>$(e)?(s=e+1,r=c-$(e)):(s=e,r=c),{year:s,dayOfYear:r}}function Ie(e,t,n){var a,i,s=be(e.year(),t,n),r=Math.floor((e.dayOfYear()-s-1)/7)+1;return r<1?(i=e.year()-1,a=r+Se(i,t,n)):r>Se(e.year(),t,n)?(a=r-Se(e.year(),t,n),i=e.year()+1):(i=e.year(),a=r),{week:a,year:i}}function Se(e,t,n){var a=be(e,t,n),i=be(e+1,t,n);return($(e)-a+i)/7}function ye(e){return Ie(e,this._week.dow,this._week.doy).week}function Ae(){return this._week.dow}function Oe(){return this._week.doy}function Re(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Ce(e){var t=Ie(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Le(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function De(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Ne(e,t){return e.slice(t,7).concat(e.slice(0,t))}function Pe(e,n){var a=t(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(n)?"format":"standalone"];return!0===e?Ne(a,this._week.dow):e?a[e.day()]:a}function Me(e){return!0===e?Ne(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function we(e){return!0===e?Ne(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function xe(e,t,n){var a,i,s,r=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],a=0;a<7;++a)s=u([2e3,1]).day(a),this._minWeekdaysParse[a]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[a]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[a]=this.weekdays(s,"").toLocaleLowerCase();return n?"dddd"===t?(i=bi.call(this._weekdaysParse,r),-1!==i?i:null):"ddd"===t?(i=bi.call(this._shortWeekdaysParse,r),-1!==i?i:null):(i=bi.call(this._minWeekdaysParse,r),-1!==i?i:null):"dddd"===t?-1!==(i=bi.call(this._weekdaysParse,r))?i:-1!==(i=bi.call(this._shortWeekdaysParse,r))?i:(i=bi.call(this._minWeekdaysParse,r),-1!==i?i:null):"ddd"===t?-1!==(i=bi.call(this._shortWeekdaysParse,r))?i:-1!==(i=bi.call(this._weekdaysParse,r))?i:(i=bi.call(this._minWeekdaysParse,r),-1!==i?i:null):-1!==(i=bi.call(this._minWeekdaysParse,r))?i:-1!==(i=bi.call(this._weekdaysParse,r))?i:(i=bi.call(this._shortWeekdaysParse,r),-1!==i?i:null)}function ke(e,t,n){var a,i,s;if(this._weekdaysParseExact)return xe.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),a=0;a<7;a++){if(i=u([2e3,1]).day(a),n&&!this._fullWeekdaysParse[a]&&(this._fullWeekdaysParse[a]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[a]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[a]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[a]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[a]=new RegExp(s.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[a].test(e))return a;if(n&&"ddd"===t&&this._shortWeekdaysParse[a].test(e))return a;if(n&&"dd"===t&&this._minWeekdaysParse[a].test(e))return a;if(!n&&this._weekdaysParse[a].test(e))return a}}function Fe(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Le(e,this.localeData()),this.add(e-t,"d")):t}function Ue(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function He(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=De(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function je(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Ge.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=Ni),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ve(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Ge.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Pi),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ye(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Ge.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Mi),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ge(){function e(e,t){return t.length-e.length}var t,n,a,i,s,r=[],o=[],l=[],c=[];for(t=0;t<7;t++)n=u([2e3,1]).day(t),a=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),s=this.weekdays(n,""),r.push(a),o.push(i),l.push(s),c.push(a),c.push(i),c.push(s);for(r.sort(e),o.sort(e),l.sort(e),c.sort(e),t=0;t<7;t++)o[t]=z(o[t]),l[t]=z(l[t]),c[t]=z(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Be(){return this.hours()%12||12}function qe(){return this.hours()||24}function We(e,t){j(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Ke(e,t){return t._meridiemParse}function ze(e){return"p"===(e+"").toLowerCase().charAt(0)}function Qe(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Ze(e){return e?e.toLowerCase().replace("_","-"):e}function Xe(e){for(var t,n,a,i,s=0;s<e.length;){for(i=Ze(e[s]).split("-"),t=i.length,n=Ze(e[s+1]),n=n?n.split("-"):null;t>0;){if(a=$e(i.slice(0,t).join("-")))return a;if(n&&n.length>=t&&b(i,n,!0)>=t-1)break;t--}s++}return wi}function $e(e){var t=null;if(!Ui[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=wi._abbr;require("./locale/"+e),Je(t)}catch(e){}return Ui[e]}function Je(e,t){var n;return e&&(n=i(t)?nt(e):et(e,t),n?wi=n:"undefined"!=typeof console&&console.warn),wi._abbr}function et(e,t){if(null!==t){var n,a=Fi;if(t.abbr=e,null!=Ui[e])S("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),a=Ui[e]._config;else if(null!=t.parentLocale)if(null!=Ui[t.parentLocale])a=Ui[t.parentLocale]._config;else{if(null==(n=$e(t.parentLocale)))return Hi[t.parentLocale]||(Hi[t.parentLocale]=[]),Hi[t.parentLocale].push({name:e,config:t}),null;a=n._config}return Ui[e]=new R(O(a,t)),Hi[e]&&Hi[e].forEach(function(e){et(e.name,e.config)}),Je(e),Ui[e]}return delete Ui[e],null}function tt(e,t){if(null!=t){var n,a,i=Fi;a=$e(e),null!=a&&(i=a._config),t=O(i,t),n=new R(t),n.parentLocale=Ui[e],Ui[e]=n,Je(e)}else null!=Ui[e]&&(null!=Ui[e].parentLocale?Ui[e]=Ui[e].parentLocale:null!=Ui[e]&&delete Ui[e]);return Ui[e]}function nt(e){var n;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return wi;if(!t(e)){if(n=$e(e))return n;e=[e]}return Xe(e)}function at(){return xa(Ui)}function it(e){var t,n=e._a;return n&&-2===p(e).overflow&&(t=n[pi]<0||n[pi]>11?pi:n[hi]<1||n[hi]>oe(n[di],n[pi])?hi:n[fi]<0||n[fi]>24||24===n[fi]&&(0!==n[_i]||0!==n[mi]||0!==n[Ei])?fi:n[_i]<0||n[_i]>59?_i:n[mi]<0||n[mi]>59?mi:n[Ei]<0||n[Ei]>999?Ei:-1,p(e)._overflowDayOfYear&&(t<di||t>hi)&&(t=hi),p(e)._overflowWeeks&&-1===t&&(t=gi),p(e)._overflowWeekday&&-1===t&&(t=vi),p(e).overflow=t),e}function st(e,t,n){return null!=e?e:null!=t?t:n}function rt(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function ot(e){var t,n,a,i,s,r=[];if(!e._d){for(a=rt(e),e._w&&null==e._a[hi]&&null==e._a[pi]&&lt(e),null!=e._dayOfYear&&(s=st(e._a[di],a[di]),(e._dayOfYear>$(s)||0===e._dayOfYear)&&(p(e)._overflowDayOfYear=!0),n=ve(s,0,e._dayOfYear),e._a[pi]=n.getUTCMonth(),e._a[hi]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=r[t]=a[t];for(;t<7;t++)e._a[t]=r[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[fi]&&0===e._a[_i]&&0===e._a[mi]&&0===e._a[Ei]&&(e._nextDay=!0,e._a[fi]=0),e._d=(e._useUTC?ve:ge).apply(null,r),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[fi]=24),e._w&&void 0!==e._w.d&&e._w.d!==i&&(p(e).weekdayMismatch=!0)}}function lt(e){var t,n,a,i,s,r,o,l;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)s=1,r=4,n=st(t.GG,e._a[di],Ie(At(),1,4).year),a=st(t.W,1),((i=st(t.E,1))<1||i>7)&&(l=!0);else{s=e._locale._week.dow,r=e._locale._week.doy;var c=Ie(At(),s,r);n=st(t.gg,e._a[di],c.year),a=st(t.w,c.week),null!=t.d?((i=t.d)<0||i>6)&&(l=!0):null!=t.e?(i=t.e+s,(t.e<0||t.e>6)&&(l=!0)):i=s}a<1||a>Se(n,s,r)?p(e)._overflowWeeks=!0:null!=l?p(e)._overflowWeekday=!0:(o=Te(n,a,i,s,r),e._a[di]=o.year,e._dayOfYear=o.dayOfYear)}function ct(e){var t,n,a,i,s,r,o=e._i,l=ji.exec(o)||Vi.exec(o);if(l){for(p(e).iso=!0,t=0,n=Gi.length;t<n;t++)if(Gi[t][1].exec(l[1])){i=Gi[t][0],a=!1!==Gi[t][2];break}
if(null==i)return void(e._isValid=!1);if(l[3]){for(t=0,n=Bi.length;t<n;t++)if(Bi[t][1].exec(l[3])){s=(l[2]||" ")+Bi[t][0];break}if(null==s)return void(e._isValid=!1)}if(!a&&null!=s)return void(e._isValid=!1);if(l[4]){if(!Yi.exec(l[4]))return void(e._isValid=!1);r="Z"}e._f=i+(s||"")+(r||""),Et(e)}else e._isValid=!1}function ut(e,t,n,a,i,s){var r=[dt(e),yi.indexOf(t),parseInt(n,10),parseInt(a,10),parseInt(i,10)];return s&&r.push(parseInt(s,10)),r}function dt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function pt(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function ht(e,t,n){if(e){if(Li.indexOf(e)!==new Date(t[0],t[1],t[2]).getDay())return p(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function ft(e,t,n){if(e)return Ki[e];if(t)return 0;var a=parseInt(n,10),i=a%100;return(a-i)/100*60+i}function _t(e){var t=Wi.exec(pt(e._i));if(t){var n=ut(t[4],t[3],t[2],t[5],t[6],t[7]);if(!ht(t[1],n,e))return;e._a=n,e._tzm=ft(t[8],t[9],t[10]),e._d=ve.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),p(e).rfc2822=!0}else e._isValid=!1}function mt(t){var n=qi.exec(t._i);if(null!==n)return void(t._d=new Date(+n[1]));ct(t),!1===t._isValid&&(delete t._isValid,_t(t),!1===t._isValid&&(delete t._isValid,e.createFromInputFallback(t)))}function Et(t){if(t._f===e.ISO_8601)return void ct(t);if(t._f===e.RFC_2822)return void _t(t);t._a=[],p(t).empty=!0;var n,a,i,s,r,o=""+t._i,l=o.length,c=0;for(i=B(t._f,t._locale).match(Ya)||[],n=0;n<i.length;n++)s=i[n],a=(o.match(W(s,t))||[])[0],a&&(r=o.substr(0,o.indexOf(a)),r.length>0&&p(t).unusedInput.push(r),o=o.slice(o.indexOf(a)+a.length),c+=a.length),qa[s]?(a?p(t).empty=!1:p(t).unusedTokens.push(s),X(s,a,t)):t._strict&&!a&&p(t).unusedTokens.push(s);p(t).charsLeftOver=l-c,o.length>0&&p(t).unusedInput.push(o),t._a[fi]<=12&&!0===p(t).bigHour&&t._a[fi]>0&&(p(t).bigHour=void 0),p(t).parsedDateParts=t._a.slice(0),p(t).meridiem=t._meridiem,t._a[fi]=gt(t._locale,t._a[fi],t._meridiem),ot(t),it(t)}function gt(e,t,n){var a;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(a=e.isPM(n),a&&t<12&&(t+=12),a||12!==t||(t=0),t):t}function vt(e){var t,n,a,i,s;if(0===e._f.length)return p(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)s=0,t=_({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Et(t),h(t)&&(s+=p(t).charsLeftOver,s+=10*p(t).unusedTokens.length,p(t).score=s,(null==a||s<a)&&(a=s,n=t));c(e,n||t)}function bt(e){if(!e._d){var t=k(e._i);e._a=o([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),ot(e)}}function Tt(e){var t=new m(it(It(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function It(e){var n=e._i,a=e._f;return e._locale=e._locale||nt(e._l),null===n||void 0===a&&""===n?f({nullInput:!0}):("string"==typeof n&&(e._i=n=e._locale.preparse(n)),E(n)?new m(it(n)):(r(n)?e._d=n:t(a)?vt(e):a?Et(e):St(e),h(e)||(e._d=null),e))}function St(a){var l=a._i;i(l)?a._d=new Date(e.now()):r(l)?a._d=new Date(l.valueOf()):"string"==typeof l?mt(a):t(l)?(a._a=o(l.slice(0),function(e){return parseInt(e,10)}),ot(a)):n(l)?bt(a):s(l)?a._d=new Date(l):e.createFromInputFallback(a)}function yt(e,i,s,r,o){var l={};return!0!==s&&!1!==s||(r=s,s=void 0),(n(e)&&a(e)||t(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=o,l._l=s,l._i=e,l._f=i,l._strict=r,Tt(l)}function At(e,t,n,a){return yt(e,t,n,a,!1)}function Ot(e,n){var a,i;if(1===n.length&&t(n[0])&&(n=n[0]),!n.length)return At();for(a=n[0],i=1;i<n.length;++i)n[i].isValid()&&!n[i][e](a)||(a=n[i]);return a}function Rt(){return Ot("isBefore",[].slice.call(arguments,0))}function Ct(){return Ot("isAfter",[].slice.call(arguments,0))}function Lt(e){for(var t in e)if(-1===bi.call(Xi,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,a=0;a<Xi.length;++a)if(e[Xi[a]]){if(n)return!1;parseFloat(e[Xi[a]])!==v(e[Xi[a]])&&(n=!0)}return!0}function Dt(){return this._isValid}function Nt(){return Zt(NaN)}function Pt(e){var t=k(e),n=t.year||0,a=t.quarter||0,i=t.month||0,s=t.week||t.isoWeek||0,r=t.day||0,o=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=Lt(t),this._milliseconds=+u+1e3*c+6e4*l+1e3*o*60*60,this._days=+r+7*s,this._months=+i+3*a+12*n,this._data={},this._locale=nt(),this._bubble()}function Mt(e){return e instanceof Pt}function wt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function xt(e,t){j(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+H(~~(e/60),2)+t+H(~~e%60,2)})}function kt(e,t){var n=(t||"").match(e);if(null===n)return null;var a=n[n.length-1]||[],i=(a+"").match($i)||["-",0,0],s=60*i[1]+v(i[2]);return 0===s?0:"+"===i[0]?s:-s}function Ft(t,n){var a,i;return n._isUTC?(a=n.clone(),i=(E(t)||r(t)?t.valueOf():At(t).valueOf())-a.valueOf(),a._d.setTime(a._d.valueOf()+i),e.updateOffset(a,!1),a):At(t).local()}function Ut(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Ht(t,n,a){var i,s=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=kt(ri,t)))return this}else Math.abs(t)<16&&!a&&(t*=60);return!this._isUTC&&n&&(i=Ut(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),s!==t&&(!n||this._changeInProgress?tn(this,Zt(t-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:Ut(this)}function jt(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Vt(e){return this.utcOffset(0,e)}function Yt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ut(this),"m")),this}function Gt(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=kt(si,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Bt(e){return!!this.isValid()&&(e=e?At(e).utcOffset():0,(this.utcOffset()-e)%60==0)}function qt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Wt(){if(!i(this._isDSTShifted))return this._isDSTShifted;var e={};if(_(e,this),e=It(e),e._a){var t=e._isUTC?u(e._a):At(e._a);this._isDSTShifted=this.isValid()&&b(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Kt(){return!!this.isValid()&&!this._isUTC}function zt(){return!!this.isValid()&&this._isUTC}function Qt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Zt(e,t){var n,a,i,r=e,o=null;return Mt(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:s(e)?(r={},t?r[t]=e:r.milliseconds=e):(o=Ji.exec(e))?(n="-"===o[1]?-1:1,r={y:0,d:v(o[hi])*n,h:v(o[fi])*n,m:v(o[_i])*n,s:v(o[mi])*n,ms:v(wt(1e3*o[Ei]))*n}):(o=es.exec(e))?(n="-"===o[1]?-1:1,r={y:Xt(o[2],n),M:Xt(o[3],n),w:Xt(o[4],n),d:Xt(o[5],n),h:Xt(o[6],n),m:Xt(o[7],n),s:Xt(o[8],n)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(i=Jt(At(r.from),At(r.to)),r={},r.ms=i.milliseconds,r.M=i.months),a=new Pt(r),Mt(e)&&l(e,"_locale")&&(a._locale=e._locale),a}function Xt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function $t(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Jt(e,t){var n;return e.isValid()&&t.isValid()?(t=Ft(t,e),e.isBefore(t)?n=$t(e,t):(n=$t(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function en(e,t){return function(n,a){var i,s;return null===a||isNaN(+a)||(S(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=n,n=a,a=s),n="string"==typeof n?+n:n,i=Zt(n,a),tn(this,i,e),this}}function tn(t,n,a,i){var s=n._milliseconds,r=wt(n._days),o=wt(n._months);t.isValid()&&(i=null==i||i,o&&pe(t,ne(t,"Month")+o*a),r&&ae(t,"Date",ne(t,"Date")+r*a),s&&t._d.setTime(t._d.valueOf()+s*a),i&&e.updateOffset(t,r||o))}function nn(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function an(t,n){var a=t||At(),i=Ft(a,this).startOf("day"),s=e.calendarFormat(this,i)||"sameElse",r=n&&(y(n[s])?n[s].call(this,a):n[s]);return this.format(r||this.localeData().calendar(s,this,At(a)))}function sn(){return new m(this)}function rn(e,t){var n=E(e)?e:At(e);return!(!this.isValid()||!n.isValid())&&(t=x(t)||"millisecond","millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function on(e,t){var n=E(e)?e:At(e);return!(!this.isValid()||!n.isValid())&&(t=x(t)||"millisecond","millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function ln(e,t,n,a){var i=E(e)?e:At(e),s=E(t)?t:At(t);return!!(this.isValid()&&i.isValid()&&s.isValid())&&(a=a||"()",("("===a[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===a[1]?this.isBefore(s,n):!this.isAfter(s,n)))}function cn(e,t){var n,a=E(e)?e:At(e);return!(!this.isValid()||!a.isValid())&&(t=x(t)||"millisecond","millisecond"===t?this.valueOf()===a.valueOf():(n=a.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function un(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function dn(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function pn(e,t,n){var a,i,s;if(!this.isValid())return NaN;if(a=Ft(e,this),!a.isValid())return NaN;switch(i=6e4*(a.utcOffset()-this.utcOffset()),t=x(t)){case"year":s=hn(this,a)/12;break;case"month":s=hn(this,a);break;case"quarter":s=hn(this,a)/3;break;case"second":s=(this-a)/1e3;break;case"minute":s=(this-a)/6e4;break;case"hour":s=(this-a)/36e5;break;case"day":s=(this-a-i)/864e5;break;case"week":s=(this-a-i)/6048e5;break;default:s=this-a}return n?s:g(s)}function hn(e,t){var n,a,i=12*(t.year()-e.year())+(t.month()-e.month()),s=e.clone().add(i,"months");return t-s<0?(n=e.clone().add(i-1,"months"),a=(t-s)/(s-n)):(n=e.clone().add(i+1,"months"),a=(t-s)/(n-s)),-(i+a)||0}function fn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function _n(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?G(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):y(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",G(n,"Z")):G(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function mn(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',a=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(n+a+"-MM-DD[T]HH:mm:ss.SSS"+i)}function En(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=G(this,t);return this.localeData().postformat(n)}function gn(e,t){return this.isValid()&&(E(e)&&e.isValid()||At(e).isValid())?Zt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function vn(e){return this.from(At(),e)}function bn(e,t){return this.isValid()&&(E(e)&&e.isValid()||At(e).isValid())?Zt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Tn(e){return this.to(At(),e)}function In(e){var t;return void 0===e?this._locale._abbr:(t=nt(e),null!=t&&(this._locale=t),this)}function Sn(){return this._locale}function yn(e,t){return(e%t+t)%t}function An(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-os:new Date(e,t,n).valueOf()}function On(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-os:Date.UTC(e,t,n)}function Rn(t){var n;if(void 0===(t=x(t))||"millisecond"===t||!this.isValid())return this;var a=this._isUTC?On:An;switch(t){case"year":n=a(this.year(),0,1);break;case"quarter":n=a(this.year(),this.month()-this.month()%3,1);break;case"month":n=a(this.year(),this.month(),1);break;case"week":n=a(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":n=a(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":n=a(this.year(),this.month(),this.date());break;case"hour":n=this._d.valueOf(),n-=yn(n+(this._isUTC?0:this.utcOffset()*ss),rs);break;case"minute":n=this._d.valueOf(),n-=yn(n,ss);break;case"second":n=this._d.valueOf(),n-=yn(n,is)}return this._d.setTime(n),e.updateOffset(this,!0),this}function Cn(t){var n;if(void 0===(t=x(t))||"millisecond"===t||!this.isValid())return this;var a=this._isUTC?On:An;switch(t){case"year":n=a(this.year()+1,0,1)-1;break;case"quarter":n=a(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":n=a(this.year(),this.month()+1,1)-1;break;case"week":n=a(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":n=a(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":n=a(this.year(),this.month(),this.date()+1)-1;break;case"hour":n=this._d.valueOf(),n+=rs-yn(n+(this._isUTC?0:this.utcOffset()*ss),rs)-1;break;case"minute":n=this._d.valueOf(),n+=ss-yn(n,ss)-1;break;case"second":n=this._d.valueOf(),n+=is-yn(n,is)-1}return this._d.setTime(n),e.updateOffset(this,!0),this}function Ln(){return this._d.valueOf()-6e4*(this._offset||0)}function Dn(){return Math.floor(this.valueOf()/1e3)}function Nn(){return new Date(this.valueOf())}function Pn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Mn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function wn(){return this.isValid()?this.toISOString():null}function xn(){return h(this)}function kn(){return c({},p(this))}function Fn(){return p(this).overflow}function Un(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Hn(e,t){j(0,[e,e.length],0,t)}function jn(e){return Bn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Vn(e){return Bn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Yn(){return Se(this.year(),1,4)}function Gn(){var e=this.localeData()._week;return Se(this.year(),e.dow,e.doy)}function Bn(e,t,n,a,i){var s;return null==e?Ie(this,a,i).year:(s=Se(e,a,i),t>s&&(t=s),qn.call(this,e,t,n,a,i))}function qn(e,t,n,a,i){var s=Te(e,t,n,a,i),r=ve(s.year,0,s.dayOfYear);return this.year(r.getUTCFullYear()),this.month(r.getUTCMonth()),this.date(r.getUTCDate()),this}function Wn(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Kn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function zn(e,t){t[Ei]=v(1e3*("0."+e))}function Qn(){return this._isUTC?"UTC":""}function Zn(){return this._isUTC?"Coordinated Universal Time":""}function Xn(e){return At(1e3*e)}function $n(){return At.apply(null,arguments).parseZone()}function Jn(e){return e}function ea(e,t,n,a){var i=nt(),s=u().set(a,t);return i[n](s,e)}function ta(e,t,n){if(s(e)&&(t=e,e=void 0),e=e||"",null!=t)return ea(e,t,n,"month");var a,i=[];for(a=0;a<12;a++)i[a]=ea(e,a,n,"month");return i}function na(e,t,n,a){"boolean"==typeof e?(s(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,s(t)&&(n=t,t=void 0),t=t||"");var i=nt(),r=e?i._week.dow:0;if(null!=n)return ea(t,(n+r)%7,a,"day");var o,l=[];for(o=0;o<7;o++)l[o]=ea(t,(o+r)%7,a,"day");return l}function aa(e,t){return ta(e,t,"months")}function ia(e,t){return ta(e,t,"monthsShort")}function sa(e,t,n){return na(e,t,n,"weekdays")}function ra(e,t,n){return na(e,t,n,"weekdaysShort")}function oa(e,t,n){return na(e,t,n,"weekdaysMin")}function la(){var e=this._data;return this._milliseconds=_s(this._milliseconds),this._days=_s(this._days),this._months=_s(this._months),e.milliseconds=_s(e.milliseconds),e.seconds=_s(e.seconds),e.minutes=_s(e.minutes),e.hours=_s(e.hours),e.months=_s(e.months),e.years=_s(e.years),this}function ca(e,t,n,a){var i=Zt(t,n);return e._milliseconds+=a*i._milliseconds,e._days+=a*i._days,e._months+=a*i._months,e._bubble()}function ua(e,t){return ca(this,e,t,1)}function da(e,t){return ca(this,e,t,-1)}function pa(e){return e<0?Math.floor(e):Math.ceil(e)}function ha(){var e,t,n,a,i,s=this._milliseconds,r=this._days,o=this._months,l=this._data;return s>=0&&r>=0&&o>=0||s<=0&&r<=0&&o<=0||(s+=864e5*pa(_a(o)+r),r=0,o=0),l.milliseconds=s%1e3,e=g(s/1e3),l.seconds=e%60,t=g(e/60),l.minutes=t%60,n=g(t/60),l.hours=n%24,r+=g(n/24),i=g(fa(r)),o+=i,r-=pa(_a(i)),a=g(o/12),o%=12,l.days=r,l.months=o,l.years=a,this}function fa(e){return 4800*e/146097}function _a(e){return 146097*e/4800}function ma(e){if(!this.isValid())return NaN;var t,n,a=this._milliseconds;if("month"===(e=x(e))||"quarter"===e||"year"===e)switch(t=this._days+a/864e5,n=this._months+fa(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(_a(this._months)),e){case"week":return t/7+a/6048e5;case"day":return t+a/864e5;case"hour":return 24*t+a/36e5;case"minute":return 1440*t+a/6e4;case"second":return 86400*t+a/1e3;case"millisecond":return Math.floor(864e5*t)+a;default:throw new Error("Unknown unit "+e)}}function Ea(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12):NaN}function ga(e){return function(){return this.as(e)}}function va(){return Zt(this)}function ba(e){return e=x(e),this.isValid()?this[e+"s"]():NaN}function Ta(e){return function(){return this.isValid()?this._data[e]:NaN}}function Ia(){return g(this.days()/7)}function Sa(e,t,n,a,i){return i.relativeTime(t||1,!!n,e,a)}function ya(e,t,n){var a=Zt(e).abs(),i=Ps(a.as("s")),s=Ps(a.as("m")),r=Ps(a.as("h")),o=Ps(a.as("d")),l=Ps(a.as("M")),c=Ps(a.as("y")),u=i<=Ms.ss&&["s",i]||i<Ms.s&&["ss",i]||s<=1&&["m"]||s<Ms.m&&["mm",s]||r<=1&&["h"]||r<Ms.h&&["hh",r]||o<=1&&["d"]||o<Ms.d&&["dd",o]||l<=1&&["M"]||l<Ms.M&&["MM",l]||c<=1&&["y"]||["yy",c];return u[2]=t,u[3]=+e>0,u[4]=n,Sa.apply(null,u)}function Aa(e){return void 0===e?Ps:"function"==typeof e&&(Ps=e,!0)}function Oa(e,t){return void 0!==Ms[e]&&(void 0===t?Ms[e]:(Ms[e]=t,"s"===e&&(Ms.ss=t-1),!0))}function Ra(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=ya(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function Ca(e){return(e>0)-(e<0)||+e}function La(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,a=ws(this._milliseconds)/1e3,i=ws(this._days),s=ws(this._months);e=g(a/60),t=g(e/60),a%=60,e%=60,n=g(s/12),s%=12;var r=n,o=s,l=i,c=t,u=e,d=a?a.toFixed(3).replace(/\.?0+$/,""):"",p=this.asSeconds();if(!p)return"P0D";var h=p<0?"-":"",f=Ca(this._months)!==Ca(p)?"-":"",_=Ca(this._days)!==Ca(p)?"-":"",m=Ca(this._milliseconds)!==Ca(p)?"-":"";return h+"P"+(r?f+r+"Y":"")+(o?f+o+"M":"")+(l?_+l+"D":"")+(c||u||d?"T":"")+(c?m+c+"H":"")+(u?m+u+"M":"")+(d?m+d+"S":"")}var Da,Na;Na=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,a=0;a<n;a++)if(a in t&&e.call(this,t[a],a,t))return!0;return!1};var Pa=e.momentProperties=[],Ma=!1,wa={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var xa;xa=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)l(e,t)&&n.push(t);return n};var ka={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Fa={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Ua=/\d{1,2}/,Ha={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ja={},Va={},Ya=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ga=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ba={},qa={},Wa=/\d/,Ka=/\d\d/,za=/\d{3}/,Qa=/\d{4}/,Za=/[+-]?\d{6}/,Xa=/\d\d?/,$a=/\d\d\d\d?/,Ja=/\d\d\d\d\d\d?/,ei=/\d{1,3}/,ti=/\d{1,4}/,ni=/[+-]?\d{1,6}/,ai=/\d+/,ii=/[+-]?\d+/,si=/Z|[+-]\d\d:?\d\d/gi,ri=/Z|[+-]\d\d(?::?\d\d)?/gi,oi=/[+-]?\d+(\.\d{1,3})?/,li=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ci={},ui={},di=0,pi=1,hi=2,fi=3,_i=4,mi=5,Ei=6,gi=7,vi=8;j("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),j(0,["YY",2],0,function(){return this.year()%100}),j(0,["YYYY",4],0,"year"),j(0,["YYYYY",5],0,"year"),j(0,["YYYYYY",6,!0],0,"year"),w("year","y"),F("year",1),q("Y",ii),q("YY",Xa,Ka),q("YYYY",ti,Qa),q("YYYYY",ni,Za),q("YYYYYY",ni,Za),Q(["YYYYY","YYYYYY"],di),Q("YYYY",function(t,n){n[di]=2===t.length?e.parseTwoDigitYear(t):v(t)}),Q("YY",function(t,n){n[di]=e.parseTwoDigitYear(t)}),Q("Y",function(e,t){t[di]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return v(e)+(v(e)>68?1900:2e3)};var bi,Ti=te("FullYear",!0);bi=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},j("M",["MM",2],"Mo",function(){return this.month()+1}),j("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),j("MMMM",0,0,function(e){return this.localeData().months(this,e)}),w("month","M"),F("month",8),q("M",Xa),q("MM",Xa,Ka),q("MMM",function(e,t){return t.monthsShortRegex(e)}),q("MMMM",function(e,t){return t.monthsRegex(e)}),Q(["M","MM"],function(e,t){t[pi]=v(e)-1}),Q(["MMM","MMMM"],function(e,t,n,a){var i=n._locale.monthsParse(e,a,n._strict);null!=i?t[pi]=i:p(n).invalidMonth=e});var Ii=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Si="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),yi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ai=li,Oi=li;j("w",["ww",2],"wo","week"),j("W",["WW",2],"Wo","isoWeek"),w("week","w"),w("isoWeek","W"),F("week",5),F("isoWeek",5),q("w",Xa),q("ww",Xa,Ka),q("W",Xa),q("WW",Xa,Ka),Z(["w","ww","W","WW"],function(e,t,n,a){t[a.substr(0,1)]=v(e)});var Ri={dow:0,doy:6};j("d",0,"do","day"),j("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),j("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),j("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),j("e",0,0,"weekday"),j("E",0,0,"isoWeekday"),w("day","d"),w("weekday","e"),w("isoWeekday","E"),F("day",11),F("weekday",11),F("isoWeekday",11),q("d",Xa),q("e",Xa),q("E",Xa),q("dd",function(e,t){return t.weekdaysMinRegex(e)}),q("ddd",function(e,t){return t.weekdaysShortRegex(e)}),q("dddd",function(e,t){return t.weekdaysRegex(e)}),Z(["dd","ddd","dddd"],function(e,t,n,a){var i=n._locale.weekdaysParse(e,a,n._strict);null!=i?t.d=i:p(n).invalidWeekday=e}),Z(["d","e","E"],function(e,t,n,a){t[a]=v(e)});var Ci="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Li="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Di="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ni=li,Pi=li,Mi=li;j("H",["HH",2],0,"hour"),j("h",["hh",2],0,Be),j("k",["kk",2],0,qe),j("hmm",0,0,function(){return""+Be.apply(this)+H(this.minutes(),2)}),j("hmmss",0,0,function(){return""+Be.apply(this)+H(this.minutes(),2)+H(this.seconds(),2)}),j("Hmm",0,0,function(){return""+this.hours()+H(this.minutes(),2)}),j("Hmmss",0,0,function(){return""+this.hours()+H(this.minutes(),2)+H(this.seconds(),2)}),We("a",!0),We("A",!1),w("hour","h"),F("hour",13),q("a",Ke),q("A",Ke),q("H",Xa),q("h",Xa),q("k",Xa),q("HH",Xa,Ka),q("hh",Xa,Ka),q("kk",Xa,Ka),q("hmm",$a),q("hmmss",Ja),q("Hmm",$a),q("Hmmss",Ja),Q(["H","HH"],fi),Q(["k","kk"],function(e,t,n){var a=v(e);t[fi]=24===a?0:a}),Q(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),Q(["h","hh"],function(e,t,n){t[fi]=v(e),p(n).bigHour=!0}),Q("hmm",function(e,t,n){var a=e.length-2;t[fi]=v(e.substr(0,a)),t[_i]=v(e.substr(a)),p(n).bigHour=!0}),Q("hmmss",function(e,t,n){var a=e.length-4,i=e.length-2;t[fi]=v(e.substr(0,a)),t[_i]=v(e.substr(a,2)),t[mi]=v(e.substr(i)),p(n).bigHour=!0}),Q("Hmm",function(e,t,n){var a=e.length-2;t[fi]=v(e.substr(0,a)),t[_i]=v(e.substr(a))}),Q("Hmmss",function(e,t,n){var a=e.length-4,i=e.length-2;t[fi]=v(e.substr(0,a)),t[_i]=v(e.substr(a,2)),t[mi]=v(e.substr(i))});var wi,xi=/[ap]\.?m?\.?/i,ki=te("Hours",!0),Fi={calendar:ka,longDateFormat:Fa,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:Ua,relativeTime:Ha,months:Si,monthsShort:yi,week:Ri,weekdays:Ci,weekdaysMin:Di,weekdaysShort:Li,meridiemParse:xi},Ui={},Hi={},ji=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Vi=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Yi=/Z|[+-]\d\d(?::?\d\d)?/,Gi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Bi=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],qi=/^\/?Date\((\-?\d+)/i,Wi=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Ki={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};e.createFromInputFallback=I("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),e.ISO_8601=function(){},e.RFC_2822=function(){};var zi=I("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=At.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:f()}),Qi=I("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=At.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:f()}),Zi=function(){return Date.now?Date.now():+new Date},Xi=["year","quarter","month","week","day","hour","minute","second","millisecond"];xt("Z",":"),xt("ZZ",""),q("Z",ri),q("ZZ",ri),Q(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=kt(ri,e)});var $i=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Ji=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,es=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Zt.fn=Pt.prototype,Zt.invalid=Nt;var ts=en(1,"add"),ns=en(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var as=I("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)}),is=1e3,ss=60*is,rs=60*ss,os=3506328*rs;j(0,["gg",2],0,function(){return this.weekYear()%100}),j(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Hn("gggg","weekYear"),Hn("ggggg","weekYear"),Hn("GGGG","isoWeekYear"),Hn("GGGGG","isoWeekYear"),w("weekYear","gg"),w("isoWeekYear","GG"),F("weekYear",1),F("isoWeekYear",1),q("G",ii),q("g",ii),q("GG",Xa,Ka),q("gg",Xa,Ka),q("GGGG",ti,Qa),q("gggg",ti,Qa),q("GGGGG",ni,Za),q("ggggg",ni,Za),Z(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,a){t[a.substr(0,2)]=v(e)}),Z(["gg","GG"],function(t,n,a,i){n[i]=e.parseTwoDigitYear(t)}),j("Q",0,"Qo","quarter"),w("quarter","Q"),F("quarter",7),q("Q",Wa),Q("Q",function(e,t){t[pi]=3*(v(e)-1)}),j("D",["DD",2],"Do","date"),w("date","D"),F("date",9),q("D",Xa),q("DD",Xa,Ka),q("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),Q(["D","DD"],hi),Q("Do",function(e,t){t[hi]=v(e.match(Xa)[0])});var ls=te("Date",!0);j("DDD",["DDDD",3],"DDDo","dayOfYear"),w("dayOfYear","DDD"),F("dayOfYear",4),q("DDD",ei),q("DDDD",za),Q(["DDD","DDDD"],function(e,t,n){n._dayOfYear=v(e)}),j("m",["mm",2],0,"minute"),w("minute","m"),F("minute",14),q("m",Xa),q("mm",Xa,Ka),Q(["m","mm"],_i);var cs=te("Minutes",!1);j("s",["ss",2],0,"second"),w("second","s"),F("second",15),q("s",Xa),q("ss",Xa,Ka),Q(["s","ss"],mi);var us=te("Seconds",!1);j("S",0,0,function(){return~~(this.millisecond()/100)}),j(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),j(0,["SSS",3],0,"millisecond"),j(0,["SSSS",4],0,function(){return 10*this.millisecond()}),j(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),j(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),j(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),j(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),j(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),w("millisecond","ms"),F("millisecond",16),q("S",ei,Wa),q("SS",ei,Ka),q("SSS",ei,za);var ds;for(ds="SSSS";ds.length<=9;ds+="S")q(ds,ai);for(ds="S";ds.length<=9;ds+="S")Q(ds,zn);var ps=te("Milliseconds",!1);j("z",0,0,"zoneAbbr"),j("zz",0,0,"zoneName");var hs=m.prototype;hs.add=ts,hs.calendar=an,hs.clone=sn,hs.diff=pn,hs.endOf=Cn,hs.format=En,hs.from=gn,hs.fromNow=vn,hs.to=bn,hs.toNow=Tn,hs.get=ie,hs.invalidAt=Fn,hs.isAfter=rn,hs.isBefore=on,hs.isBetween=ln,hs.isSame=cn,hs.isSameOrAfter=un,hs.isSameOrBefore=dn,hs.isValid=xn,hs.lang=as,hs.locale=In,hs.localeData=Sn,hs.max=Qi,hs.min=zi,hs.parsingFlags=kn,hs.set=se,hs.startOf=Rn,hs.subtract=ns,hs.toArray=Pn,hs.toObject=Mn,hs.toDate=Nn,hs.toISOString=_n,hs.inspect=mn,hs.toJSON=wn,hs.toString=fn,hs.unix=Dn,hs.valueOf=Ln,hs.creationData=Un,hs.year=Ti,hs.isLeapYear=ee,hs.weekYear=jn,hs.isoWeekYear=Vn,hs.quarter=hs.quarters=Wn,hs.month=he,hs.daysInMonth=fe,hs.week=hs.weeks=Re,hs.isoWeek=hs.isoWeeks=Ce,hs.weeksInYear=Gn,hs.isoWeeksInYear=Yn,hs.date=ls,hs.day=hs.days=Fe,hs.weekday=Ue,hs.isoWeekday=He,hs.dayOfYear=Kn,hs.hour=hs.hours=ki,hs.minute=hs.minutes=cs,hs.second=hs.seconds=us,hs.millisecond=hs.milliseconds=ps,hs.utcOffset=Ht,hs.utc=Vt,hs.local=Yt,hs.parseZone=Gt,hs.hasAlignedHourOffset=Bt,hs.isDST=qt,hs.isLocal=Kt,hs.isUtcOffset=zt,hs.isUtc=Qt,hs.isUTC=Qt,hs.zoneAbbr=Qn,hs.zoneName=Zn,hs.dates=I("dates accessor is deprecated. Use date instead.",ls),hs.months=I("months accessor is deprecated. Use month instead",he),hs.years=I("years accessor is deprecated. Use year instead",Ti),hs.zone=I("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",jt),hs.isDSTShifted=I("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Wt);var fs=R.prototype;fs.calendar=C,fs.longDateFormat=L,fs.invalidDate=D,fs.ordinal=N,fs.preparse=Jn,fs.postformat=Jn,fs.relativeTime=P,fs.pastFuture=M,fs.set=A,fs.months=le,fs.monthsShort=ce,fs.monthsParse=de,fs.monthsRegex=me,fs.monthsShortRegex=_e,fs.week=ye,fs.firstDayOfYear=Oe,fs.firstDayOfWeek=Ae,fs.weekdays=Pe,fs.weekdaysMin=we,fs.weekdaysShort=Me,fs.weekdaysParse=ke,fs.weekdaysRegex=je,fs.weekdaysShortRegex=Ve,fs.weekdaysMinRegex=Ye,fs.isPM=ze,fs.meridiem=Qe,Je("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===v(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),
e.lang=I("moment.lang is deprecated. Use moment.locale instead.",Je),e.langData=I("moment.langData is deprecated. Use moment.localeData instead.",nt);var _s=Math.abs,ms=ga("ms"),Es=ga("s"),gs=ga("m"),vs=ga("h"),bs=ga("d"),Ts=ga("w"),Is=ga("M"),Ss=ga("Q"),ys=ga("y"),As=Ta("milliseconds"),Os=Ta("seconds"),Rs=Ta("minutes"),Cs=Ta("hours"),Ls=Ta("days"),Ds=Ta("months"),Ns=Ta("years"),Ps=Math.round,Ms={ss:44,s:45,m:45,h:22,d:26,M:11},ws=Math.abs,xs=Pt.prototype;return xs.isValid=Dt,xs.abs=la,xs.add=ua,xs.subtract=da,xs.as=ma,xs.asMilliseconds=ms,xs.asSeconds=Es,xs.asMinutes=gs,xs.asHours=vs,xs.asDays=bs,xs.asWeeks=Ts,xs.asMonths=Is,xs.asQuarters=Ss,xs.asYears=ys,xs.valueOf=Ea,xs._bubble=ha,xs.clone=va,xs.get=ba,xs.milliseconds=As,xs.seconds=Os,xs.minutes=Rs,xs.hours=Cs,xs.days=Ls,xs.weeks=Ia,xs.months=Ds,xs.years=Ns,xs.humanize=Ra,xs.toISOString=La,xs.toString=La,xs.toJSON=La,xs.locale=In,xs.localeData=Sn,xs.toIsoString=I("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",La),xs.lang=as,j("X",0,0,"unix"),j("x",0,0,"valueOf"),q("x",ii),q("X",oi),Q("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),Q("x",function(e,t,n){n._d=new Date(v(e))}),e.version="2.24.0",function(e){Da=e}(At),e.fn=hs,e.min=Rt,e.max=Ct,e.now=Zi,e.utc=u,e.unix=Xn,e.months=aa,e.isDate=r,e.locale=Je,e.invalid=f,e.duration=Zt,e.isMoment=E,e.weekdays=sa,e.parseZone=$n,e.localeData=nt,e.isDuration=Mt,e.monthsShort=ia,e.weekdaysMin=oa,e.defineLocale=et,e.updateLocale=tt,e.locales=at,e.weekdaysShort=ra,e.normalizeUnits=x,e.relativeTimeRounding=Aa,e.relativeTimeThreshold=Oa,e.calendarFormat=nn,e.prototype=hs,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e}),define("app/constants/facets",[],function(){"use strict";return{FACET_ASSET_TYPE:"asset_type",FACET_COPY_SPACE:"stock_copyspace_type",FACET_PEOPLE:"stock_people",FACET_ILLUSTRATIVE:"illustrative",FACET_UNDISCOVERED:"stock_undiscovered",FACET_PRICE:"stock_price_tiers",FACET_IMAGE_AND_PREMIUM_SUBCATEGORY:"stock_image_type",FACET_VIDEO_SUBCAT:"stock_resolution_license",FACET_VIDEO_FPS:"stock_video_fps",FACET_VIDEO_SHOT_SIZE:"shot_size",FACET_VIDEO_SHOT_ANGLE:"shot_angle",FACET_ORIENTATION:"orientation",FACET_STOCK_APPLICABLE_PRODUCTS:"stock_applicable_products",FACET_TEMPLATE_SUBCATEGORY:"stock_template_categories",FACET_3D_SUBCATEGORY:"3d_type",FACET_EDITORIAL:"stock_editorial",FACET_CATEGORY_IDS:"stock_category_ids",FACET_ISOLATED:"stock_isolated",SUPPORTED_FACETS:["asset_type","stock_people","illustrative","stock_undiscovered","stock_price_tiers","stock_image_type","orientation","stock_resolution_license","stock_video_fps","shot_size","shot_angle","stock_applicable_products","stock_template_categories","3d_type","stock_editorial","stock_category_ids","stock_copyspace_type","stock_isolated"]}}),define("app/utils/searchData",["jquery","lodash","page_config","i18n-config","app/constants/assetTypeFilters","app/constants/facets","app/constants/searchFilters"],function(e,t,n,a,i,s,r){"use strict";function o(t,n,a){return e.extend({},t,f(n,a))}function l(e,n){var a=n?"."+n:"";return t.get(e,"search.facets"+a,{})}function c(e){return!u(e)}function u(e){var n=t.get(e,"search.facets")||{};return Object.keys(n).length<1}function d(e){return!t.get(e,"member.stockProfile.default_entitlement.is_cce",!1)}function p(){var e={};return e[r.VIDEO_SHOT_SIZE_LONG_SHOT]=a.gettext("SEARCH::FILTERS::Long Shot"),e[r.VIDEO_SHOT_SIZE_CLOSE_UP]=a.gettext("SEARCH::FILTERS::Close Up"),e[r.VIDEO_SHOT_SIZE_MEDIUM_SHOT]=a.gettext("SEARCH::FILTERS::Medium Shot"),e[r.VIDEO_SHOT_SIZE_EXTREME_CLOSE_UP]=a.gettext("SEARCH::FILTERS::Extreme Close Up"),e[r.VIDEO_SHOT_SIZE_EXTREME_LONG_SHOT]=a.gettext("SEARCH::FILTERS::Extreme Long Shot"),e}function h(){var e={};return e[r.VIDEO_SHOT_ANGLE_TOP_DOWN]=a.gettext("SEARCH::FILTERS::Top Down"),e[r.VIDEO_SHOT_ANGLE_AERIAL]=a.gettext("SEARCH::FILTERS::Aerial"),e[r.VIDEO_SHOT_ANGLE_HIGH_ANGLE]=a.gettext("SEARCH::FILTERS::High Angle"),e[r.VIDEO_SHOT_ANGLE_LOW_ANGLE]=a.gettext("SEARCH::FILTERS::Low Angle"),e[r.VIDEO_SHOT_ANGLE_EYE_LEVEL]=a.gettext("SEARCH::FILTERS::Eye Level"),e}function f(e,t){return{should_allow_order_filter:_(t),should_show_asset_types_filter:m(e,t),should_show_asset_types_filter_templates:g(e),should_show_asset_types_filter_3d:v(e),should_show_asset_types_filter_video:E(e),should_show_price_filter:b(e,t),should_show_price_filter_info_icon:d(t),should_show_app_filter:T(e,t),should_show_images_subcat_filter:I(e,t),should_show_isolated_filter:S(e,t),should_show_undiscovered_filter:U(e,t),should_show_videos_subcat_filter:y(e,t),should_show_video_frame_rate_filter:A(e,t),should_show_video_shot_size_filter:R(e,t),should_show_video_shot_angle_filter:C(e,t),should_show_videos_duration_filter:L(e,t),should_show_templates_subcat_filter:D(e,t),should_show_3d_subcat_filter:N(e,t),should_show_editorial_date_range_filter:M(e),should_show_editorial_subcat_filter:P(e,t),should_show_orientation_filter:w(e,t),should_show_aesthetic_filters:x(e,t),should_show_people_filter:k(e,t),should_show_illustrative_filter:F(e,t),should_show_color_filter:j(e,t),should_show_copy_space_filter:H(e,t),should_show_safe_search_filter:Y(e),should_show_size_filter:V(e,t),asset_type_facets:l(t,s.FACET_ASSET_TYPE),orientation_facets:l(t,s.FACET_ORIENTATION),image_sub_and_premium_sub_category_facets:l(t,s.FACET_IMAGE_AND_PREMIUM_SUBCATEGORY),template_app_facets:l(t,s.FACET_STOCK_APPLICABLE_PRODUCTS),template_sub_category_facets:l(t,s.FACET_TEMPLATE_SUBCATEGORY),threeD_sub_category_facets:l(t,s.FACET_3D_SUBCATEGORY),category_facets:l(t,s.FACET_CATEGORY_IDS),frame_rate_facets:l(t,s.FACET_VIDEO_FPS),shot_size_facets:l(t,s.FACET_VIDEO_SHOT_SIZE),shot_size_options:r.VIDEO_SHOT_SIZE_OPTIONS,shot_size_options_label_map:p(),shot_angle_facets:l(t,s.FACET_VIDEO_SHOT_ANGLE),shot_angle_options:r.VIDEO_SHOT_ANGLE_OPTIONS,shot_angle_options_label_map:h(),copy_space_facets:l(t,s.FACET_COPY_SPACE),should_apply_facets:de.shouldApplyFacets(t),selected_fps_options:ee(t),selected_shot_size_options:ne(t),selected_shot_angle_options:ae(t),selected_copy_space:ie(t),selected_isolated_option:se(t),size_options:re(t)}}function _(e){return!oe(e)}function m(e,t){switch(e){case i.ALL:return G(s.FACET_ASSET_TYPE,t);case i.PREMIUM:case i.EDITORIAL:return!de.shouldApplyFacets(t)||G(s.FACET_ASSET_TYPE,t);case i.FREE:return!!n.isFreeEnabled&&(!de.shouldApplyFacets(t)||G(s.FACET_ASSET_TYPE,t));default:return!1}}function E(e){switch(e){case i.ALL:case i.EDITORIAL:return!0;case i.FREE:return n.isFreeEnabled;default:return!1}}function g(e){switch(e){case i.ALL:return!0;case i.PREMIUM:return n.isTemplatesEnabled;case i.FREE:return n.isTemplatesEnabled&&n.isFreeEnabled;default:return!1}}function v(e){switch(e){case i.ALL:return!0;case i.PREMIUM:return n.is3DEnabled;case i.FREE:return n.is3DEnabled&&n.isFreeEnabled;default:return!1}}function b(e,t){var a=!1;if(n.isGloballySafeCollectionEnabled)return!1;switch(e){case i.ALL:case i.IMAGES:if(a=!0,de.isOnlyVideoContentTypeFilterEnabled(t))return!1;break;case i.TEMPLATES:case i.THREED:a=!0;break;default:return!1}return de.shouldApplyFacets(t)&&(G(s.FACET_PRICE,t)||(a=!1)),a}function T(e,t){var n=!1;switch(e){case i.TEMPLATES:n=!0;break;default:de.isOnlyTemplateContentTypeFilterEnabled(t)&&(n=!0)}return n&&de.shouldApplyFacets(t)&&(n=G(s.FACET_STOCK_APPLICABLE_PRODUCTS,t)),n}function I(e,t){if(le(t.filters))return!1;switch(e){case i.IMAGES:return!de.shouldApplyFacets(t)||G(s.FACET_IMAGE_AND_PREMIUM_SUBCATEGORY,t);case i.ALL:case i.PREMIUM:return!!W(t)&&(!de.shouldApplyFacets(t)||G(s.FACET_IMAGE_AND_PREMIUM_SUBCATEGORY,t));case i.FREE:return!!n.isFreeEnabled&&(!!W(t)&&(!de.shouldApplyFacets(t)||G(s.FACET_IMAGE_AND_PREMIUM_SUBCATEGORY,t)));default:return!1}}function S(e,t){var a,o=!1;switch(a=$(r.CONTENT_TYPE_PHOTO,t)||$(r.CONTENT_TYPE_ILLUSTRATION,t)||$(r.CONTENT_TYPE_VECTOR,t)||$(r.CONTENT_TYPE_VIDEO,t),e){case i.ALL:o=a;break;case i.IMAGES:case i.VIDEOS:o=!0;break;case i.FREE:o=a&&n.isFreeEnabled;break;default:return!1}return de.shouldApplyFacets(t)&&(o=G(s.FACET_ISOLATED,t)),o}function y(e,a){var r,o=!1;switch(e){case i.VIDEOS:o=!0;break;case i.ALL:case i.EDITORIAL:if(!de.isOnlyVideoContentTypeFilterEnabled(a))return!1;o=!0;break;case i.FREE:if(!de.isOnlyVideoContentTypeFilterEnabled(a))return!1;o=n.isFreeEnabled;break;default:return!1}return de.shouldApplyFacets(a)&&(r=t.get(a,"search.facets."+s.FACET_VIDEO_SUBCAT,{}),r.four_k||(o=!1)),o}function A(e,t){var a=!1;switch(e){case i.ALL:if(!de.isOnlyVideoContentTypeFilterEnabled(t))return!1;a=!0;break;case i.VIDEOS:a=!0;break;case i.EDITORIAL:Q(t)&&(a=!0);break;case i.FREE:Q(t)&&(a=n.isFreeEnabled);break;default:return!1}return a&&de.shouldApplyFacets(t)&&(a=G(s.FACET_VIDEO_FPS,t)),a}function O(e,t,a){if(!n.isVideoShotSizeAndAngleFiltersEnabled)return!1;var s=!1;switch(t){case i.ALL:case i.EDITORIAL:s=Q(a);break;case i.VIDEOS:s=!0;break;case i.FREE:s=n.isFreeEnabled&&Q(a);break;default:return!1}return s&&c(a)&&(s=G(e,a)),s}function R(e,t){return O(s.FACET_VIDEO_SHOT_SIZE,e,t)}function C(e,t){return O(s.FACET_VIDEO_SHOT_ANGLE,e,t)}function L(e,t){var a=!1;switch(e){case i.ALL:if(!de.isOnlyVideoContentTypeFilterEnabled(t))return!1;a=!0;break;case i.VIDEOS:a=!0;break;case i.EDITORIAL:Q(t)&&(a=!0);break;case i.FREE:Q(t)&&(a=n.isFreeEnabled);break;default:return!1}return a}function D(e,t){var n=!1;switch(e){case i.TEMPLATES:n=!0;break;default:if(!de.isOnlyTemplateContentTypeFilterEnabled(t))return!1;n=!0}return de.shouldApplyFacets(t)&&(n=G(s.FACET_TEMPLATE_SUBCATEGORY,t)),n}function N(e,t){var a=!1;switch(e){case i.THREED:a=!0;break;case i.ALL:case i.PREMIUM:if(!de.isOnly3DContentTypeFilterEnabled(t))return!1;a=!0;break;case i.FREE:if(!de.isOnly3DContentTypeFilterEnabled(t))return!1;a=n.isFreeEnabled;break;default:return!1}return de.shouldApplyFacets(t)&&(a=G(s.FACET_3D_SUBCATEGORY,t)),a}function P(e,t){var n=!1;switch(e){case i.EDITORIAL:n=!0;break;default:return!1}return de.shouldApplyFacets(t)&&(n=G(s.FACET_CATEGORY_IDS,t)),n}function M(e){var t;switch(e){case i.EDITORIAL:t=!0;break;default:t=!1}return t}function w(e,t){switch(e){case i.IMAGES:return!de.shouldApplyFacets(t)||G(s.FACET_ORIENTATION,t);case i.ALL:case i.PREMIUM:case i.EDITORIAL:return!!W(t)&&(!de.shouldApplyFacets(t)||G(s.FACET_ORIENTATION,t));case i.FREE:return!!n.isFreeEnabled&&(!!W(t)&&(!de.shouldApplyFacets(t)||G(s.FACET_ORIENTATION,t)));default:return!1}}function x(e,t){var a,s;switch(e){case i.ALL:case i.IMAGES:case i.PREMIUM:return!oe(t)&&(a=de.isOnlyPhotoContentTypeFilterEnabled(t),s=de.areAllImageRelatedContentTypeFiltersEnabled(t),a||s);case i.FREE:return!!n.isFreeEnabled&&(!oe(t)&&(a=de.isOnlyPhotoContentTypeFilterEnabled(t),s=de.areAllImageRelatedContentTypeFiltersEnabled(t),a||s));default:return!1}}function k(e,t){var a,o=!1;switch(a=$(r.CONTENT_TYPE_IMAGE,t)||$(r.CONTENT_TYPE_VIDEO,t),e){case i.IMAGES:case i.VIDEOS:o=!0;break;case i.ALL:case i.PREMIUM:o=a;break;case i.FREE:o=a&&n.isFreeEnabled;break;default:o=!1}return de.shouldApplyFacets(t)&&(o=G(s.FACET_PEOPLE,t)),o}function F(e,t){var a,r=!1;switch(a=W(t),e){case i.IMAGES:r=!0;break;case i.ALL:case i.PREMIUM:r=a;break;case i.FREE:r=a&&n.isFreeEnabled;break;default:r=!1}return de.shouldApplyFacets(t)&&(r=B(s.FACET_ILLUSTRATIVE,t)),r}function U(e,t){var n,a=!1;switch(n=W(t),e){case i.IMAGES:a=!0;break;case i.ALL:case i.PREMIUM:a=n;break;default:a=!1}return de.shouldApplyFacets(t)&&(a=G(s.FACET_UNDISCOVERED,t,1)),a}function H(e,t){switch(e){case i.IMAGES:return!de.shouldApplyFacets(t)||Object.keys(l(t,s.FACET_COPY_SPACE)).length;case i.PREMIUM:case i.ALL:return!!W(t)&&(!de.shouldApplyFacets(t)||Object.keys(l(t,s.FACET_COPY_SPACE)).length);case i.FREE:return!!n.isFreeEnabled&&(!!W(t)&&(!de.shouldApplyFacets(t)||Object.keys(l(t,s.FACET_COPY_SPACE)).length));default:return!1}}function j(e,t){switch(e){case i.VIDEOS:case i.ALL:if(de.isOnly3DContentTypeFilterEnabled(t)||de.isOnlyTemplateContentTypeFilterEnabled(t))return!1;case i.IMAGES:case i.EDITORIAL:case i.PREMIUM:return!0;case i.FREE:return n.isFreeEnabled;default:return!1}}function V(e,t){switch(e){case i.IMAGES:return!0;case i.ALL:case i.PREMIUM:case i.EDITORIAL:return W(t);case i.FREE:return W(t)&&n.isFreeEnabled;default:return!1}}function Y(e){var t=!1,a=n.force_safe_search;if(n.isGloballySafeCollectionEnabled)return!1;switch(e){case i.ALL:case i.IMAGES:case i.VIDEOS:case i.TEMPLATES:case i.THREED:case i.EDITORIAL:case i.PREMIUM:a||(t=!0);break;case i.FREE:a||(t=n.isFreeEnabled);break;default:t=!1}return t}function G(e,n,a){var i,s,r,o=0;if(a||(a=ce),u(n))return!0;if(i=t.get(n,"search.facets."+e,{}),s=Object.keys(i),s.length<a)return!1;for(r=0;r<s.length;r++)i[s[r]]>0&&o++;return o>=a}function B(e,n){return!!u(n)||t.get(n,"search.facets.stock_generic_attributes."+e,0)>=ue}function q(e){var n=t.get(e,"filters.filters",{});return!!(n[r.CONTENT_TYPE_IMAGE]&&n[r.CONTENT_TYPE_PHOTO]&&n[r.CONTENT_TYPE_ILLUSTRATION]&&n[r.CONTENT_TYPE_VECTOR])}function W(e){var n=t.get(e,"filters.filters",{});return!(!n[r.CONTENT_TYPE_IMAGE]||!(n[r.CONTENT_TYPE_PHOTO]||n[r.CONTENT_TYPE_ILLUSTRATION]||n[r.CONTENT_TYPE_VECTOR]))}function K(e){var n=t.get(e,"filters.filters",{});return!!n[r.CONTENT_TYPE_PHOTO]&&(!n[r.CONTENT_TYPE_ILLUSTRATION]&&!n[r.CONTENT_TYPE_VECTOR])}function z(e){return X(r.CONTENT_TYPE_3D,e)}function Q(e){return X(r.CONTENT_TYPE_VIDEO,e)}function Z(e){return X(r.CONTENT_TYPE_TEMPLATE,e)}function X(e,t){return!!$(e,t)&&1===de.getEnabledAssetContentTypeFilters(t).length}function $(e,n){return!!t.get(n,"filters.filters",{})[e]}function J(e){var n=t.get(e,"filters.filters",{}),a=[];return Object.keys(n).forEach(function(e){r.SUPPORTED_CONTENT_TYPES.indexOf(e)>-1&&1===n[e]&&a.push(e)}),a}function ee(e){var n=t.get(e,"filters."+r.FILTERS+"."+r.VIDEO_FRAME_RATE,[]),a=Object.keys(l(e,s.FACET_VIDEO_FPS)),i=a.length>0?a:r.VIDEO_FRAME_RATE_OPTIONS,o={all:1},c={};return n.length?(n.forEach(function(e){i.indexOf(e)>=0&&(c[e]=1)}),Object.keys(c).length===i.length?o:c):o}function te(e,n){var a=t.get(n,"filters."+r.FILTERS+"."+e.name,[]),i=Object.keys(l(n,e.facet)),s=i.length>0?i:e.options,o={all:1},c={};return a.length?(a.forEach(function(e){s.indexOf(e)>=0&&(c[e]=1)}),Object.keys(c).length===s.length?o:c):o}function ne(e){return te({name:r.VIDEO_SHOT_SIZE,facet:s.FACET_VIDEO_SHOT_SIZE,options:r.VIDEO_SHOT_SIZE_OPTIONS},e)}function ae(e){return te({name:r.VIDEO_SHOT_ANGLE,facet:s.FACET_VIDEO_SHOT_ANGLE,options:r.VIDEO_SHOT_ANGLE_OPTIONS},e)}function ie(e){var n=t.get(e,"filters."+r.FILTERS+"."+r.COPY_SPACE,""),a={};if(n){switch(n){case r.COPY_SPACE_ALL:a[r.COPY_SPACE_NATURAL]=1,a[r.COPY_SPACE_MANUFACTURED]=1;break;case r.COPY_SPACE_NATURAL:a[r.COPY_SPACE_NATURAL]=1;break;case r.COPY_SPACE_MANUFACTURED:a[r.COPY_SPACE_MANUFACTURED]=1;break;default:a=void 0}return a}}function se(e){var n=t.get(e,"filters."+r.FILTERS+"."+r.ISOLATED);return n===r.ISOLATED_HIDE||n===r.ISOLATED_ONLY?n:r.ISOLATED_ALL}function re(e){var n={},a=r.FILTERS+"."+r.FILTERS+".",i=t.get(e,a+r.SIZE_PIXELS_WIDTH_MIN,null),s=t.get(e,a+r.SIZE_PIXELS_HEIGHT_MIN,null),o=t.get(e,a+r.SIZE_MEGA_PIXELS_MIN,null);return n[r.SIZE]=null!==o?r.SIZE_MEGA_PIXELS:r.SIZE_PIXELS,i&&(n[r.SIZE_PIXELS_WIDTH_MIN]=i),s&&(n[r.SIZE_PIXELS_HEIGHT_MIN]=s),o&&(n[r.SIZE_MEGA_PIXELS_MIN]=o),n}function oe(e){return!n.is_mobile&&(t.get(e.filters,r.SIMILAR_CONTENT_ID)||t.get(e.filters,r.NATIVE_VISUAL_SEARCH))}function le(e){var n=t.get(e,r.SCORING+"."+r.DEPTH_OF_FIELD,r.DEPTH_OF_FIELD_DEFAULT_SCORING)!==r.DEPTH_OF_FIELD_DEFAULT_SCORING,a=t.get(e,r.SCORING+"."+r.VIVID_COLOR,r.VIVID_COLOR_DEFAULT_SCORING)!==r.VIVID_COLOR_DEFAULT_SCORING;return n||a}var ce=2,ue=1,de={isAestheticFilterSet:le,isFindSimilarControlsSearch:oe,getData:f,getViewData:o,shouldAllowOrderFilter:_,shouldShowEditorialDateRangeFilter:M,shouldShowAestheticFilters:x,shouldShowAssetTypesFilter3d:v,shouldShowAssetTypesFilterTemplates:g,shouldShowAssetTypesFilterVideo:E,shouldShowPeopleFilter:k,shouldShowIllustrativeFilter:F,shouldShowPrice:b,shouldShowPriceInfoIcon:d,shouldShowVideosDurationFilter:L,shouldShowAppFilter:T,shouldShowColorFilter:j,bypassFacets:u,shouldShowCopySpace:H,shouldShowEditorialSubcategoryFilter:P,shouldShowVideoFrameRateFilter:A,shouldShowVideoShotSizeFilter:R,shouldShowVideoShotAngleFilter:C,shouldShowVideosSubcatFilter:y,shouldShowImagesSubcatFilter:I,shouldShowIsolatedFilter:S,shouldShowUndiscoveredFilter:U,shouldShowSizeFilter:V,shouldShowTemplatesSubcatFilter:D,shouldShowOrientationFilter:w,shouldShow3dSubcatFilter:N,shouldApplyFacets:c,isOnlyTemplateContentTypeFilterEnabled:Z,isOnly3DContentTypeFilterEnabled:z,isOnlyVideoContentTypeFilterEnabled:Q,areAllImageRelatedContentTypeFiltersEnabled:q,isAnyImageRelatedContentTypeFiltersEnabled:W,isOnlyPhotoContentTypeFilterEnabled:K,getEnabledAssetContentTypeFilters:J,getSelectedFrameRateOptions:ee,getSelectedCopySpace:ie,shouldShowSafeSearchFilter:Y};return de}),define("app/reducers/breadcrumbs",["jquery","lodash","moment","page_config","app/actions/actionTypes","app/utils/reducerHelpers","app/utils/searchData","app/constants/searchFilters","app/constants/assetTypeFilters","lib/utils","app/constants/templateTypes","i18n"],function(e,t,n,a,i,s,r,o,l,c,u,d){"use strict";function p(){var e,n={},i=t.get(a,"page_data.filter_asset_type");return e=N(n,s.getDefaultFilterState()),a.category&&(e=C(e,a.category.id)),h(e),e=f(e),e=_(e),D(e,i),a.isGloballySafeCollectionEnabled&&Z(e),e}function h(e){var t={search:{facets:a.facets},filters:a.search_params};r.getSelectedFrameRateOptions(t).all&&delete e[o.VIDEO_FRAME_RATE]}function f(e){var n=a.search_params;return W(e,t.get(n,o.FILTERS+"."+o.VIDEO_DURATION_MIN,o.VIDEO_DURATION_DEFAULT_MIN),t.get(n,o.FILTERS+"."+o.VIDEO_DURATION_MAX,o.VIDEO_DURATION_DEFAULT_MAX))}function _(e){var n=a.search_params,i=t.get(n,o.FILTERS+"."+o.SIZE_MEGA_PIXELS_MIN),s=t.get(n,o.FILTERS+"."+o.SIZE_PIXELS_WIDTH_MIN),r=t.get(n,o.FILTERS+"."+o.SIZE_PIXELS_HEIGHT_MIN),l={};return i&&(l[o.SIZE_MEGA_PIXELS_MIN]=i),s&&(l[o.SIZE_PIXELS_WIDTH_MIN]=s),r&&(l[o.SIZE_PIXELS_HEIGHT_MIN]=r),j(e,l)}function m(e,t){var n,a=!1;return e[o.CATEGORY]&&(n=Object.keys(e[o.CATEGORY]),a=n.some(function(e){if(!s.isCategoryCompatibleWithAssetType(t,e))return!0})),a}function E(e,n){var i=[];switch(n){case l.ALL:i=te,i.push(o.PRICE_CLIENT_HIGH,o.PRICE_CLIENT_LOW);break;case l.IMAGES:e[o.PRICE_CLIENT_LOW]={1:t.get(X,o.PRICE_CLIENT_LOW+".1")},i=te;break;case l.EDITORIAL:i=se;break;case l.VIDEOS:i=ne;break;case l.TEMPLATES:i=ae;break;case l.THREED:i=ie;break;case l.FREE:a.isFreeEnabled&&(e[o.CONTENT_TYPE_IMAGE]={1:t.get(X,o.CONTENT_TYPE_IMAGE+".1")},i=ee);break;default:return}a.isGloballySafeCollectionEnabled&&i.push(o.SAFE_SEARCH,o.PRICE_CLIENT_LOW),i.push(o.PRICE_CLIENT_HIGH),m(e,n)&&i.push(o.CATEGORY),i.forEach(function(t){delete e[t]})}function g(e,t){return n(e).add(o.EDITORIAL_DATE_OFFSET_AMOUNT,o.EDITORIAL_DATE_OFFSET_UNIT).format(n.localeData().longDateFormat("L"))+" - "+n(t).subtract(o.EDITORIAL_DATE_OFFSET_AMOUNT,o.EDITORIAL_DATE_OFFSET_UNIT).format(n.localeData().longDateFormat("L"))}function v(e){e[o.CONTENT_TYPE_PHOTO]&&e[o.CONTENT_TYPE_ILLUSTRATION]&&e[o.CONTENT_TYPE_VECTOR]&&(delete e[o.CONTENT_TYPE_PHOTO],delete e[o.CONTENT_TYPE_ILLUSTRATION],delete e[o.CONTENT_TYPE_VECTOR])}function b(e){e[o.INCLUDE_PEOPLE]&&e[o.EXCLUDE_PEOPLE]&&(delete e[o.INCLUDE_PEOPLE],delete e[o.EXCLUDE_PEOPLE])}function T(e){if(e[o.TEMPLATE_TYPES]&&e[o.TEMPLATE_CATEGORIES]){var t=Object.keys(e[o.TEMPLATE_CATEGORIES]),n=Object.keys(e[o.TEMPLATE_TYPES])[0];t.length===$[n].length&&delete e[o.TEMPLATE_CATEGORIES]}}function I(e){s.isAestheticFilterEnabled(e)&&(delete e[o.CONTENT_TYPE_ILLUSTRATION],delete e[o.CONTENT_TYPE_VECTOR],e[o.CONTENT_TYPE_PHOTO]={},e[o.CONTENT_TYPE_PHOTO][1]=X[o.CONTENT_TYPE_PHOTO][1])}function S(e){var t=e[o.ORIENTATION];t&&Object.keys(t).length===o.VALID_ORIENTATIONS.length&&delete e[o.ORIENTATION]}function y(e){v(e),b(e),T(e),I(e),a.isUSSSearchEnabled&&S(e)}function A(e,t){t[o.COLOR]?(delete e[o.COLOR],e[o.COLOR]={},e[o.COLOR][t[o.COLOR]]=t[o.COLOR]):""===t[o.COLOR]&&delete e[o.COLOR]}function O(e,t){t[o.FILTERS]&&t[o.FILTERS][o.TEMPLATE_TYPES]&&-1!==t[o.FILTERS][o.TEMPLATE_TYPES].indexOf(u.AE_MOGRT)&&(e[o.TEMPLATE_TYPES]={},e[o.TEMPLATE_TYPES][u.PPRO_MOGRT]=X[o.TEMPLATE_TYPES][u.PPRO_MOGRT])}function R(e,t){var n="";t[o.FILTERS]&&(t[o.FILTERS][o.EDITORIAL_EVENT_DATE_START]&&t[o.FILTERS][o.EDITORIAL_EVENT_DATE_END]?(delete e[o.EDITORIAL_DATE_RANGE],n=g(t[o.FILTERS][o.EDITORIAL_EVENT_DATE_START],t[o.FILTERS][o.EDITORIAL_EVENT_DATE_END]),e[o.EDITORIAL_DATE_RANGE]={},e[o.EDITORIAL_DATE_RANGE][n]=n):""===t[o.FILTERS][o.EDITORIAL_EVENT_DATE_START]&&""===t[o.FILTERS][o.EDITORIAL_EVENT_DATE_END]&&delete e[o.EDITORIAL_DATE_RANGE])}function C(e,t){return-1===o.EDITORIAL_CATEGORIES.indexOf(t)&&(e[o.CATEGORY]={},e[o.CATEGORY][t]=a.category.name),e}function L(e,t){var n="";t[o.FILTERS]&&t[o.FILTERS][o.ORIENTATION]&&(n=t[o.FILTERS][o.ORIENTATION],e[o.ORIENTATION]={},c.getMultipleOrientationFilters(n).forEach(function(t){e[o.ORIENTATION][t]=X[o.ORIENTATION][t]}))}function D(e,t){var n=J[t];switch(t){case l.PREMIUM:delete e[o.PRICE_CLIENT_HIGH];break;case l.IMAGES:delete e[o.CONTENT_TYPE_IMAGE];break;case l.VIDEOS:delete e[o.CONTENT_TYPE_VIDEO];break;case l.TEMPLATES:delete e[o.CONTENT_TYPE_TEMPLATE];break;case l.THREED:delete e[o.CONTENT_TYPE_3D]}n&&n.every(function(t){return e[t]})&&n.forEach(function(t){delete e[t]})}function N(e,t){return Object.keys(t).forEach(function(n){var a=t[n];c.isObject(a)?Object.keys(a).forEach(function(t){e=P(e,t,a[t])}):e=P(e,n,a)}),A(e,t),O(e,t),R(e,t),a.isUSSSearchEnabled&&L(e,t),y(e),e}function P(t,n,a){return X[n]&&(delete t[n],t[n]={},Array.isArray(a)?a.forEach(function(e){X[n][e]&&(t[n][e]=X[n][e])}):X[n][a]&&(t[n][a]=X[n][a]),e.isEmptyObject(t[n])&&delete t[n]),t}function M(n,a){var i=e.extend({},n);return delete i[o.CONTENT_TYPE_IMAGE],delete i[o.CONTENT_TYPE_VIDEO],delete i[o.CONTENT_TYPE_3D],delete i[o.CONTENT_TYPE_TEMPLATE],a[o.CONTENT_TYPE_IMAGE]?(i[o.CONTENT_TYPE_IMAGE]={1:t.get(X,o.CONTENT_TYPE_IMAGE+"."+a[o.CONTENT_TYPE_IMAGE])},i):(i=w(i),a[o.CONTENT_TYPE_VIDEO]?(i[o.CONTENT_TYPE_VIDEO]={1:t.get(X,o.CONTENT_TYPE_VIDEO+"."+a[o.CONTENT_TYPE_VIDEO])},delete i[o.PRICE_CLIENT_HIGH],i):a[o.CONTENT_TYPE_3D]?(i[o.CONTENT_TYPE_3D]={1:t.get(X,o.CONTENT_TYPE_3D+"."+a[o.CONTENT_TYPE_3D])},i):a[o.CONTENT_TYPE_TEMPLATE]?(i[o.CONTENT_TYPE_TEMPLATE]={1:t.get(X,o.CONTENT_TYPE_TEMPLATE+"."+a[o.CONTENT_TYPE_TEMPLATE])},i):i)}function w(e){return delete e[o.CONTENT_TYPE_PHOTO],delete e[o.CONTENT_TYPE_ILLUSTRATION],delete e[o.CONTENT_TYPE_VECTOR],e}function x(t,n){var a=e.extend({},t);return Object.keys(n).forEach(function(e){delete a[e]}),a=w(a)}function k(n,a){var i=e.extend(!0,{},n),s=t.get(a,o.CONTENT_TYPE_IMAGE,!1),r=t.get(a,o.CONTENT_TYPE_PHOTO,!1),l=t.get(a,o.CONTENT_TYPE_ILLUSTRATION,!1),c=t.get(a,o.CONTENT_TYPE_VECTOR,!1),u=r&&l&&c;return i=w(i),u?i:(r&&(i[o.CONTENT_TYPE_PHOTO]={1:t.get(X,o.CONTENT_TYPE_PHOTO+"."+a[o.CONTENT_TYPE_PHOTO])}),l&&(i[o.CONTENT_TYPE_ILLUSTRATION]={1:t.get(X,o.CONTENT_TYPE_ILLUSTRATION+"."+a[o.CONTENT_TYPE_ILLUSTRATION])}),c&&(i[o.CONTENT_TYPE_VECTOR]={1:t.get(X,o.CONTENT_TYPE_VECTOR+"."+a[o.CONTENT_TYPE_VECTOR])}),s&&(delete i[o.CONTENT_TYPE_VIDEO],delete i[o.CONTENT_TYPE_3D],delete i[o.CONTENT_TYPE_TEMPLATE],i[o.CONTENT_TYPE_IMAGE]={1:t.get(X,o.CONTENT_TYPE_IMAGE+"."+a[o.CONTENT_TYPE_IMAGE])}),I(i),i)}function F(n,a){var i=e.extend(!0,{},n),s=t.get(a,o.ISOLATED,o.ISOLATED_ALL);return delete i[o.ISOLATED],s===o.ISOLATED_ONLY?P(i,o.ISOLATED,s):i}function U(n,a){var i=e.extend(!0,{},n),s=t.get(a,o.UNDISCOVERED,o.UNDISCOVERED_ALL);return delete i[o.UNDISCOVERED],s===o.UNDISCOVERED_ONLY?P(i,o.UNDISCOVERED,s):i}function H(n,a){var i=e.extend(!0,{},n),s=t.get(a,o.ILLUSTRATIVE,o.ILLUSTRATIVE_ALL);return delete i[o.ILLUSTRATIVE],P(i,o.ILLUSTRATIVE,s)}function j(t,n){var a=e.extend(!0,{},t),i={};return delete a[o.SIZE_MEGA_PIXELS_MIN],delete a[o.SIZE_PIXELS_WIDTH_MIN],delete a[o.SIZE_PIXELS_HEIGHT_MIN],n[o.SIZE_MEGA_PIXELS_MIN]&&(i[o.SIZE_MEGA_PIXELS_MIN]=V(o.SIZE_MEGA_PIXELS_MIN,n[o.SIZE_MEGA_PIXELS_MIN])),n[o.SIZE_PIXELS_WIDTH_MIN]&&(i[o.SIZE_PIXELS_WIDTH_MIN]=V(o.SIZE_PIXELS_WIDTH_MIN,n[o.SIZE_PIXELS_WIDTH_MIN])),n[o.SIZE_PIXELS_HEIGHT_MIN]&&(i[o.SIZE_PIXELS_HEIGHT_MIN]=V(o.SIZE_PIXELS_HEIGHT_MIN,n[o.SIZE_PIXELS_HEIGHT_MIN])),Object.keys(i).length>0&&(a=e.extend(a,i)),a}function V(e,n){var a=t.get(X,o.SIZE+"."+e);return{text:d.sprintf(a,n)}}function Y(t,n,a,i){var s=e.extend(!0,{},t);return a?(delete s[i],s):P(s,i,n)}function G(e,t,n){return Y(e,t,n,o.VIDEO_FRAME_RATE)}function B(e,t,n){return Y(e,t,n,o.VIDEO_SHOT_SIZE)}function q(e,t,n){return Y(e,t,n,o.VIDEO_SHOT_ANGLE)}function W(t,n,a){var i=e.extend(!0,{},t),s=c.formatVideoDurationInput(n,o.VIDEO_DURATION_DEFAULT_MAX)+"  "+c.formatVideoDurationInput(a,o.VIDEO_DURATION_DEFAULT_MAX);return n==o.VIDEO_DURATION_DEFAULT_MIN&&a==o.VIDEO_DURATION_DEFAULT_MAX?(delete i[o.VIDEO_DURATION],i):(i[o.VIDEO_DURATION]={text:s},i)}function K(r,l){var c;if(void 0===r)return n.locale(a.locale_code),p();switch(l.type){case i.UPDATE_SEARCH_FILTERS:return c=e.extend(!0,{},r),N(c,l.filters),c;case i.UPDATE_ASSET_TYPE_FILTER:return l.all?x(r,l.filters):M(r,l.filters);case i.CLEAR_ASSET_TYPE_BREADCRUMB:return x(r,l.filters);case i.UPDATE_IMAGE_SUBCATEGORY_FILTER:return k(r,l.filters);case i.UPDATE_FRAME_RATE_FILTER:return G(r,l.frameRates,l.areAllSelected);case i.UPDATE_SHOT_SIZE_FILTER:return B(r,l.shotSize,l.areAllSelected);case i.UPDATE_SHOT_ANGLE_FILTER:return q(r,l.shotAngle,l.areAllSelected);case i.UPDATE_DURATION_FILTER:return W(r,l.min,l.max);case i.UPDATE_COPY_SPACE_FILTER:return c=e.extend(!0,{},r),c=k(c,l.filters),P(c,o.COPY_SPACE,l.value);case i.UPDATE_ISOLATED_FILTER:return F(r,l.filters);case i.UPDATE_UNDISCOVERED_FILTER:return U(r,l.filters);case i.UPDATE_ILLUSTRATIVE_FILTER:return H(r,l.filters);case i.UPDATE_SIZE_FILTER:return j(r,l.value);case i.CLEAR_SEARCH_FILTERS:return c={},E(c,l.data.filter_asset_type),c;case i.UPDATE_PAGE_DATA:return c=e.extend(!0,{},r),t.get(l,"data.filter_asset_type")?(E(c,l.data.filter_asset_type),c):c;case i.NAVIGATE_SEARCH_HISTORY:case i.ALERT_UNDO_ACTION:return c={},c=l.previousFilters?N(c,l.previousFilters):p(),l.previousFilters&&l.previousFilters[o.CATEGORY]&&(c=C(c,l.previousFilters[o.CATEGORY])),D(c,l.previousAssetType),c;case i.CLEAR_BREADCRUMB_FILTER:return c=e.extend(!0,{},r),l.filter.key===o.CONTENT_TYPE_PHOTO&&s.isAestheticFilterEnabled(r)||(delete c[l.filter.key][l.filter.value],l.filter.key===o.FIND_SIMILAR_BY&&delete c[l.filter.key],e.isEmptyObject(c[l.filter.key])&&delete c[l.filter.key]),c;case i.MULTI_IMAGE_UPLOAD:return c=e.extend({},r),a.mobile?c:k(c,l.filters);case i.MULTI_IMAGE_ADD:return c=e.extend({},r),s.isAestheticFilterEnabled(r)&&(delete c[o.VIVID_COLOR],delete c[o.DEPTH_OF_FIELD]),c;default:return r}}function z(n,a){var s=e.extend({},n);switch(a.type){case i.SET_ASSET_TYPE_TO_PREMIUM:return s[o.CONTENT_TYPE_IMAGE]={1:t.get(X,o.CONTENT_TYPE_IMAGE+".1")},s;default:return n}}function Q(t,n){var a=e.extend({},t);switch(n.type){case i.SET_ASSET_TYPE_TO_PREMIUM:return delete a[o.PRICE_CLIENT_HIGH],a[o.CATEGORY]&&-1!==o.EDITORIAL_CATEGORIES.indexOf(a[o.CATEGORY])&&delete a[o.CATEGORY],re.forEach(function(e){delete a[e]}),a;default:return t}}function Z(e){e[o.SAFE_SEARCH]&&delete e[o.SAFE_SEARCH],e[o.PRICE_CLIENT_HIGH]&&delete e[o.PRICE_CLIENT_HIGH],e[o.PRICE_CLIENT_LOW]&&delete e[o.PRICE_CLIENT_LOW]}var X=a.filtersText,$=c.getTemplateSubcategoryByTemplateTypes(),J={all:[o.CONTENT_TYPE_IMAGE,o.CONTENT_TYPE_VIDEO,o.CONTENT_TYPE_TEMPLATE,o.CONTENT_TYPE_3D],premium:[o.CONTENT_TYPE_IMAGE,o.CONTENT_TYPE_TEMPLATE,o.CONTENT_TYPE_3D],editorial:[o.CONTENT_TYPE_IMAGE,o.CONTENT_TYPE_VIDEO]},ee=[o.PRICE_CLIENT_LOW,o.PRICE_CLIENT_HIGH,o.TEMPLATE_CATEGORIES,o.TEMPLATE_TYPES,o.THREE_D_TYPE,o.VIDEO_IS_4K,o.CONTENT_TYPE_VIDEO,o.CONTENT_TYPE_TEMPLATE,o.CONTENT_TYPE_3D,o.VIDEO_FRAME_RATE,o.VIDEO_DURATION],te=[o.CONTENT_TYPE_ILLUSTRATION,o.CONTENT_TYPE_PHOTO,o.CONTENT_TYPE_VECTOR,o.TEMPLATE_CATEGORIES,o.TEMPLATE_TYPES,o.THREE_D_TYPE,o.VIDEO_IS_4K,o.CONTENT_TYPE_IMAGE,o.CONTENT_TYPE_VIDEO,o.CONTENT_TYPE_TEMPLATE,o.CONTENT_TYPE_3D,o.VIDEO_FRAME_RATE,o.VIDEO_DURATION],ne=[o.CONTENT_TYPE_ILLUSTRATION,o.CONTENT_TYPE_PHOTO,o.CONTENT_TYPE_VECTOR,o.DEPTH_OF_FIELD,o.ORIENTATION,o.PRICE_CLIENT_HIGH,o.PRICE_CLIENT_LOW,o.TEMPLATE_CATEGORIES,o.TEMPLATE_TYPES,o.THREE_D_TYPE,o.VIVID_COLOR,o.CONTENT_TYPE_IMAGE,o.CONTENT_TYPE_VIDEO,o.CONTENT_TYPE_TEMPLATE,o.CONTENT_TYPE_3D,o.COPY_SPACE,o.SIZE,o.SIZE_PIXELS_WIDTH_MIN,o.SIZE_PIXELS_HEIGHT_MIN,o.SIZE_MEGA_PIXELS_MIN,o.ILLUSTRATIVE,o.ILLUSTRATIVE_INCLUDE,o.ILLUSTRATIVE_EXCLUDE],ae=[o.COLOR,o.CONTENT_TYPE_ILLUSTRATION,o.CONTENT_TYPE_PHOTO,o.CONTENT_TYPE_VECTOR,o.DEPTH_OF_FIELD,o.EXCLUDE_PEOPLE,o.INCLUDE_PEOPLE,o.ORIENTATION,o.PRICE_CLIENT_HIGH,o.PRICE_CLIENT_LOW,o.THREE_D_TYPE,o.VIDEO_IS_4K,o.VIVID_COLOR,o.CONTENT_TYPE_IMAGE,o.CONTENT_TYPE_VIDEO,o.CONTENT_TYPE_TEMPLATE,o.CONTENT_TYPE_3D,o.VIDEO_FRAME_RATE,o.VIDEO_DURATION,o.COPY_SPACE,o.ISOLATED,o.SIZE,o.SIZE_PIXELS_WIDTH_MIN,o.SIZE_PIXELS_HEIGHT_MIN,o.SIZE_MEGA_PIXELS_MIN,o.ILLUSTRATIVE,o.ILLUSTRATIVE_INCLUDE,o.ILLUSTRATIVE_EXCLUDE],ie=[o.COLOR,o.CONTENT_TYPE_ILLUSTRATION,o.CONTENT_TYPE_PHOTO,o.CONTENT_TYPE_VECTOR,o.DEPTH_OF_FIELD,o.EXCLUDE_PEOPLE,o.INCLUDE_PEOPLE,o.ORIENTATION,o.PRICE_CLIENT_HIGH,o.PRICE_CLIENT_LOW,o.TEMPLATE_CATEGORIES,o.TEMPLATE_TYPES,o.VIDEO_IS_4K,o.VIVID_COLOR,o.CONTENT_TYPE_IMAGE,o.CONTENT_TYPE_VIDEO,o.CONTENT_TYPE_TEMPLATE,o.CONTENT_TYPE_3D,o.VIDEO_FRAME_RATE,o.VIDEO_DURATION,o.COPY_SPACE,o.ISOLATED,o.SIZE,o.SIZE_PIXELS_WIDTH_MIN,o.SIZE_PIXELS_HEIGHT_MIN,o.SIZE_MEGA_PIXELS_MIN,o.ILLUSTRATIVE,o.ILLUSTRATIVE_INCLUDE,o.ILLUSTRATIVE_EXCLUDE],se=[o.TEMPLATE_CATEGORIES,o.TEMPLATE_TYPES,o.THREE_D_TYPE,o.VIDEO_IS_4K,o.PRICE_CLIENT_HIGH,o.PRICE_CLIENT_LOW,o.EXCLUDE_PEOPLE,o.INCLUDE_PEOPLE,o.CONTENT_TYPE_IMAGE,o.CONTENT_TYPE_VIDEO,o.CONTENT_TYPE_TEMPLATE,o.CONTENT_TYPE_3D,o.VIDEO_FRAME_RATE,o.VIDEO_DURATION,o.COPY_SPACE,o.ISOLATED],re=[o.PRICE_CLIENT_LOW,o.PRICE_CLIENT_HIGH,o.TEMPLATE_CATEGORIES,o.TEMPLATE_TYPES,o.THREE_D_TYPE,o.VIDEO_IS_4K,o.CONTENT_TYPE_VIDEO,o.CONTENT_TYPE_TEMPLATE,o.CONTENT_TYPE_3D,o.VIDEO_FRAME_RATE,o.VIDEO_DURATION,o.ISOLATED];return{breadcrumbs:X?c.flattenReducers([z,K,Q]):{},cleanUpAestheticFilters:I,cleanUpImageTypes:v,cleanUpOrientationFilters:S,cleanUpPeopleFilters:b,cleanUpTemplateSubcategories:T,filterViewSwitchStates:E,handleColorFilter:A,handleDurationFilterDefaultState:f,handleEditorialDateRangeFilter:R,handleFrameRateFilterDefaultState:h,handleMogrtAppFilter:O,handleNonEditorialCategoryFilters:C,handleOrientationFilter:L,handleAssetTypeDefaultState:D,needsCategorySwitchState:m,updateFrameRateFilter:G,updateVideoShotSizeFilter:B,updateVideoShotAngleFilter:q,updateDurationFilter:W,updateSizeFilter:j,handleSizeFilterDefaultState:_,handleDefaultGloballySafeSearchBreadcrumbs:Z}}),define("app/reducers/filtersPanel",["jquery","page_config","app/actions/actionTypes"],function(e,t,n){"use strict";function a(){return{isVisible:t.show_filter||!1}}function i(t,i){var s=e.extend({},t);if(void 0===t)return a();switch(i.type){case n.OPEN_FILTERS_PANEL.begin:return s.isVisible=!0,s.loading=!0,s;case n.OPEN_FILTERS_PANEL.success:case n.OPEN_FILTERS_PANEL.failure:return s.loading=!1,s;case n.CLOSE_FILTERS_PANEL:return s.isVisible=!1,s;default:return t}}return i}),define("app/reducers/metadata",["redux","app/reducers/filtersPanel"],function(e,t){"use strict";return e.combineReducers({filtersPanel:t})}),define("app/reducers/multi-image-search",["jquery","page_config","app/actions/actionTypes","app/constants/searchFilters","lib/utils"],function(e,t,n,a,i){"use strict";function s(){return t.misData||[]}function r(t,r){if(void 0===t)return s()
;var o,l,c,u,d=e.extend(!0,{},{metadata:[],upload:{}},t),p=r.multiImage?r.multiImage:{},h=d.metadata,f=!1;switch(r.type){case n.MULTI_IMAGE_ADD:return u=p[a.NATIVE_VISUAL_SEARCH]?p[a.NATIVE_VISUAL_SEARCH]:"",c=p[a.FIND_SIMILAR_BY]?p[a.FIND_SIMILAR_BY]:"all",o=p.contentId?p.contentId:r.contentId,u?(l={native_content_id:Number(u),find_similar_by:c},d.upload.id=u,d.upload.findSimilarBy=r.multiImage[a.FIND_SIMILAR_BY]):l={contentId:Number(o),thumbnail:p.thumbnail,thumbnail_240:p.thumbnail_240,title:p.title,content_url:p.content_url,find_similar_by:c,isVideo:r.isVideo},d.metadata.forEach(function(e){(u&&e.native_content_id===l.native_content_id||e.contentId===l.contentId)&&(f=!0)}),f||d.metadata.push(l),d;case n.MULTI_IMAGE_UPLOAD:return d.upload={},d;case n.MULTI_IMAGE_REMOVE:return d=e.extend(!0,{},t),d[a.SIMILAR_CONTENT_ID]=void 0,d;case n.UPDATE_FIND_SIMILAR_BY:var _=i.getValueFromArrayById(h,"contentId",r.id);return _?_.findSimilarBy=r.findSimilarBy:d.upload.findSimilarBy=r.findSimilarBy,d;default:return t}}return{multiImageSearch:r}}),define("app/reducers/recent-searches",["app/actions/actionTypes"],function(e){"use strict";function t(){return!1}function n(n,a){if(void 0===n)return t();var i=n;switch(a.type){case e.SHOW_RECENT_SEARCHES:i=!0;break;case e.HIDE_RECENT_SEARCHES:i=!1;break;default:return n}return i}return n}),define("app/reducers/checkout",["lodash","jquery","page_config","app/actions/actionTypes","lib/utils"],function(e,t,n,a,i){"use strict";function s(){return e.get(n,"state.content",[])}function r(n,r){if(void 0===n)return s();switch(r.type){case a.QUICKER_CHECKOUT_OPEN:return n.map(function(e){return i.areEqualNumbers(e.content_id,r.contentId)?t.extend({},e,{isLicensing:!0,isWaiting:!1}):e});case a.BUY_LICENSE.begin:return n.map(function(e){return i.areEqualNumbers(e.content_id,r.contentId)?t.extend({},e,{isLicensing:!0}):e});case a.DOWNLOAD_ASSET.begin:return n.map(function(e){return i.areEqualNumbers(e.content_id,r.contentId)?t.extend({},e,{isDownloading:!0}):e});case a.SAVE_ASSET.begin:return n.map(function(e){return i.areEqualNumbers(e.content_id,r.contentId)?t.extend({},e,{isSaving:!0,saved:!1}):e});case a.QUICKER_CHECKOUT_CLOSE:case a.QUICKER_CHECKOUT_DONE:case a.QUICKER_CHECKOUT_ERROR:return n.map(function(e){return i.areEqualNumbers(e.content_id,r.contentId)?t.extend({},e,{isLicensing:!1,isWaiting:!1,shouldShowHoverMenu:!1}):e});case a.BUY_LICENSE.success:case a.BUY_LICENSE.failure:return n.map(function(e){return i.areEqualNumbers(e.content_id,r.contentId)?t.extend({},e,{isLicensing:!1,shouldShowHoverMenu:!1}):e});case a.DOWNLOAD_ASSET.success:case a.DOWNLOAD_ASSET.failure:return n.map(function(e){return i.areEqualNumbers(e.content_id,r.contentId)?t.extend({},e,{isDownloading:!1}):e});case a.SAVE_ASSET.success:case a.SAVE_ASSET.failure:return n.map(function(e){return i.areEqualNumbers(e.content_id,r.contentId)?t.extend({},e,{isSaving:!1,saved:!1,shouldShowHoverMenu:!1,shouldShowSeeMoreDropDown:!1}):e});case a.SAVE_ASSET_COMPLETE:return n.map(function(e){return i.areEqualNumbers(e.content_id,r.contentId)?t.extend({},e,{isSaving:!1,saved:!0}):e});case a.WAIT_QUICKER_CHECKOUT_MODAL_OPEN:return n.map(function(e){return i.areEqualNumbers(e.content_id,r.contentId)?t.extend({},e,{isWaiting:!0}):e});case a.UPDATE_DETAIL_PANEL_LICENSE:return n.map(function(e){return i.areEqualNumbers(e.content_id,r.contentId)?t.extend({},e,{selectedLicenseId:parseInt(r.licenseId,10)}):e});case a.CONTENT_LICENSED:return n.map(function(n){if(!i.areEqualNumbers(n.content_id,r.contentId))return n;var a=t.extend({},n,{selectedLicenseId:parseInt(r.licenseId,10)});return e.get(a,"license_details."+r.licenseId)&&(a.license_details=t.extend({},a.license_details),a.license_details[r.licenseId].downloaded=!0),a});default:return n}}return r}),define("app/reducers/view",["redux","app/reducers/breadcrumbs","app/reducers/metadata","app/reducers/multi-image-search","app/reducers/recent-searches","app/reducers/checkout"],function(e,t,n,a,i,s){"use strict";return e.combineReducers({metadata:n,multiImage:a.multiImageSearch,breadcrumbs:t.breadcrumbs,recentSearches:i,checkout:s})}),define("app/reducers/libraries",["jquery","app/actions/actionTypes"],function(e,t){"use strict";function n(){return{items:{}}}return function(a,i){switch(void 0===a&&(a=n()),i.type){case t.UPDATE_LIBRARY_ITEMS:return e.extend({},a,{items:i.items});default:return a}}}),define("app/reducers/querySuggestions",["jquery","app/actions/actionTypes","page_config"],function(e,t,n){"use strict";function a(){var e={};return e.suggestions=n.query_suggestions||[],e}return{querySuggestions:function(n,i){switch(void 0===n&&(n=a()),i.type){case t.GET_QUERY_SUGGESTIONS_RESULTS.success:return e.extend({},n,{suggestions:i.result||[]});case t.GET_QUERY_SUGGESTIONS_RESULTS.failure:case t.CLEAR_QUERY_SUGGESTIONS:return e.extend({},n,{suggestions:[]});default:return n}}}}),define("app/constants/carousel",[],function(){"use strict";return{DEFAULT_STYLE:"default",DEFAULT_TYPE:"default",EMPTY_TYPE:"empty",LIGHT_STYLE:"light",LONGTAIL_ID_PREFIX:"longtail-",LONGTAIL_TYPE:"longtail"}}),define("components/carousel/reducers/assetsReducers",["redux","jquery","page_config","app/actions/actionTypes","app/constants/assetTypeFilters","app/constants/carousel"],function(e,t,n,a,i,s){"use strict";function r(){return{items:[],total:0,type:s.DEFAULT_TYPE}}function o(e,n){return t.extend({},e,{items:[],type:n.carouselType||s.DEFAULT_TYPE,style:n.style||s.DEFAULT_STYLE})}var l=function(e,n){switch(void 0===e&&(e=r()),n.type){case a.FETCH_ASSETS_ALL.begin:return o(e,n);case a.FETCH_ASSETS_ALL.success:return t.extend({},e,{items:n.result.items,total:n.result.total});case a.FETCH_ASSETS_ALL.failure:return{};default:return e}},c=function(e,n){switch(void 0===e&&(e=r()),n.type){case a.FETCH_ASSETS_EDITORIAL.begin:return o(e,n);case a.FETCH_ASSETS_EDITORIAL.success:return t.extend({},e,{items:n.result.items,total:n.result.total});case a.FETCH_ASSETS_EDITORIAL.failure:return{};default:return e}},u=function(e,n){switch(void 0===e&&(e=r()),n.type){case a.FETCH_ASSETS_IMAGES.begin:return o(e,n);case a.FETCH_ASSETS_IMAGES.success:return t.extend({},e,{items:n.result.items,total:n.result.total});case a.FETCH_ASSETS_IMAGES.failure:return{};default:return e}},d=function(e,n){switch(void 0===e&&(e=r()),n.type){case a.FETCH_ASSETS_PREMIUM.begin:return o(e,n);case a.FETCH_ASSETS_PREMIUM.success:return t.extend({},e,{items:n.result.items,total:n.result.total});case a.FETCH_ASSETS_PREMIUM.failure:return{};default:return e}},p=function(e,n){switch(void 0===e&&(e=r()),n.type){case a.FETCH_ASSETS_FREE.begin:return o(e,n);case a.FETCH_ASSETS_FREE.success:return t.extend({},e,{items:n.result.items,total:n.result.total});case a.FETCH_ASSETS_FREE.failure:return{};default:return e}},h=function(e,n){switch(void 0===e&&(e=r()),n.type){case a.FETCH_ASSETS_TEMPLATES.begin:return o(e,n);case a.FETCH_ASSETS_TEMPLATES.success:return t.extend({},e,{items:n.result.items,total:n.result.total});case a.FETCH_ASSETS_TEMPLATES.failure:return{};default:return e}},f=function(e,n){switch(void 0===e&&(e=r()),n.type){case a.FETCH_ASSETS_THREED.begin:return o(e,n);case a.FETCH_ASSETS_THREED.success:return t.extend({},e,{items:n.result.items,total:n.result.total});case a.FETCH_ASSETS_THREED.failure:return{};default:return e}},_=function(e,n){switch(void 0===e&&(e=r()),n.type){case a.FETCH_ASSETS_VIDEOS.begin:return o(e,n);case a.FETCH_ASSETS_VIDEOS.success:return t.extend({},e,{items:n.result.items,total:n.result.total});case a.FETCH_ASSETS_VIDEOS.failure:return{};default:return e}},m=function(e,n){var i={};if(void 0===e)return[];switch(n.type){case a.FETCH_ASSETS_LONGTAIL.begin:return i[n.id]={keyword:n.keyword,items:[],type:n.carouselType||s.DEFAULT_TYPE,style:n.style||s.DEFAULT_STYLE},t.extend({},e,i);case a.FETCH_ASSETS_LONGTAIL.success:return i[n.id]=t.extend({},e[n.id],{items:n.result.items,total:n.result.total}),t.extend({},e,i);case a.FETCH_ASSETS_LONGTAIL.failure:return i[n.id]={},t.extend({},e,i);default:return e}};return{assets:function(e,n){switch(void 0===e&&(e=r()),n.type){case a.FETCH_PREMIUM_IMAGES.begin:return t.extend({},e,{items:[]});case a.FETCH_PREMIUM_IMAGES.success:return t.extend({},e,{items:n.result.items,total:n.result.total});case a.FETCH_PREMIUM_IMAGES.failure:return{};case a.CLEAR_PREMIUM_IMAGES:return r();default:return e}},carousel:function(){var t={};return t[i.ALL]=l,t[i.EDITORIAL]=c,t[i.IMAGES]=u,t[i.PREMIUM]=d,t[i.TEMPLATES]=h,t[i.THREED]=f,t[i.VIDEOS]=_,t.longtail=m,n.isFreeEnabled&&(t[i.FREE]=p),e.combineReducers(t)}()}}),define("app/reducers/contentHoverMenu",["jquery","lodash","page_config","app/actions/actionTypes","lib/utils"],function(e,t,n,a,i){"use strict";function s(){return t.get(n,"state.content",[])}function r(t,n){if(void 0===t)return s();switch(n.type){case a.OPEN_HOVER_MENU_MORE_OPTIONS:return t.map(function(t){return i.areEqualNumbers(t.content_id,n.contentId)?e.extend({},t,{shouldShowSeeMoreDropDown:!0,shouldDisplaySaveToLibraryComponent:!0,shouldShowFSCHoverMenu:!0}):t});case a.CLOSE_HOVER_MENU_MORE_OPTIONS:return t.map(function(t){return i.areEqualNumbers(t.content_id,n.contentId)?e.extend({},t,{shouldShowSeeMoreDropDown:!1,shouldDisplaySaveToLibraryComponent:!1,shouldShowFSCHoverMenu:!1}):t});case a.OPEN_FSC_HOVER_MENU:return t.map(function(t){return i.areEqualNumbers(t.content_id,n.contentId)?e.extend({},t,{shouldShowFSCHoverMenu:!0}):t});case a.CLOSE_FSC_HOVER_MENU:return t.map(function(t){return i.areEqualNumbers(t.content_id,n.contentId)?e.extend({},t,{shouldShowFSCHoverMenu:!1}):t});case a.SHOW_HOVER_MENU:return t.map(function(t){return i.areEqualNumbers(t.content_id,n.contentId)?e.extend({},t,{shouldShowHoverMenu:!0}):t});case a.HIDE_HOVER_MENU:return t.map(function(t){return i.areEqualNumbers(t.content_id,n.contentId)?e.extend({},t,{shouldShowHoverMenu:!1}):t});default:return t}}return r}),define("app/reducers/contentMosaic",["jquery","lodash","page_config","app/actions/actionTypes"],function(e,t,n,a){"use strict";function i(){return t.get(n,"state.content",[])}function s(t,n){if(void 0===t)return i();switch(n.type){case a.MOSAIC_RELOADED:return t.map(function(t){return n.mosaicData[t.content_id]?e.extend({},t,n.mosaicData[t.content_id]):t});default:return t}}return s}),define("app/reducers/content",["jquery","page_config","lib/utils","app/reducers/contentHoverMenu","app/reducers/checkout","app/reducers/contentMosaic","lib/contentDetails","app/actions/actionTypes"],function(e,t,n,a,i,s,r,o){"use strict";function l(){var e=[],t=r.getContentDataDic()||{};return Object.keys(t).length&&(e=r.getSortedContentArray(t)),e}function c(t,a){if(void 0===t)return l();switch(a.type){case o.GET_SEARCH_RESULTS.success:return r.getSortedContentArray(a.result.items||{});case o.UPDATE_LIBRARY_ITEMS:return r.getSortedContentArray(a.items);case o.SELECT_CONTENT_LICENSE:return t.map(function(t){return n.areEqualNumbers(t.content_id,a.contentId)?e.extend({},t,{selectedLicenseId:parseInt(a.licenseId,10)}):t});case o.ADD_ITEM_DETAILS:var i=t;return t.filter(function(e){return n.areEqualNumbers(e.content_id,a.content_id)}).length||(i=e.extend([],t),i.push(a.data)),i;default:return t}}return n.flattenReducers([c,s,a,i])}),define("app/reducers/index",["redux","app/reducers/details","app/reducers/filters","app/reducers/history","app/reducers/member","app/reducers/pagination","app/reducers/search","app/reducers/page","app/reducers/view","app/reducers/libraries","app/reducers/querySuggestions","components/carousel/reducers/assetsReducers","app/reducers/content"],function(e,t,n,a,i,s,r,o,l,c,u,d,p){"use strict";return{rootReducer:e.combineReducers({carousel:d.carousel,details:t.details,filters:n.filters,history:a.history,libraries:c,member:i.member,page:o.page,pagination:s.pagination,pbr:d.assets,search:r.search,view:l,content:p,querySuggestions:u.querySuggestions})}}),define("store",["redux","app/middleware/promiseMiddleware","app/middleware/thunkMiddleware","app/reducers/index"],function(e,t,n,a){"use strict";return{configureStore:function(){var i=[n.thunkMiddleware,t.promiseMiddleware].map(function(t){return e.applyMiddleware(t)});return e.compose.apply(void 0,i)(e.createStore)(a.rootReducer)}}}),define("app/client",["store"],function(e){"use strict";var t;return{getInstance:function(n){return t&&!n||(t=e.configureStore()),t}}}),define("app/constants/dunamis",[],function(){"use strict";return{EVENT_PARAMS:{STOCK_SEARCH_KEYWORD:"ui.search_keyword",CONTENT_ID_LIST:"stk.search.content_id_list",TOTAL_SEARCH_RESULTS:"stk.search.total_search_results",RESULTS_COUNTS:"stk.search.results_counts",PAGE:"stk.search.page",FILTERS:"stk.search.filters",SUGGESTED_KEYWORD:"stk.search.suggested_keyword",STOCK_CAROUSEL_TYPE:"stk.search.carousel_type",OPEN_IN_APP:"stk.open_in.action",SAVE_TO_DEVICE:"stk.save_to_device.action",SELECTED_TAB:"stk.selected_tab",LIBRARIES_SAVE_TO_EXISTING_LIBRARY:"stk.libraries.save_to_existing",LIBRARIES_SAVE_TO_NEW_LIBRARY:"stk.libraries.save_to_new",LIBRARIES_SAVE_TO_LIBRARY_ID:"stk.libraries.to.id",LIBRARIES_SAVE_TO_LIBRARY_NAME:"stk.libraries.to.name",EVENT_DATE_RANGE_START:"stk.event_date_range_start",EVENT_DATE_RANGE_END:"stk.event_date_range_end",VIDEO_DURATION_RANGE_START:"stk.video_duration_range_start",VIDEO_DURATION_RANGE_END:"stk.video_duration_range_end",SEARCH_CONTEXT_SEQUENCE:"stk.search_context_sequence",EXTERNAL_SOURCE:"stk.external_source",COUNTRY:"stk.user.country",VIDEO_DURATION:"stk.video.duration",VIDEO_PLAY_TIME:"stk.video.play_time",QUERY_SUGGESTION_LIST:"stk.search.querysuggestion-list",QUERY_SUGGESTION_POSITION:"stk.search.querysuggestion-position"},VISUAL_SEARCH:{BROWSE:"visual-search-browse",DRAG:"visual-search-drag",HOVER_FIND_SIMILAR:"hover-find-similar",DETAILS_FIND_SIMILAR:"details-find-similar",PANEL_FSC_TILE_FIND_SIMILAR:"fsc-tile-panel-find-similar",FSC_TILE_FIND_SIMILAR:"fsc-tile-find-similar",FIND_SIMILAR_BY:"stk.search.visual-search-find-similar-by",CLOSE_VISUAL_SEARCH_TILE:"close-visual-search-tile",IMPRESSIONS:"impressions"},SELL:"sell",AUDIO:"audio",VIEW_ALL_BUTTON:"view-all",BACK_BUTTON:"back",CONTENT_SEEN_BY_USER:"content-seen-by-user",SEARCH:"search",SEARCH_BEGIN:"search-begin",SEARCH_SUCCESS:"search-success",SEARCH_FAILURE:"search-failure",SEARCH_RESULTS_SUCCESS:"search-results-success",SEARCH_RESULTS_FAILURE:"search-results-failure",DIRECT_TO_SEARCH:"direct-to-search",NULL_RESULTS:"null-results",INITIAL_SEARCH:"initial-search",USERTYPED:"usertyped",RECENT_SEARCHES:"recentsearch",AUTO_SUGGEST:"autosuggest",AUTO_CORRECT:"autocorrect",CONTENT_ID:"content.id",QUERY_SUGGESTION:"querysuggestion",ASSET_TYPE_LINK_VIDEO:"assettypelink-video",ASSET_TYPE_CHANGE:"asset-type-change",ORDER:"order",MINI_MONTHLY_PLAN:"mini-monthly-plan",DOWNLOAD:"download",LICENSE:"license",STOCK_SEARCH:"stock-search",DOWNLOAD_CONFIRMATION:"download-confirmation",PAGINATION:"pagination",EDITORIAL_DATE_RANGE_SELECTED:"editorial-date-range-selected",VIDEO_DURATION_RANGE_SELECTED:"video-duration-range-selected",REMOVE_BREADCRUMB:"remove-breadcrumb",CLEAR_ALL_FILTERS:"clear-all-filters",FILTER_SELECT:"filter-select",CONTRIBUTOR_LINK_DETAILS_PANEL:"contributor-link-details-panel",CATEGORY_LINK_DETAILS_PANEL:"category-link-details-panel",KEYWORD_BADGE_DETAILS_PANEL:"keyword-badge-details-panel",FILTER_VIEW:"filter-view",FILTER_VIEW_PANEL:"filter-view-panel",FILTER_HIDE:"filter-hide",FILTER_HIDE_PANEL:"filter-hide-panel",SEARCH_TYPE:"search_type",LIBRARIES_TOAST:{STATUS:"stk.libraries.toast_status",AUTO_SAVE_ON:"auto-save-on",AUTO_SAVE_OFF:"auto-save-off",AUTO_DOWNLOAD_ON:"auto-download-on",AUTO_DOWNLOAD_OFF:"auto-download-off"},LIBRARIES:{LIBRARY_DETAILS:{LICENSE_FILTER:"library-detail-license-filter",LICENSE_FILTER_VALUE:"stk.libraries.license_filter_value"}},STOCK_CHECKOUT:"stock-checkout",STOCK_PLANS_PAGE:"stock-plans-page",STOCK_TEAMS_PAGE:"stock-teams-page",STOCK_PLANS_PAGE_BUY_BUTTON:"stock-plans-page-buy-button",STOCK_TEAMS_PAGE_BUY_BUTTON:"stock-teams-page-buy-button",BLUE_BANNER:"blue-banner",START_NOW:"start-now",PLACE_SECURE_ORDER:"place-secure-order",CHANGE_PURCHASE_OPTION:"change-purchase-option",VIEW_PLANS_PAGE:"view-plans-page",SUBMIT:"submit",VERIFY_BILLING_INFO:"verify-billing-info",CHECKOUT_MODAL_CLOSE:"checkout-modal-close",AUTHENTICATE_PAYMENT_INSTRUMENT:"authenticate-payment-instrument",BUY_CHOICE:"buy-choice",ENTER_EMAIL:"enter-email",HALT:"halt",PURCHASE_CONFIRM:"purchase-confirm",TEAM_DELEGATE_BUY_CHOICE:"team-delegate-buy-choice",TEAM_PURCHASE_MODAL:"team-purchase-modal",DELEGATE_CANNOT_COMPLETE_PURCHASE:"delegate-cannot-complete-purchase",DELEGATE_REQUEST_MODAL:"delegate-request-modal",REQUEST_FROM_ADMIN:"request-from-admin",USE_INDIVIDUAL_ACCOUNT:"use-individual-account",DELEGATE_REQUEST_CONFIRMATION_MODAL:"delegate-request-confirmation-modal",START_SEARCHING:"start-searching",ADMIN_CANNOT_PURCHASE_FMF:"admin-cannot-purchase-fmf",SWITCH_PERSONAL_CONFIRM:"switch-personal-confirm",SWITCH_PERSONAL_CANCEL:"switch-personal-cancel",PBR:{ASSET_CLICK:"pbr-asset-click",VIEW_RESULTS:"pbr-view-results",RESULTS_COUNT:"pbr-results-count"},FBR:{ASSET_CLICK:"freebr-asset-click",VIEW_RESULTS:"freebr-view-results",RESULTS_COUNT:"freebr-results-count"},CAROUSEL:{DEFAULT:"default",EMPTY:"empty-carousel",LONGTAIL:"longtail-carousel",ASSET_CLICK:"-asset-click",VIEW_RESULTS:"-view-results",RESULTS_COUNT:"-results-count",LONGTAIL_IMPRESSION:"longtail_%1$s|%2$s",EMPTY_IMPRESSION:"all_%s"},VISIT:"visit",PAGE_VIEW:"page-view",OPEN_DETAIL:"open-detail",OPEN_DETAIL_SEARCH_GRID:"open-detail-search-grid",LANDING:"landing",PAGE_LANDING:"page-landing",CLICK:"click",ASSET_TYPE:"asset_type",CONTINUE:"continue",SIGN_IN_FB:"sign_in_fb",SIGN_IN_GOOGLE:"sign_in_google",HOVER_BUY_LICENSE:"hover-buy-license",HOVER_SAVE_PREVIEW:"hover-save-preview",HOVER_VIDEO_START:"hover-start-video",HOVER_VIDEO_PAUSE:"hover-pause-video",HOVER_VIDEO_STOP:"hover-stop-video",HOVER_SAVE:"hover-save",DETAIL_BUY_LICENSE:"details-buy-license",DETAIL_SAVE_PREVIEW:"details-save-preview",DETAIL_VIEW_PREVIEW:"details-view-preview",DETAIL_SAVE:"details-save",SEE_MORE_EVENTS:{SEE_MORE:"see-more",SERIES:"more-from-this-series",MODEL:"more-from-this-model",IMAGES:"more-from-similar-images"},SIMILAR_KEYWORD_EVENTS:{VIEW_ALL:"view-all-similar-keywords",SELECT_KEYWORD:"select-similar-keyword"},PREVIEW_CROP:{CLICK_PREVIEW_CROP:"click-preview-crop",CLICK_SLIDER:"click-preview-crop-slider",CLICK_ASPECT_RATIO:"click-preview-crop-aspect-ratio",ASPECT_RATIO:"preview-crop-aspect-ratio"},SUSI:{LOGIN:"susi-login",CREATE_ACCOUNT:"susi-create-account"},PROPERTIES:{USER:{CURRENT_SUBSCRIPTION:"stk.user.current_subscription",IS_OVERAGE:"stk.user.is_overage"},CHECKOUT:{BASE_PRICE:"stk.checkout.base_price",SUBTOTAL:"stk.checkout.subtotal",TAX:"stk.checkout.tax",TOTAL:"stk.checkout.total",ORDER_ID:"stk.checkout.order_id",OFFER_ID:"stk.checkout.offer_id",CURRENCY:"stk.checkout.currency",QUANTITY:"stk.checkout.quantity",CURRENT_PRICE:"stk.checkout.current_price",ORDER_NUMBER:"stk.checkout.order_number",PROMO_TYPE:"stk.checkout.promo_type",SELECTED_LICENSE_OPTION:"stk.checkout.selected_license_option",SELECTED_PURCHASE_OPTION:"stk.checkout.selected_purchase_option",PURCHASE_OPTIONS:"stk.checkout.purchase_options",FINDING_METHOD:"stk.checkout.finding_method",SELECTION_METHOD:"stk.checkout.selection_method",DELEGATE_REQUEST_PRODUCT:"stk.checkout.delegate-request.product"}},MODAL_CLOSE:"modal-close",TOOLBAR_LICENSE:"toolbar-license",BULK_LICENSE:"bulk-license",SELECTION_QUOTE_MODAL:"quote-modal",FINDING_DIRECT:"direct",ENTERPRISE:{QUOTE_ASSET_ID_LIST:"stk.enterprise.quote_asset_id_list",QUOTE_ASSET_COUNT:"stk.enterprise.quote_asset_download_count"},SUBCATEGORY_QUOTE_MODAL:"quote-modal"}}),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define("stockWebIngest",["jquery"],t):"object"==typeof exports?exports.stockWebIngest=t(require("jquery")):e.stockWebIngest=t(e.$)}(window,function(e){return function(e){function t(a){if(n[a])return n[a].exports;var i=n[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:a})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(a,i,function(t){return e[t]}.bind(null,i));return a},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=125)}([function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){var a=n(0);e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){a(e,t,n[t])})}return e}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}e.exports=function(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}},function(e,t,n){"use strict";var a=n(1),i=n.n(a),s=n(61),r=(n(31),n(25),n(27),n(49),n(2)),o=n.n(r),l=n(3),c=n.n(l),u=n(18),d=n(34),p=(n(104),n(144),n(145),n(0)),h=n.n(p),f=new(function(){function e(t){o()(this,e),this._events={},this._win=t}return c()(e,[{key:"isPerformanceEnabled",value:function(){if(!this._win)return!1;var e=this._win.performance.timing.navigationStart,t=this._win.performance.getEntriesByType;return!!e&&!!t}},{key:"getWindowPerformanceTiming",value:function(){return this._win?this._win.performance.timing:null}},{key:"getWindowEntriesByType",value:function(){return this._win?this._win.performance.getEntriesByType("paint"):null}},{key:"getBrowserDimensions",value:function(){return this._win?{width:this._win.innerWidth,height:this._win.innerHeight}:null}}]),e}())("undefined"!=typeof window&&window),_=function(){function e(){o()(this,e),this.userResolvers={}}return c()(e,[{key:"init",value:function(e){this.userResolvers=e||{}}},{key:"decorateABTests",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.userResolvers.getABTests&&this.userResolvers.getABTests(),a=this.userResolvers.getAdobeStockUniqueIdentifier&&this.userResolvers.getAdobeStockUniqueIdentifier(),s=this.userResolvers.getFeatureFlagsUniqueIdentifier&&this.userResolvers.getFeatureFlagsUniqueIdentifier();return i()((e={},h()(e,"exp.campaign_id",n),h()(e,"stk.user.asui",a),h()(e,"stk.user.ffuuid",s),e),t)}},{key:"decorateProfile",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=u.a.EVENT_USER_GUID_PROPERTY,a=u.a.USER_SERVICE_LEVEL,s=u.a.USER_SERVICE_CODE,r=this.userResolvers,o=r.getCountryCode,l=r.getAccountType,c=r.getCCMemberStatus,d=r.getStockActiveStatus,p=r.getTeamProfileType,f=r.getServiceLevel,_=r.getActiveSubscriptions,m=r.getUserGuid,E=o&&o(),g=l&&l(),v=c&&c(),b=d&&d(),T=p&&p(),I=f&&f("creative_cloud"),S=_&&_(),y=m&&m();return i()((e={},h()(e,n,y),h()(e,"stk.user.type",g),h()(e,"stk.user.cc_member_status",v),h()(e,"stk.user.stock_active_status",b),h()(e,"stk.user.team_profile_type",T),h()(e,"stk.user.country",E),h()(e,"stk.user.current_status",S),h()(e,a,I),h()(e,s,y?"creative_cloud":""),e),t)}},{key:"decorateLoggedStatus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.userResolvers.getLoggedStatus,n=t&&t();return i()(h()({},"stk.user.logged_status",n),e)}},{key:"decorateCreditQuota",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.userResolvers.getCreditQuota,n=t&&t();if(n){var a,s=n.totalOrders,r=n.availableCreditPackQuota,o=n.totalQuotaAvailable,l=n.totalDownloads,c=n.buyerStatus;return i()((a={},h()(a,"stk.user.orders_total",s),h()(a,"stk.user.quota_balance",o),h()(a,"stk.user.credit_balance",r),h()(a,"stk.user.download_total",l),h()(a,"stk.user.buyer_status",c),a),e)}return e}},{key:"decorateCCPro",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.userResolvers,a=n.getUserCCProStatus,s=n.getOrganizationCCProStatus,r=a&&a(),o=s&&s();return i()((e={},h()(e,"stk.user.has_ccpro",r),h()(e,"stk.organization.has_ccpro",o),e),t)}},{key:"decorateOrganization",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.userResolvers.getUserOrganizationDetails,n=t&&t();if(n){var a,s=n.buyingProgram,r=n.contractId,o=n.marketSegment,l=n.orgGuid;return i()((a={},h()(a,"stk.organization.buying_program",s),h()(a,"stk.organization.contract_id",r),h()(a,"stk.organization.market_segment",o),h()(a,"stk.organization.org_guid",l),a),e)}return e}},{key:"decorateUniversalSubscriptionFlags",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.userResolvers.getUniversalSubscriptionFlags,n=t&&t();if(n){var a,s=n.is_eligible_for_universal_plan_purchase,r=n.is_eligible_for_universal_plan_use;return i()((a={},h()(a,"stk.user.is_eligible_for_universal_plan_purchase",s),h()(a,"stk.user.is_eligible_for_universal_plan_use",r),a),e)}return e}},{key:"decorate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.decorateABTests(t);return n=this.decorateProfile(n),n=this.decorateLoggedStatus(n),n=this.decorateCreditQuota(n),n=this.decorateCCPro(n),n=e.decorateBrowserDimensions(n),n=this.decorateOrganization(n),n=this.decorateUniversalSubscriptionFlags(n)}}],[{key:"decorateBrowserDimensions",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=f.getBrowserDimensions();return n?i()({},t,(e={},h()(e,"env.browser_width",n.width),h()(e,"env.browser_height",n.height),e)):t}}]),e}(),m=u.a.EVENT_SESSION_ID_PROPERTY,E=u.a.EVENT_LOCALE,g=function(){function e(){o()(this,e),this.eventResolvers={}}return c()(e,[{key:"init",value:function(e){this.eventResolvers=e||{}}},{key:"decorateSessionId",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.eventResolvers.getSessionId,n=t&&t();return i()(h()({},m,n),e)}},{key:"decorateEventLocale",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.eventResolvers.getLocale,n=t&&t();return i()(h()({},E,n),e)}},{key:"decorate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.decorateSessionId(e);return t=this.decorateEventLocale(t)}}]),e}(),v=n(5),b=n(40),T=n(36),I=function(){function e(){o()(this,e),this.searchResolvers={}}return c()(e,[{key:"init",value:function(e){this.searchResolvers=e||{}}},{key:"decorateSearchAssetType",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.searchResolvers.getAssetType,n=t&&t();return i()(h()({},v.a,n),e)}},{key:"decorate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.decorateSearchSequenceId(t);return n=this.decorateSearchAssetType(n)}}],[{key:"decorateSearchSequenceId",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(b.b)(e);var t=Object(T.a)();return i()(h()({},v.d,t),e)}}]),e}(),S=function(){function e(){o()(this,e),this.customResolvers={}}return c()(e,[{key:"init",value:function(e){this.customResolvers=e||this.customResolvers}},{key:"decorateTouchpoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.customResolvers.getTouchpoint&&this.customResolvers.getTouchpoint();return t?i()(h()({},"stk.external_source",t),e):e}},{key:"decorate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.decorateTouchpoint(e)}}]),e}(),y=function(){function e(){o()(this,e),this.ingestResolvers={},this.initialized=!1,this.userDecorators=new _,this.eventDecorators=new g,this.searchDecorators=new I,this.customDecorators=new S,this.allowedIngestResolverSchema={search:["getAssetType"],event:["getLocale","getBuild","getSessionId"],user:["getABTests","getAdobeStockUniqueIdentifier","getFeatureFlagsUniqueIdentifier","getCountryCode","getAccountType","getCCMemberStatus","getStockActiveStatus","getTeamProfileType","getServiceLevel","getActiveSubscriptions","getUserGuid","getLoggedStatus","getCreditQuota","getUserCCProStatus","getOrganizationCCProStatus","getUserOrganizationDetails","getUniversalSubscriptionFlags"],custom:["getTouchpoint"]}}return c()(e,[{key:"validate",value:function(e){var t=this,n=Object.keys(e),a=Object.keys(this.allowedIngestResolverSchema);n.forEach(function(n){if(!a.includes(n))throw new Error("Unsupported ingest key: ".concat(n,"!"));var i=t.allowedIngestResolverSchema[n];Object.keys(e[n]).forEach(function(t){if(!i.includes(t))throw new Error("Unsupported ingest resolver: ".concat(t,"!"));if("function"!=typeof e[n][t])throw new Error("Unsupported ingest resolver should be of type function: ".concat(t,"!"))})})}},{key:"init",value:function(e){this.initialized||(e?(this.validate(e),this.ingestResolvers=e,this.userDecorators.init(e.user),this.eventDecorators.init(e.event),this.searchDecorators.init(e.search),this.customDecorators.init(e.custom),this.initialized=!0):this.initialized=!0)}},{key:"decorate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.initialized)throw new Error("not yet initialized");if(!this.ingestResolvers)return e;var t=this.userDecorators.decorate(e);return t=this.searchDecorators.decorate(t),t=this.eventDecorators.decorate(t),t=this.customDecorators.decorate(t)}}]),e}(),A=function(){function e(){o()(this,e),this.requiredConfig=["ANALYTICS_API_KEY"],this.initialized=!1,this.decorators=new y}return c()(e,[{key:"validateConfig",value:function(e){this.requiredConfig.forEach(function(t){if(!(e&&t in e))throw new Error("Missing required config: ".concat(t,"!"))})}},{key:"init",value:function(e){if(this.initialized)throw new Error("Already initialized!");this.validateConfig(e);var t=e.ENVIRONMENT,n=Object(d.b)(t),a=i()({},n,e);this.decorators.init(e.ingestResolvers),u.b.init(a),this.initialized=!0}},{key:"track",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{if(e&&Object.keys(e).length&&this.initialized){var n=this.decorators.decorate(e);u.b.track(n,t)}}catch(e){}}}]),e}();n.d(t,"a",function(){return O}),n.d(t,"b",function(){return R});var O=new A,R=i()({},s,{STOCK_USER_COUNTRY:"stk.user.country",STOCK_USER_QUOTA_BALANCE:"stk.user.quota_balance",STOCK_USER_CREDIT_BALANCE:"stk.user.credit_balance"})},function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"d",function(){return i}),n.d(t,"a",function(){return s}),n.d(t,"b",function(){return r}),n.d(t,"n",function(){return o}),n.d(t,"g",function(){return l}),n.d(t,"h",function(){return c}),n.d(t,"i",function(){return u}),n.d(t,"m",function(){return d}),n.d(t,"j",function(){return p}),n.d(t,"l",function(){return h}),n.d(t,"e",function(){return f}),n.d(t,"k",function(){return _}),n.d(t,"f",function(){return m}),n.d(t,"o",function(){return E})
;var a="dunamis-ssid",i="stk.search.search_sequence_id",s="stk.search.asset_type_selected",r="ui.search_keyword",o="search-begin",l="contributor-link-details-panel",c="filter-select",u="pagination",d="usertyped",p="recentsearch",h="suggestedsearch",f="autosuggest",_="remove-breadcrumb",m="clear-all-filters",E={BROWSE:"visual-search-browse",DRAG:"visual-search-drag",HOVER_FIND_SIMILAR:"hover-find-similar",DETAILS_FIND_SIMILAR:"details-find-similar",PANEL_FSC_TILE_FIND_SIMILAR:"fsc-tile-panel-find-similar",FSC_TILE_FIND_SIMILAR:"fsc-tile-find-similar",FIND_SIMILAR_BY:"stk.search.visual-search-find-similar-by",CLOSE_VISUAL_SEARCH_TILE:"close-visual-search-tile",IMPRESSIONS:"impressions"}},function(e,t,n){"use strict";n.r(t),n.d(t,"EVENT_CATEGORY_PROPERTY",function(){return a}),n.d(t,"EVENT_SUBCATEGORY_PROPERTY",function(){return i}),n.d(t,"EVENT_TYPE_PROPERTY",function(){return s}),n.d(t,"EVENT_SUBTYPE_PROPERTY",function(){return r}),n.d(t,"EVENT_WORKFLOW_PROPERTY",function(){return o}),n.d(t,"EVENT_TIMESTAMP_PROPERTY",function(){return l}),n.d(t,"EVENT_USER_GUID_PROPERTY",function(){return c}),n.d(t,"EVENT_GUID_PROPERTY",function(){return u}),n.d(t,"EVENT_USER_AGENT_PROPERTY",function(){return d}),n.d(t,"EVENT_URL_PROPERTY",function(){return p}),n.d(t,"EVENT_VISITOR_GUID_PROPERTY",function(){return h}),n.d(t,"EVENT_MCID_GUID_PROPERTY",function(){return f}),n.d(t,"EVENT_LOCALE",function(){return _}),n.d(t,"EVENT_CATEGORY",function(){return m}),n.d(t,"EVENT_SESSION_ID_PROPERTY",function(){return E}),n.d(t,"EVENT_BUILD_PROPERTY",function(){return g}),n.d(t,"EVENT_CONTEXT_GUID",function(){return v}),n.d(t,"EVENT_REFERRER",function(){return b});var a="event.category",i="event.subcategory",s="event.type",r="event.subtype",o="event.workflow",l="event.dts_start",c="event.user_guid",u="event.guid",d="event.user_agent",p="event.url",h="event.visitor_guid",f="event.mcid_guid",_="event.language",m="event.category",E="event.session_guid",g="event.build",v="event.context_guid",b="event.referrer"},function(e,t,n){"use strict";function a(e){if("string"!=typeof e)throw new Error("Key should be a string!")}n.d(t,"a",function(){return a})},function(e,t,n){"use strict";function a(e,t){return function(e,t){var n="[".concat(t,"]");return e.closest(n).first()}(e,t).attr(t)}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=_.b.EVENT_SUBCATEGORY_PROPERTY,i=function(e){return a(e,g.d)}(e);return i?f()(p()({},n,i),t):t}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=_.b.EVENT_WORKFLOW_PROPERTY,i=function(e){return a(e,g.e)}(e);return i?f()(p()({},n,i),t):t}function r(){return m.a.get("cookie").get(v.d)}function o(e){return e.is('[type="checkbox"]')}function l(e,t){return 0!==t.name.indexOf(g.f)||E.a.has(t.name)?e:f()({},e,p()({},(n=t.name)?n.replace(g.f,"").split("-").join("."):"",t.value));var n}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.parentsUntil("body")||{};return e&&e.length&&n.push(e[0]),n.each(function(e){var a=n[e].attributes;t=Object.values(a).reduce(l,t)}),t}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=_.b.SOURCE_PLATFORM;return f()(p()({},t,"Web"),e)}n.d(t,"e",function(){return a}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return s}),n.d(t,"f",function(){return r}),n.d(t,"g",function(){return o}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return u}),n(31),n(25),n(27),n(141),n(82),n(83),n(85);var d=n(0),p=n.n(d),h=n(1),f=n.n(h),_=n(4),m=n(67),E=n(39),g=n(11),v=n(24)},function(e,t,n){var a=n(92)("wks"),i=n(53),s=n(15).Symbol,r="function"==typeof s;(e.exports=function(e){return a[e]||(a[e]=r&&s[e]||(r?s:i)("Symbol."+e))}).store=a},function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return s}),n.d(t,"e",function(){return r}),n.d(t,"a",function(){return o});var a="prod",i="stage",s="/ingest",r=1e3,o="context_guid"},function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"e",function(){return i}),n.d(t,"d",function(){return s}),n.d(t,"c",function(){return r}),n.d(t,"f",function(){return o}),n.d(t,"a",function(){return l});var a="data-ingest-clicktype",i="data-ingest-workflow",s="data-ingest-subcategory",r="data-ingest-content-id",o="data-ingest-",l={CLICK_TYPE_DATA_ATTRIBUTE:a,EVENT_WORKFLOW_DATA_ATTRIBUTE:i,EVENT_SUBCATEGORY_DATA_ATTRIBUTE:s,CONTENT_ID_DATA_ATTRIBUTE:r,INGEST_ATTRIBUTE_PREFIX:o}},function(e,t,n){"use strict";(function(e){function a(){var e=Object(I.a)();if(e&&e.imsProfile)return e.imsProfile;var t=Object(y.a)();return t&&t.SUSI?t.SUSI.profile:null}function i(){var e=Object(I.a)();if(e&&e.stockProfile)return e.stockProfile;var t=Object(y.a)();return t&&t.member?t.member:null}function s(){var e=a();return e&&e.countryCode?e.countryCode:""}function r(){if(T.a.get("cookie").get(S.e))return S.f;var e=a();return e&&e.account_type?e.account_type:""}function o(){var e=i();return e&&e.cc_member_status?e.cc_member_status:""}function l(){var e=i();return e&&e.stockactivestatus?e.stockactivestatus:""}function c(){var e=i(),t=e&&e.default_entitlement?e.default_entitlement:null;return t&&t.team_profile_type?t.team_profile_type:""}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"creative_cloud",t="",n=a(),i=(n&&n.serviceAccounts?n.serviceAccounts:[]).filter(function(t){return t.serviceCode===e});if(i.length){var s=i.map(function(e){return e.serviceLevel});t=b()(s,1)[0]}return t}function d(){var e=a(),t=(e&&e.serviceAccounts?e.serviceAccounts:[]).filter(function(e){return"ACTIVE"===e.serviceStatus}).reduce(function(e,t){return"".concat(e,",").concat(t.serviceCode)},"");return","===t.charAt(0)?t.slice(1):t}function p(){var e=a();return e&&e.userId?e.userId:""}function h(){var t=Object(y.a)(),n=t?t.member:{};return e.isEmptyObject(n)?"logged-out":"logged-in"}function f(){var e=Object(I.a)(),t=e&&e.stockProfile?e.stockProfile.default_entitlement:null;return t?{totalOrders:t.total_orders,availableCreditPackQuota:t.available_credit_pack_quota,totalQuotaAvailable:t.total_quota_available,totalDownloads:t.total_downloads,buyerStatus:t.buyer_status}:null}function _(){var e=Object(I.a)();return!!(e&&e.stockProfile&&e.stockProfile.cc_pro_status?e.stockProfile.cc_pro_status:{}).user_has_ccpro}function m(){var e=Object(I.a)();return!!(e&&e.stockProfile&&e.stockProfile.cc_pro_status?e.stockProfile.cc_pro_status:{}).organization_has_ccpro}function E(){var e=i(),t=e&&e.default_entitlement?e.default_entitlement.organization:null;return t?{buyingProgram:t.buying_program,contractId:t.contract_id,marketSegment:t.market_segment,orgGuid:t.guid}:null}function g(){var e=Object(I.a)().universalSubscriptionFlags;return void 0===e?{}:e}n.d(t,"d",function(){return s}),n.d(t,"a",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"g",function(){return l}),n.d(t,"h",function(){return c}),n.d(t,"f",function(){return u}),n.d(t,"b",function(){return d}),n.d(t,"l",function(){return p}),n.d(t,"m",function(){return h}),n.d(t,"k",function(){return f}),n.d(t,"j",function(){return _}),n.d(t,"e",function(){return m}),n.d(t,"n",function(){return E}),n.d(t,"i",function(){return g});var v=n(121),b=n.n(v),T=n(67),I=n(37),S=n(24),y=n(43)}).call(this,n(28))},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";n.d(t,"e",function(){return a}),n.d(t,"c",function(){return i}),n.d(t,"f",function(){return s}),n.d(t,"j",function(){return r}),n.d(t,"i",function(){return o}),n.d(t,"d",function(){return l}),n.d(t,"h",function(){return c}),n.d(t,"g",function(){return u}),n.d(t,"b",function(){return d}),n.d(t,"a",function(){return p});var a="stk.perf.dom_interactive",i="stk.perf.dom_complete",s="stk.perf.dom_loading",r="stk.perf.time_first_byte",o="stk.perf.load_event_end",l="stk.perf.dom_content_loaded_end",c="stk.perf.first_paint",u="stk.perf.first_contentful_paint",d="first-paint",p="first-contentful-paint"},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){e.exports=!n(17)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"a",function(){return p});var a=n(1),i=n.n(a),s=n(110),r=n(6),o=n(59),l=n(60),c=n(30),u=n(50),d=new s.a,p=i()({},r,o,l,c,u)},function(e,t,n){var a=n(13);e.exports=function(e){if(!a(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var a=n(15),i=n(32),s=n(26),r=n(53)("src"),o=Function.toString,l=(""+o).split("toString");n(55).inspectSource=function(e){return o.call(e)},(e.exports=function(e,t,n,o){var c="function"==typeof n;c&&(s(n,"name")||i(n,"name",t)),e[t]!==n&&(c&&(s(n,r)||i(n,r,e[t]?""+e[t]:l.join(String(t)))),e===a?e[t]=n:o?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[r]||o.call(this)})},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var a=n(19),i=n(93),s=n(95),r=Object.defineProperty;t.f=n(16)?Object.defineProperty:function(e,t,n){if(a(e),t=s(t,!0),a(n),i)try{return r(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){"use strict";function a(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.c)===r.c?u:c;return s()({},o,l,e)}var i=n(1),s=n.n(i),r=n(10),o={ANALYTICS_INGEST_TYPE:"dunamis",ANALYTICS_BUFFER_SIZE:50,ANALYTICS_BUFFER_OVERFLOW_WATERMARK:.75,ANALYTICS_DEBOUNCE:1e4,ANALYTICS_API_KEY:null,ANALYTICS_PROJECT:null,ANALYTICS_REPORT_SUITE_ID:null,ANALYTICS_ORGANIZATION_ID:null,ANALYTICS_TRACKING_SERVER:"stats.adobe.com",ANALYTICS_TRACKING_SERVER_SECURE:"sstats.adobe.com",ANALYTICS_MARKETING_CLOUD_SERVER:"stats.adobe.com",ANALYTICS_MARKETING_CLOUD_SERVER_SECURE:"sstats.adobe.com",ENVIRONMENT:r.b,SOURCE_CLIENT_ID:null,SOURCE_NAME:null,SOURCE_VERSION:null,SOURCE_PLATFORM:null},l={ALLOW_NO_TOKEN:!0},c={ANALYTICS_INGEST_ENDPOINT:"https://cc-api-data.adobe.io",ENVIRONMENT:r.b},u={ANALYTICS_INGEST_ENDPOINT:"https://cc-api-data-stage.adobe.io",ENVIRONMENT:r.c};n.d(t,"a",function(){return a})},function(e,t,n){"use strict";n.d(t,"f",function(){return a}),n.d(t,"e",function(){return i}),n.d(t,"d",function(){return s}),n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return l});var a="zombie",i="soli",s="isid",r="gabt",o="asui",l="ffuuid"},function(e,t,n){"use strict";var a=n(91),i=n(96),s=n(44),r=n(45);e.exports=n(70)(Array,"Array",function(e,t){this._t=r(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),s.Arguments=s.Array,a("keys"),a("values"),a("entries")},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){"use strict";var a=n(99),i={};i[n(9)("toStringTag")]="z",i+""!="[object z]"&&n(20)(Object.prototype,"toString",function(){return"[object "+a(this)+"]"},!0)},function(t,n){t.exports=e},function(e,t,n){"use strict";(function(e){function a(e){Object.keys(e).forEach(function(t){var n,a=e[t];null==(n=a)||""===n?delete e[t]:function(e){return"object"===m()(e)}(a)&&(e[t]=JSON.stringify(e[t]))})}function i(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date).toISOString()}function s(e,t){var n=e+t;return i(n=new Date(n))}function r(){var e=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)})}function o(t,n,o){var l=t.ANALYTICS_API_KEY,c=t.ANALYTICS_PROJECT,u=t.ANALYTICS_INGEST_TYPE,d=t.ENVIRONMENT,h=t.SOURCE_NAME,_=t.SOURCE_VERSION,m=t.SOURCE_PLATFORM,E=t.EVENT_CATEGORY;return o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T.e;if(!Array.isArray(e))return t;for(var a=[],r=e.length,o=0;o<r;o+=1)a.push(e[o][g.EVENT_TIMESTAMP_PROPERTY]);for(var l=0;l<r;l+=1){var c=a[l],u=0===l?t:a[l-1];c-u<=n?(e[l][g.EVENT_TIMESTAMP_PROPERTY]=s(u,n),a[l]=u+n):e[l][g.EVENT_TIMESTAMP_PROPERTY]=i(new Date(c))}return t=a[r-1]}(n,o),{dunamisPayload:{events:n.map(function(t){var n,s=f()((n={},p()(n,g.EVENT_LOCALE,e.navigator?e.navigator.language:""),p()(n,g.EVENT_GUID_PROPERTY,r()),p()(n,g.EVENT_USER_AGENT_PROPERTY,e.navigator?e.navigator.userAgent:""),p()(n,g.EVENT_CATEGORY,E||v.EVENT_CATEGORY_DEFAULT),p()(n,b.SOURCE_CLIENT_ID,l),p()(n,b.SOURCE_NAME,h),p()(n,b.SOURCE_VERSION,_),p()(n,b.SOURCE_PLATFORM,m),n),t);return a(s),{project:c,ingesttype:u,environment:d,time:i(),data:s}})},lastRecordedTimestamp:o}}function l(e,t){if(t&&Object.keys(t).length&&e.events&&e.events.length>0){var n=t.MCMID,a=t.MCAID;e.events.forEach(function(e){e.data=f()({},e.data,!n&&p()({},g.EVENT_VISITOR_GUID_PROPERTY,a),p()({},g.EVENT_MCID_GUID_PROPERTY,n))})}}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=f()({},t,p()({},g.EVENT_TIMESTAMP_PROPERTY,(new Date).getTime()));return n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f()({},t,p()({},g.EVENT_URL_PROPERTY,e.location?e.location.href:""))}(n)}function u(e,t){var n=function(e,t){var n=t.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),a=new RegExp("[\\?&]".concat(n,"=([^&#]*)")).exec(e);return null===a?"":decodeURIComponent(a[1].replace(/\+/g," "))}(t,"context_guid"),a=E.a.get("cookie");return n&&a.set(T.a,n),f()(p()({},g.EVENT_CONTEXT_GUID,n),e)}n.d(t,"e",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"d",function(){return l}),n.d(t,"c",function(){return c}),n.d(t,"b",function(){return u}),n(107);var d=n(0),p=n.n(d),h=n(1),f=n.n(h),_=(n(105),n(83),n(31),n(25),n(27),n(49),n(88)),m=n.n(_),E=n(67),g=n(6),v=n(50),b=n(30),T=n(10)}).call(this,n(21))},function(e,t,n){"use strict";n.r(t),n.d(t,"SOURCE_CLIENT_ID",function(){return a}),n.d(t,"SOURCE_NAME",function(){return i}),n.d(t,"SOURCE_VERSION",function(){return s}),n.d(t,"SOURCE_PLATFORM",function(){return r});var a="source.client_id",i="source.name",s="source.version",r="source.platform"},function(e,t,n){for(var a=n(25),i=n(48),s=n(20),r=n(15),o=n(32),l=n(44),c=n(9),u=c("iterator"),d=c("toStringTag"),p=l.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=i(h),_=0;_<f.length;_++){var m,E=f[_],g=h[E],v=r[E],b=v&&v.prototype;if(b&&(b[u]||o(b,u,p),b[d]||o(b,d,E),l[E]=p,g))for(m in a)b[m]||s(b,m,a[m],!0)}},function(e,t,n){var a=n(22),i=n(68);e.exports=n(16)?function(e,t,n){return a.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var a=n(15),i=n(55),s=n(32),r=n(20),o=n(47),l=function(e,t,n){var c,u,d,p,h=e&l.F,f=e&l.G,_=e&l.S,m=e&l.P,E=e&l.B,g=f?a:_?a[t]||(a[t]={}):(a[t]||{}).prototype,v=f?i:i[t]||(i[t]={}),b=v.prototype||(v.prototype={});for(c in f&&(n=t),n)d=((u=!h&&g&&void 0!==g[c])?g:n)[c],p=E&&u?o(d,a):m&&"function"==typeof d?o(Function.call,d):d,g&&r(g,c,d,e&l.U),v[c]!=d&&s(v,c,p),m&&b[c]!=d&&(b[c]=d)};a.core=i,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,n){"use strict";function a(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.c)===r.b?o:l;return s()({},{ANALYTICS_PROJECT:"stock-web-service",ANALYTICS_ORGANIZATION_ID:"9E1005A551ED61CA0A490D45@AdobeOrg",SOURCE_NAME:"Stock",SOURCE_VERSION:"1.0",SOURCE_PLATFORM:"Web"},e)}var i=n(1),s=n.n(i),r=n(10),o={ANALYTICS_REPORT_SUITE_ID:"adbadobestock.prod.v2",ENVIRONMENT:r.b},l={ANALYTICS_REPORT_SUITE_ID:"adbadobestock.qa.v2",ENVIRONMENT:r.c};n.d(t,"a",function(){return c}),n.d(t,"b",function(){return a});var c="client.v1"},function(e,t,n){"use strict";(function(e){function a(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0,i=function(e){if(!Object(u.c)(e))return{};var t=p.a.get(),n=t&&t.search&&t.search.items?t.search.items:[],a=t&&t.details&&t.details.selected&&t.details.selected===e?t.details:[];return n[e]||a[e]||{}}(a);if(e.isEmptyObject(i))return n;var s=c.b.CONTENT_ID_PROPERTY,o=c.b.CONTENT_NAME_PROPERTY,h=c.b.CONTENT_TYPE_PROPERTY,f=c.b.CONTENT_DIMENSION_PROPERTY,_=c.b.CONTENT_MIMETYPE_PROPERTY,m=c.b.CONTENT_EXTENSION_PROPERTY,E=c.b.CONTENT_AUTHOR_PROPERTY,g=c.b.CONTENT_CATEGORY_PROPERTY,v=i.author,b=i.title,T=i.content_original_width,I=i.content_original_height,S=i.content_type,y=i.format,A=i.premium_level_id,O=i.category,R="".concat(T,"x").concat(I),C=Object(u.b)(i);return l()((t={},r()(t,s,a),r()(t,o,b),r()(t,h,C),r()(t,f,R),r()(t,_,S),r()(t,m,y),r()(t,E,v),r()(t,g,O?O.name:void 0),r()(t,d.b,A),t),n)}function i(e){return a(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Object(u.a)(e))}n.d(t,"b",function(){return a}),n.d(t,"a",function(){return i});var s=n(0),r=n.n(s),o=(n(82),n(1)),l=n.n(o),c=(n(104),n(4)),u=n(65),d=n(39),p=n(41)}).call(this,n(28))},function(e,t,n){"use strict";var a=n(67),i=n(29),s=n(5),r=n(42);n.d(t,"c",function(){return o}),n.d(t,"b",function(){return l}),n.d(t,"e",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"a",function(){return d});var o=function(e,t){var n=[s.o.BROWSE,s.o.DRAG,s.o.HOVER_FIND_SIMILAR,s.o.DETAILS_FIND_SIMILAR,s.o.FSC_TILE_FIND_SIMILAR,s.o.PANEL_FSC_TILE_FIND_SIMILAR];return e===s.n&&-1!==n.indexOf(t)},l=function(e,t){var n=[s.i,s.h,s.k,s.f,s.g,s.l,"edit-audio-find-similar"];return e===s.n&&-1===n.indexOf(t)},c=function(e,t,n){return e[r.a]===r.b&&t===s.n&&(n===s.h||n===s.m||n===s.j||n===s.e)},u=function(){a.a.get("cookie").set(s.c,Object(i.e)(),{path:"/"})},d=function(){return a.a.get("cookie").get(s.c)}},function(e,t,n){"use strict";function a(){var e=i.a.get();return e&&e.member?e.member:{}}n.d(t,"a",function(){return a});var i=n(41)},,function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"a",function(){return p}),n.d(t,"c",function(){return h});var a=n(1),i=n.n(a),s=(n(31),n(25),n(27),n(100),n(133),n(11)),r=n(62),o=s.a.EVENT_WORKFLOW_DATA_ATTRIBUTE,l=s.a.EVENT_SUBCATEGORY_DATA_ATTRIBUTE,c=s.a.CLICK_TYPE_DATA_ATTRIBUTE,u=s.a.CONTENT_ID_DATA_ATTRIBUTE,d="stk.content.premium_level",p=new Set([o,l,c,u]),h=i()({},s.a,r.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return l});var a=n(6),i=n(36),s=n(5),r=n(42),o=function(e,t){return 0!==e.indexOf("".concat(t.protocol,"//").concat(t.host))},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!1,n=e[a.EVENT_TYPE_PROPERTY],o=e[a.EVENT_SUBTYPE_PROPERTY],l=!e[s.b],c=Object(i.c)(n,o);Object(i.b)(n,o)&&!c&&(t=!0),c&&l&&(t=!0),e[r.a]===r.b&&Object(i.e)(e,n,o)&&(t=!0),t&&Object(i.d)()}},function(e,t,n){"use strict";(function(e){var a=n(2),i=n.n(a),s=n(3),r=n.n(s),o=function(){function t(){i()(this,t)}return r()(t,[{key:"set",value:function(t){if(!e.isPlainObject(t))throw new Error("Passed in store is not an object.");this.store=t}},{key:"get",value:function(){return this.store&&"function"==typeof this.store.getState?this.store.getState():this.store}}]),t}();t.a=new o}).call(this,n(28))},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});var a="asset_type",i="audio"},function(e,t,n){"use strict";(function(e){function a(){var t=e("#js-page-config").text();return t&&t.length?JSON.parse(t):null}n.d(t,"a",function(){return a})}).call(this,n(28))},function(e,t){e.exports={}},function(e,t,n){var a=n(69),i=n(46);e.exports=function(e){return a(i(e))}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var a=n(71);e.exports=function(e,t,n){if(a(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,a){return e.call(t,n,a)};case 3:return function(n,a,i){return e.call(t,n,a,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var a=n(97),i=n(76);e.exports=Object.keys||function(e){return a(e,i)}},function(e,t,n){var a=n(56),i=n(48);n(143)("keys",function(){return function(e){return i(a(e))}})},function(e,t,n){"use strict";n.r(t),n.d(t,"EVENT_CATEGORY_DEFAULT",function(){return a});var a="WEB"},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var a=n(2),i=n.n(a),s=n(3),r=n.n(s),o=n(7),l=function(){function e(t,n){if(i()(this,e),this.win=t,this.storageType=n,!this.isAvailable())throw new Error("".concat(n," is NOT available!"))}return r()(e,[{key:"isAvailable",value:function(){if(!this.win)return!1;var e=!1;try{this.win[this.storageType].setItem("key","value"),e="value"===this.win[this.storageType].getItem("key"),this.win[this.storageType].removeItem("key")}catch(e){}return e}},{key:"set",value:function(e,t){Object(o.a)(e),this.win[this.storageType].setItem(e,JSON.stringify(t))}},{key:"get",value:function(e){Object(o.a)(e);var t,n=this.win[this.storageType].getItem(e);if(!n)return null;try{t=JSON.parse(n)}catch(e){t=n}return t}},{key:"remove",value:function(e){Object(o.a)(e),this.win[this.storageType].removeItem(e)}}]),e}()},function(e,t,n){"use strict";(function(e){function a(){var e=Object(h.a)();return e&&e.default_country_code}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c()({},e,o()({},p.EVENT_BUILD_PROPERTY,d.a))}function s(){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a="landing"===e[p.EVENT_TYPE_PROPERTY]||!1,i=function(e){var t=e;if(e){if(-1!==e.indexOf("ims/jump/")){var n=e.split("ims/jump/")[0];t="".concat(n).concat("ims/jump/","masked")}}else t="";return t}(t),s=Object(u.a)(t,n),r=e;return a&&i&&s&&(r[p.EVENT_REFERRER]=i),r}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e.document.referrer,e.location);return t=i(t)}n.d(t,"c",function(){return a}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s});var r=n(0),o=n.n(r),l=n(1),c=n.n(l),u=(n(85),n(40)),d=n(34),p=n(6),h=n(43)}).call(this,n(21))},function(e,t){var n=0,a=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+a).toString(36))}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){var n=e.exports={version:"2.5.3"};"number"==typeof __e&&(__e=n)},function(e,t,n){var a=n(46);e.exports=function(e){return Object(a(e))}},function(e,t,n){var a=n(53)("meta"),i=n(13),s=n(26),r=n(22).f,o=0,l=Object.isExtensible||function(){return!0},c=!n(17)(function(){return l(Object.preventExtensions({}))}),u=function(e){r(e,a,{value:{i:"O"+ ++o,w:{}}})},d=e.exports={KEY:a,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,a)){if(!l(e))return"F";if(!t)return"E";u(e)}return e[a].i},getWeak:function(e,t){if(!s(e,a)){if(!l(e))return!0;if(!t)return!1;u(e)}return e[a].w},onFreeze:function(e){return c&&d.NEED&&l(e)&&!s(e,a)&&u(e),e}}},function(e,t,n){var a=n(13);e.exports=function(e,t){if(!a(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){"use strict";n.r(t),n.d(t,"CONTENT_ID_PROPERTY",function(){return a}),n.d(t,"CONTENT_NAME_PROPERTY",function(){return i}),n.d(t,"CONTENT_TYPE_PROPERTY",function(){return s}),n.d(t,"CONTENT_STATUS_PROPERTY",function(){return r}),n.d(t,"CONTENT_DIMENSION_PROPERTY",function(){return o}),n.d(t,"CONTENT_SIZE_PROPERTY",function(){return l}),n.d(t,"CONTENT_MIMETYPE_PROPERTY",function(){return c}),n.d(t,"CONTENT_EXTENSION_PROPERTY",function(){return u}),n.d(t,"CONTENT_AUTHOR_PROPERTY",function(){return d}),n.d(t,"CONTENT_CATEGORY_PROPERTY",function(){return p}),n.d(t,"CONTENT_ACTION_PROPERTY",function(){return h});var a="content.id",i="content.name",s="content.type",r="content.status",o="content.dimension",l="content.size",c="content.mimetype",u="content.extension",d="content.author",p="content.category",h="content.action"},function(e,t,n){"use strict";n.r(t),n.d(t,"USER_SERVICE_CODE",function(){return a}),n.d(t,"USER_SERVICE_LEVEL",function(){return i});var a="user.service_code",i="user.service_level"},function(e,t,n){"use strict";n.r(t);var a=n(59);n.d(t,"CONTENT_ID_PROPERTY",function(){return a.CONTENT_ID_PROPERTY}),n.d(t,"CONTENT_NAME_PROPERTY",function(){return a.CONTENT_NAME_PROPERTY}),n.d(t,"CONTENT_TYPE_PROPERTY",function(){return a.CONTENT_TYPE_PROPERTY}),n.d(t,"CONTENT_STATUS_PROPERTY",function(){return a.CONTENT_STATUS_PROPERTY}),n.d(t,"CONTENT_DIMENSION_PROPERTY",function(){return a.CONTENT_DIMENSION_PROPERTY}),n.d(t,"CONTENT_SIZE_PROPERTY",function(){return a.CONTENT_SIZE_PROPERTY}),n.d(t,"CONTENT_MIMETYPE_PROPERTY",function(){return a.CONTENT_MIMETYPE_PROPERTY}),n.d(t,"CONTENT_EXTENSION_PROPERTY",function(){return a.CONTENT_EXTENSION_PROPERTY}),n.d(t,"CONTENT_AUTHOR_PROPERTY",function(){return a.CONTENT_AUTHOR_PROPERTY}),n.d(t,"CONTENT_CATEGORY_PROPERTY",function(){return a.CONTENT_CATEGORY_PROPERTY}),n.d(t,"CONTENT_ACTION_PROPERTY",function(){return a.CONTENT_ACTION_PROPERTY});var i=n(6);n.d(t,"EVENT_CATEGORY_PROPERTY",function(){return i.EVENT_CATEGORY_PROPERTY}),n.d(t,"EVENT_SUBCATEGORY_PROPERTY",function(){return i.EVENT_SUBCATEGORY_PROPERTY}),n.d(t,"EVENT_TYPE_PROPERTY",function(){return i.EVENT_TYPE_PROPERTY}),n.d(t,"EVENT_SUBTYPE_PROPERTY",function(){return i.EVENT_SUBTYPE_PROPERTY}),n.d(t,"EVENT_WORKFLOW_PROPERTY",function(){return i.EVENT_WORKFLOW_PROPERTY}),n.d(t,"EVENT_TIMESTAMP_PROPERTY",function(){return i.EVENT_TIMESTAMP_PROPERTY}),n.d(t,"EVENT_USER_GUID_PROPERTY",function(){return i.EVENT_USER_GUID_PROPERTY}),n.d(t,"EVENT_GUID_PROPERTY",function(){return i.EVENT_GUID_PROPERTY}),n.d(t,"EVENT_USER_AGENT_PROPERTY",function(){return i.EVENT_USER_AGENT_PROPERTY}),n.d(t,"EVENT_URL_PROPERTY",function(){return i.EVENT_URL_PROPERTY}),n.d(t,"EVENT_VISITOR_GUID_PROPERTY",function(){return i.EVENT_VISITOR_GUID_PROPERTY}),n.d(t,"EVENT_MCID_GUID_PROPERTY",function(){return i.EVENT_MCID_GUID_PROPERTY}),n.d(t,"EVENT_LOCALE",function(){return i.EVENT_LOCALE}),n.d(t,"EVENT_CATEGORY",function(){return i.EVENT_CATEGORY}),n.d(t,"EVENT_SESSION_ID_PROPERTY",function(){return i.EVENT_SESSION_ID_PROPERTY}),n.d(t,"EVENT_BUILD_PROPERTY",function(){return i.EVENT_BUILD_PROPERTY}),n.d(t,"EVENT_CONTEXT_GUID",function(){return i.EVENT_CONTEXT_GUID}),n.d(t,"EVENT_REFERRER",function(){return i.EVENT_REFERRER});var s=n(30);n.d(t,"SOURCE_CLIENT_ID",function(){return s.SOURCE_CLIENT_ID}),n.d(t,"SOURCE_NAME",function(){return s.SOURCE_NAME}),n.d(t,"SOURCE_VERSION",function(){return s.SOURCE_VERSION}),n.d(t,"SOURCE_PLATFORM",function(){return s.SOURCE_PLATFORM});var r=n(60);n.d(t,"USER_SERVICE_CODE",function(){return r.USER_SERVICE_CODE}),n.d(t,"USER_SERVICE_LEVEL",function(){return r.USER_SERVICE_LEVEL});var o=n(50);n.d(t,"EVENT_CATEGORY_DEFAULT",function(){return o.EVENT_CATEGORY_DEFAULT})},function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return i});var a="last_selected_asset_type",i={SELECTED_ASSET_TYPE_COOKIE:a}},function(e,t,n){var a,i;!function(s){if(void 0===(i="function"==typeof(a=s)?a.call(t,n,t,e):a)||(e.exports=i),e.exports=s(),!1){var r=window.Cookies,o=window.Cookies=s();o.noConflict=function(){return window.Cookies=r,o}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var a in n)t[a]=n[a]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(a){function i(){}function s(t,n,s){if("undefined"!=typeof document){"number"==typeof(s=e({path:"/"},i.defaults,s)).expires&&(s.expires=new Date(1*new Date+864e5*s.expires)),s.expires=s.expires?s.expires.toUTCString():"";try{var r=JSON.stringify(n);/^[\{\[]/.test(r)&&(n=r)}catch(e){}n=a.write?a.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var o="";for(var l in s)s[l]&&(o+="; "+l,!0!==s[l]&&(o+="="+s[l].split(";")[0]));return document.cookie=t+"="+n+o}}function r(e,n){if("undefined"!=typeof document){for(var i={},s=document.cookie?document.cookie.split("; "):[],r=0;r<s.length;r++){var o=s[r].split("="),l=o.slice(1).join("=");n||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var c=t(o[0]);if(l=(a.read||a)(l,c)||t(l),n)try{l=JSON.parse(l)}catch(e){}if(i[c]=l,e===c)break}catch(e){}}return e?i[e]:i}}return i.set=s,i.get=function(e){return r(e,!1)},i.getJSON=function(e){return r(e,!0)},i.remove=function(t,n){s(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}(function(){})})},function(e,t,n){"use strict";(function(e){var a=n(2),i=n.n(a),s=n(3),r=n.n(s),o=function(){function t(){i()(this,t)}return r()(t,[{key:"init",value:function(e){var t=e.ANALYTICS_REPORT_SUITE_ID,n=e.ANALYTICS_ORGANIZATION_ID,a=e.ANALYTICS_TRACKING_SERVER,i=e.ANALYTICS_TRACKING_SERVER_SECURE,s=e.ANALYTICS_MARKETING_CLOUD_SERVER,r=e.ANALYTICS_MARKETING_CLOUD_SERVER_SECURE;this.orgId=n,this.rsid=t,this.serverConfig={trackingServer:a,trackingServerSecure:i,marketingCloudServer:s,marketingCloudServerSecure:r}}},{key:"getVisitorInstance",value:function(){return e.Visitor?e.Visitor.getInstance(this.orgId,this.serverConfig):null}},{key:"isVisitorTrackingEnabled",value:function(){return!!this.getVisitorInstance()}},{key:"getVisitorId",value:function(e){var t=this.getVisitorInstance();return t?t.getMarketingCloudVisitorID(e):""}},{key:"getVisitorFields",value:function(e){var t=this.getVisitorInstance();return t?t.getVisitorValues(e,[t.FIELDS.MCMID,t.FIELDS.MCAID]):{}}}]),t}();t.a=new o}).call(this,n(21))},function(e,t,n){"use strict";function a(e){return!!new RegExp("^0*[1-9]([0-9]){".concat(5,",}$")).test(e)}function i(e){return Object(o.e)(e,r.c)}function s(e){return e.is_editorial&&!e.is_video?"Editorial-Image":e.is_illustrative?"Illustrative-Editorial":e.asset_type}n.d(t,"c",function(){return a}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s}),n(107);var r=n(11),o=n(8)},function(e,t,n){"use strict";var a=n(2),i=n.n(a),s=n(3),r=n.n(s),o=function(){function e(t){i()(this,e),this._events={},this._win=t}return r()(e,[{key:"isPerformanceEnabled",value:function(){if(!this._win)return!1;var e=this._win.performance.timing.navigationStart,t=this._win.performance.getEntriesByType;return!!e&&!!t}},{key:"getWindowPerformanceTiming",value:function(){return this._win?this._win.performance.timing:null}},{key:"getWindowEntriesByType",value:function(){return this._win?this._win.performance.getEntriesByType("paint"):null}},{key:"getBrowserDimensions",value:function(){return this._win?{width:this._win.innerWidth,height:this._win.innerHeight}:null}}]),e}(),l="undefined"!=typeof window?window:null;t.a=new o(l)},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return p});var a=n(2),i=n.n(a),s=n(3),r=n.n(s),o=n(51),l=n(89),c=n(116),u=n(115),d=n(112),p=function(){function t(){i()(this,t)}return r()(t,null,[{key:"get",value:function(t){var n=null;switch(t){case"local":n=new o.a(e,"localStorage");break;case"rawLocal":n=new d.a(e,"localStorage");break;case"session":n=new o.a(e,"sessionStorage");break;case"localOrdered":n=new l.a(e,"localStorage");break;case"sessionOrdered":n=new l.a(e,"sessionStorage");break;case"cookie":n=u.a;break;case"map":n=c.a}
return n}}]),t}()}).call(this,n(21))},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var a=n(54);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==a(e)?e.split(""):Object(e)}},function(e,t,n){"use strict";var a=n(126),i=n(33),s=n(20),r=n(32),o=n(26),l=n(44),c=n(127),u=n(77),d=n(131),p=n(9)("iterator"),h=!([].keys&&"next"in[].keys()),f=function(){return this};e.exports=function(e,t,n,_,m,E,g){c(n,t,_);var v,b,T,I=function(e){if(!h&&e in O)return O[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},S=t+" Iterator",y="values"==m,A=!1,O=e.prototype,R=O[p]||O["@@iterator"]||m&&O[m],C=!h&&R||I(m),L=m?y?I("entries"):C:void 0,D="Array"==t&&O.entries||R;if(D&&(T=d(D.call(new e)))!==Object.prototype&&T.next&&(u(T,S,!0),a||o(T,p)||r(T,p,f)),y&&R&&"values"!==R.name&&(A=!0,C=function(){return R.call(this)}),a&&!g||!h&&!A&&O[p]||r(O,p,C),l[t]=C,l[S]=f,m)if(v={values:y?C:I("values"),keys:E?C:I("keys"),entries:L},g)for(b in v)b in O||s(O,b,v[b]);else i(i.P+i.F*(h||A),t,v);return v}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var a=n(19),i=n(128),s=n(76),r=n(75)("IE_PROTO"),o=function(){},l=function(){var e,t=n(94)("iframe"),a=s.length;for(t.style.display="none",n(130).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;a--;)delete l.prototype[s[a]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(o.prototype=a(e),n=new o,o.prototype=null,n[r]=e):n=l(),void 0===t?n:i(n,t)}},function(e,t,n){var a=n(74),i=Math.min;e.exports=function(e){return e>0?i(a(e),9007199254740991):0}},function(e,t){var n=Math.ceil,a=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?a:n)(e)}},function(e,t,n){var a=n(92)("keys"),i=n(53);e.exports=function(e){return a[e]||(a[e]=i(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var a=n(22).f,i=n(26),s=n(9)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,s)&&a(e,s,{configurable:!0,value:t})}},function(e,t,n){var a=n(20);e.exports=function(e,t,n){for(var i in t)a(e,i,t[i],n);return e}},function(e,t){e.exports=function(e,t,n,a){if(!(e instanceof t)||void 0!==a&&a in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var a=n(47),i=n(135),s=n(136),r=n(19),o=n(73),l=n(137),c={},u={};(t=e.exports=function(e,t,n,d,p){var h,f,_,m,E=p?function(){return e}:l(e),g=a(n,d,t?2:1),v=0;if("function"!=typeof E)throw TypeError(e+" is not iterable!");if(s(E)){for(h=o(e.length);h>v;v++)if((m=t?g(r(f=e[v])[0],f[1]):g(e[v]))===c||m===u)return m}else for(_=E.call(e);!(f=_.next()).done;)if((m=i(_,g,f.value,t))===c||m===u)return m}).BREAK=c,t.RETURN=u},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var a=n(22).f,i=Function.prototype,s=/^\s*function ([^ (]*)/;"name"in i||n(16)&&a(i,"name",{configurable:!0,get:function(){try{return(""+this).match(s)[1]}catch(e){return""}}})},function(e,t,n){n(84)("replace",2,function(e,t,n){return[function(a,i){"use strict";var s=e(this),r=null==a?void 0:a[t];return void 0!==r?r.call(a,s,i):n.call(String(s),a,i)},n]})},function(e,t,n){"use strict";var a=n(32),i=n(20),s=n(17),r=n(46),o=n(9);e.exports=function(e,t,n){var l=o(e),c=n(r,l,""[e]),u=c[0],d=c[1];s(function(){var t={};return t[l]=function(){return 7},7!=""[e](t)})&&(i(String.prototype,e,u),a(RegExp.prototype,l,2==t?function(e,t){return d.call(e,this,t)}:function(e){return d.call(e,this)}))}},function(e,t,n){n(84)("split",2,function(e,t,a){"use strict";var i=n(86),s=a,r=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var o=void 0===/()??/.exec("")[1];a=function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!i(e))return s.call(n,e,t);var a,l,c,u,d,p=[],h=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,_=void 0===t?4294967295:t>>>0,m=new RegExp(e.source,h+"g");for(o||(a=new RegExp("^"+m.source+"$(?!\\s)",h));(l=m.exec(n))&&!((c=l.index+l[0].length)>f&&(p.push(n.slice(f,l.index)),!o&&l.length>1&&l[0].replace(a,function(){for(d=1;d<arguments.length-2;d++)void 0===arguments[d]&&(l[d]=void 0)}),l.length>1&&l.index<n.length&&r.apply(p,l.slice(1)),u=l[0].length,f=c,p.length>=_));)m.lastIndex===l.index&&m.lastIndex++;return f===n.length?!u&&m.test("")||p.push(""):p.push(n.slice(f)),p.length>_?p.slice(0,_):p}}else"0".split(void 0,0).length&&(a=function(e,t){return void 0===e&&0===t?[]:s.call(this,e,t)});return[function(n,i){var s=e(this),r=null==n?void 0:n[t];return void 0!==r?r.call(n,s,i):a.call(String(s),n,i)},a]})},function(e,t,n){var a=n(13),i=n(54),s=n(9)("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==i(e))}},function(e,t,n){"use strict";var a=n(19);e.exports=function(){var e=a(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=a=function(e){return n(e)}:e.exports=a=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},a(t)}e.exports=a},function(e,t,n){"use strict";function a(e){return function(){var t,n=f()(e);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=f()(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return p()(this,t)}}function i(e,t){return"".concat(e,"_").concat(t.toString())}n(149);var s=n(2),r=n.n(s),o=n(3),l=n.n(o),c=n(113),u=n.n(c),d=n(114),p=n.n(d),h=n(90),f=n.n(h),_=(n(105),n(27),n(51)),m=n(7),E=function(e){function t(e,a){var i;return r()(this,t),(i=n.call(this,e,a)).slotCountKey="_slot_count",i}u()(t,e);var n=a(t);return l()(t,[{key:"push",value:function(e,t){Object(m.a)(e);var n=this.get(this.getSlotCountKey(e))||0,a=i(e,n+1);this.set(a,JSON.stringify(t)),this.setSlotCount(e,n+1)}},{key:"fetchAll",value:function(e){Object(m.a)(e);for(var t=[],n=this.get(this.getSlotCountKey(e),0),a=1;a<=n;a+=1){var s=i(e,a),r=this.get(s,"");t.push(JSON.parse(r))}return t}},{key:"flushAll",value:function(e){Object(m.a)(e);for(var t=this.getSlotCountKey(e),n=this.get(t,0);n>0;n-=1){var a=i(e,n);this.remove(a)}this.remove(t)}},{key:"getSlotCountKey",value:function(e){return e+this.slotCountKey}},{key:"setSlotCount",value:function(e,t){var n=this.getSlotCountKey(e);this.set(n,t)}},{key:"getCount",value:function(e){Object(m.a)(e);var t=this.getSlotCountKey(e),n=this.get(t)||"0";return parseInt(n,10)}}]),t}(_.a);t.a=E},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){var a=n(9)("unscopables"),i=Array.prototype;null==i[a]&&n(32)(i,a,{}),e.exports=function(e){i[a][e]=!0}},function(e,t,n){var a=n(15),i=a["__core-js_shared__"]||(a["__core-js_shared__"]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t,n){e.exports=!n(16)&&!n(17)(function(){return 7!=Object.defineProperty(n(94)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var a=n(13),i=n(15).document,s=a(i)&&a(i.createElement);e.exports=function(e){return s?i.createElement(e):{}}},function(e,t,n){var a=n(13);e.exports=function(e,t){if(!a(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!a(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!a(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!a(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var a=n(26),i=n(45),s=n(98)(!1),r=n(75)("IE_PROTO");e.exports=function(e,t){var n,o=i(e),l=0,c=[];for(n in o)n!=r&&a(o,n)&&c.push(n);for(;t.length>l;)a(o,n=t[l++])&&(~s(c,n)||c.push(n));return c}},function(e,t,n){var a=n(45),i=n(73),s=n(129);e.exports=function(e){return function(t,n,r){var o,l=a(t),c=i(l.length),u=s(r,c);if(e&&n!=n){for(;c>u;)if((o=l[u++])!=o)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var a=n(54),i=n(9)("toStringTag"),s="Arguments"==a(function(){return arguments}());e.exports=function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:s?a(t):"Object"==(r=a(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t,n){"use strict";var a=n(132)(!0);n(70)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=a(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){"use strict";var a=n(15),i=n(22),s=n(16),r=n(9)("species");e.exports=function(e){var t=a[e];s&&t&&!t[r]&&i.f(t,r,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";var a=n(15),i=n(33),s=n(20),r=n(78),o=n(57),l=n(80),c=n(79),u=n(13),d=n(17),p=n(138),h=n(77),f=n(103);e.exports=function(e,t,n,_,m,E){var g=a[e],v=g,b=m?"set":"add",T=v&&v.prototype,I={},S=function(e){var t=T[e];s(T,e,"delete"==e?function(e){return!(E&&!u(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(E&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return E&&!u(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof v&&(E||T.forEach&&!d(function(){(new v).entries().next()}))){var y=new v,A=y[b](E?{}:-0,1)!=y,O=d(function(){y.has(1)}),R=p(function(e){new v(e)}),C=!E&&d(function(){for(var e=new v,t=5;t--;)e[b](t,t);return!e.has(-0)});R||((v=t(function(t,n){c(t,v,e);var a=f(new g,t,v);return null!=n&&l(n,m,a[b],a),a})).prototype=T,T.constructor=v),(O||C)&&(S("delete"),S("has"),m&&S("get")),(C||A)&&S(b),E&&T.clear&&delete T.clear}else v=_.getConstructor(t,e,m,b),r(v.prototype,n),o.NEED=!0;return h(v,e),I[e]=v,i(i.G+i.W+i.F*(v!=g),I),E||_.setStrong(v,e,m),v}},function(e,t,n){var a=n(13),i=n(139).set;e.exports=function(e,t,n){var s,r=t.constructor;return r!==n&&"function"==typeof r&&(s=r.prototype)!==n.prototype&&a(s)&&i&&i(e,s),e}},function(e,t,n){n(84)("search",1,function(e,t,n){return[function(n){"use strict";var a=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,a):new RegExp(n)[t](String(a))},n]})},function(e,t,n){"use strict";n(154);var a=n(19),i=n(87),s=n(16),r=/./.toString,o=function(e){n(20)(RegExp.prototype,"toString",e,!0)};n(17)(function(){return"/a/b"!=r.call({source:"a",flags:"b"})})?o(function(){var e=a(this);return"/".concat(e.source,"/","flags"in e?e.flags:!s&&e instanceof RegExp?i.call(e):void 0)}):"toString"!=r.name&&o(function(){return r.call(this)})},function(e,t,n){var a=n(47),i=n(69),s=n(56),r=n(73),o=n(156);e.exports=function(e,t){var n=1==e,l=2==e,c=3==e,u=4==e,d=6==e,p=5==e||d,h=t||o;return function(t,o,f){for(var _,m,E=s(t),g=i(E),v=a(o,f,3),b=r(g.length),T=0,I=n?h(t,b):l?h(t,0):void 0;b>T;T++)if((p||T in g)&&(m=v(_=g[T],T,E),e))if(n)I[T]=m;else if(m)switch(e){case 3:return!0;case 5:return _;case 6:return T;case 2:I.push(_)}else if(u)return!1;return d?-1:c||u?u:I}}},function(e,t,n){var a=n(15),i=n(103),s=n(22).f,r=n(162).f,o=n(86),l=n(87),c=a.RegExp,u=c,d=c.prototype,p=/a/g,h=/a/g,f=new c(p)!==p;if(n(16)&&(!f||n(17)(function(){return h[n(9)("match")]=!1,c(p)!=p||c(h)==h||"/a/i"!=c(p,"i")}))){c=function(e,t){var n=this instanceof c,a=o(e),s=void 0===t;return!n&&a&&e.constructor===c&&s?e:i(f?new u(a&&!s?e.source:e,t):u((a=e instanceof c)?e.source:e,a&&s?l.call(e):t),n?this:d,c)};for(var _=r(u),m=0;_.length>m;)!function(e){e in c||s(c,e,{configurable:!0,get:function(){return u[e]},set:function(t){u[e]=t}})}(_[m++]);d.constructor=c,c.prototype=d,n(20)(a,"RegExp",c)}n(101)("RegExp")},function(e,t,n){"use strict";(function(e,a){n.d(t,"a",function(){return T});var i=n(0),s=n.n(i),r=n(1),o=n.n(r),l=n(2),c=n.n(l),u=n(3),d=n.n(u),p=n(4),h=n(40),f=n(109),_=n(119),m=n(41),E=n(35),g=n(8),v=n(52),b=n(122),T=function(){function t(){c()(this,t),this.requiredConfig=["ANALYTICS_API_KEY"],this.initialized=!1}return d()(t,[{key:"validateConfig",value:function(e){this.requiredConfig.forEach(function(t){if(!(e&&t in e))throw new Error("Missing required config: ".concat(t,"!"))})}},{key:"init",value:function(t){if(this.initialized)throw new Error("Already initialized!");this.validateConfig(t);var n=t;n.ingestResolvers=b.a,p.a.init(o()({},n)),this.installHandlers(),this.initialized=!0,Object(h.a)(e.document.referrer,e.location)&&this.fireLandingEvent()}},{key:"withRedux",value:function(e){m.a.set(e)}},{key:"track",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{if(!a.isEmptyObject(e)&&this.initialized){var i=Object(v.b)(e);i=Object(g.b)(i);var s=p.b.CONTENT_ID_PROPERTY;s in e?i=Object(E.b)(i,e[s]):t&&(i=Object(E.a)(t,i)),t&&(i=Object(g.d)(t,i),i=Object(g.c)(t,i),i=Object(g.a)(t,i)),p.a.track(i,n)}}catch(e){}}},{key:"installHandlers",value:function(){var e=this;f.a.install(function(t){return e.track(t)}),_.a.install(function(t){return e.track(t,null,!0)})}},{key:"fireLandingEvent",value:function(){try{var t,n=p.b.EVENT_TYPE_PROPERTY,i=p.b.EVENT_SUBTYPE_PROPERTY,r=a(e.document.body),o=(t={},s()(t,n,"landing"),s()(t,i,"page-landing"),t);o=Object(v.a)(o),this.track(o,r,!0)}catch(t){e.newrelic&&e.newrelic.noticeError(t)}}}]),t}()}).call(this,n(21),n(28))},function(e,t,n){"use strict";(function(e,a){n.d(t,"a",function(){return u});var i=n(0),s=n.n(i),r=n(4),o=n(11),l=n(8),c=n(35),u={listener:null,install:function(t){this.listener=t,e.document.addEventListener("click",this.handler.bind(this),!0)},getClickType:function(e){var t=Object(l.e)(e,o.b);return Object(l.g)(e)&&t&&(e.is(":checked")?t+="-checked":t+="-unchecked"),t},handler:function(t){var n=r.b.EVENT_TYPE_PROPERTY,i=r.b.EVENT_SUBTYPE_PROPERTY,o=a(t.target);try{var u=this.getClickType(o);if(u){var d,p=(d={},s()(d,n,"click"),s()(d,i,u),d);p=Object(l.c)(o,p),p=Object(l.d)(o,p),p=Object(c.a)(o,p),p=Object(l.a)(o,p),this.listener(p)}}catch(t){e.newrelic&&e.newrelic.noticeError(t)}}}}).call(this,n(21),n(28))},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return g}),n(31),n(25),n(27),n(49);var a=n(1),i=n.n(a),s=n(111),r=n.n(s),o=n(2),l=n.n(o),c=n(3),u=n.n(c),d=n(67),p=n(10),h=n(23),f=n(29),_=n(118),m=n(117),E=n(64),g=function(){function t(){l()(this,t),this.config={},this.storageKey="ingest_event",this.dunamisAPIHandle=null,this.timeoutHandle=0,this.dispatchSemaphore=1,this.lastRecordedTimestamp=-1*p.e}return u()(t,[{key:"init",value:function(e){try{this.storage=d.a.get("localOrdered")}catch(e){this.storage=null}var t=e.ENVIRONMENT,n=r()(e,["ENVIRONMENT"]),a=Object(h.a)(t);this.config=i()({},a,n);var s=this.config,o=s.ANALYTICS_API_KEY,l=s.ANALYTICS_INGEST_ENDPOINT,c=s.ANALYTICS_TOKEN;E.a.init(this.config),this.dunamisAPIHandle=new m.a({apiKey:o,host:l,token:c}),Object(_.a)(),this.bufferOverflowThreshold=this.getBufferOverflowThreshold(),this.storage&&(this.dispatchIfOverflow(),this.triggerDispatchTimer())}},{key:"track",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{var a=Object(f.c)(t);if(a=Object(f.b)(a,e.location.href),this.storage){var i=this.config.ANALYTICS_BUFFER_SIZE;this.storage.getCount(this.storageKey)<i&&this.storage.push(this.storageKey,a),n?this.dispatchImmediately():(this.dispatchIfOverflow(),this.triggerDispatchTimer())}else{var s=[a];this.dispatchImmediately(s)}}catch(e){}}},{key:"triggerDispatchTimer",value:function(){var e=this,t=this.config.ANALYTICS_DEBOUNCE;this.timeoutHandle||(this.timeoutHandle=setTimeout(function(){e.scheduleDispatch(),e.timeoutHandle=0},t))}},{key:"dispatchIfOverflow",value:function(){this.storage.getCount(this.storageKey)>=this.bufferOverflowThreshold&&this.scheduleDispatch()}},{key:"dispatchImmediately",value:function(e){var t=!e&&this.storage,n=t?this.storage.fetchAll(this.storageKey):e;if(n&&n.length){t&&this.storage.flushAll(this.storageKey);var a=Object(f.a)(this.config,n,this.lastRecordedTimestamp),i=a.dunamisPayload,s=a.lastRecordedTimestamp;this.lastRecordedTimestamp=s,this.dispatchImmediatelyWithVisitorId(i)}else this.signal()}},{key:"dispatchImmediatelyWithVisitorId",value:function(e){var t=this,n=e;if(E.a.isVisitorTrackingEnabled()){var a=E.a.getVisitorFields(function(e){Object(f.d)(n,e),t.dunamisAPIHandle.logEvent({body:n},function(){})});a&&Object.keys(a).length&&(Object(f.d)(n,a),this.dunamisAPIHandle.logEvent({body:n},function(){}))}else this.dunamisAPIHandle.logEvent({body:n},function(){});this.signal()}},{key:"scheduleDispatch",value:function(){if(this.wait()){var t=this.config.ANALYTICS_DEBOUNCE;e.requestIdleCallback(this.processScheduledEvents.bind(this),{timeout:t})}}},{key:"processScheduledEvents",value:function(e){e.timeRemaining()>0||e.didTimeout?this.dispatchImmediately():(this.signal(),this.scheduleDispatch())}},{key:"wait",value:function(){return!!this.dispatchSemaphore&&(this.dispatchSemaphore=0,!0)}},{key:"signal",value:function(){this.dispatchSemaphore=1}},{key:"getBufferOverflowThreshold",value:function(){var e=this.config,t=e.ANALYTICS_BUFFER_SIZE,n=e.ANALYTICS_BUFFER_OVERFLOW_WATERMARK;return Math.floor(t*n)}},{key:"flush",value:function(){this.wait()&&this.dispatchImmediately()}}]),t}()}).call(this,n(21))},function(e,t,n){var a=n(148);e.exports=function(e,t){if(null==e)return{};var n,i,s=a(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var a=n(2),i=n.n(a),s=n(3),r=n.n(s),o=n(7),l=function(){function e(t,n){if(i()(this,e),this.win=t,this.storageType=n,!this.isAvailable())throw new Error("".concat(n," is NOT available!"))}return r()(e,[{key:"isAvailable",value:function(){if(!this.win)return!1;var e=!1;try{this.win[this.storageType].setItem("key","value"),e="value"===this.win[this.storageType].getItem("key"),this.win[this.storageType].removeItem("key")}catch(t){e=!1}return e}},{key:"set",value:function(e,t){Object(o.a)(e),this.win[this.storageType].setItem(e,t)}},{key:"get",value:function(e){return Object(o.a)(e),this.win[this.storageType].getItem(e)}},{key:"remove",value:function(e){Object(o.a)(e),this.win[this.storageType].removeItem(e)}}]),e}()},function(e,t,n){var a=n(152);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}},function(e,t,n){var a=n(88),i=n(153);e.exports=function(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?i(e):t}},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var a=n(2),i=n.n(a),s=n(3),r=n.n(s),o=n(63),l=n.n(o),c=n(7),u=function(){function e(){i()(this,e)}return r()(e,null,[{key:"set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(c.a)(e),l.a.set(e,t,n)}},{key:"get",value:function(e){return Object(c.a)(e),l.a.get(e)||null}},{key:"remove",value:function(e){Object(c.a)(e),l.a.remove(e)}}]),e}()},function(e,t,n){"use strict";var a=n(7),i={storage:Object.create(null),set:function(e,t){Object(a.a)(e),this.storage[e]=JSON.stringify(t)},get:function(e){Object(a.a)(e);var t=this.storage[e];return t?JSON.parse(t):null},remove:function(e){Object(a.a)(e),delete this.storage[e]}};t.a=i},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return d});var a=n(1),i=n.n(a),s=(n(49),n(2)),r=n.n(s),o=n(3),l=n.n(o),c=(n(31),n(25),n(27),n(100),n(155),n(10)),u=new WeakMap,d=function(){function t(e){r()(this,t);var n=e.apiKey,a=e.host,i=e.token;if(this.apiKey=n,this.host=a,u.set(this,i),!n||!a)throw new Error("Configuration parameters missing for instantiation")}return l()(t,[{key:"dunamisApiCall",value:function(t,n){var a=new e.XMLHttpRequest;return this.makeDunamisCall(a,t,n)}},{key:"makeDunamisCall",value:function(t,n,a){var i="".concat(this.host).concat(c.d),s=[200,201],r={status:1},o={status:0};if(!n||!n.body||!n.headers)return!1;var l=n.headers,u=n.body.events;return!(!u||void 0===u||0===u.length||(t.open("POST",i,!0),t.onreadystatechange=function(){t.readyState===e.XMLHttpRequest.DONE&&(-1!==s.indexOf(t.status)?a(null,r):a(new Error("Request failed with status: ".concat(t.status)),o))},t.onerror=function(){a(new Error("Request failed"),o)},Object.keys(l).forEach(function(e){return t.setRequestHeader(e,l[e])}),t.send(JSON.stringify(n.body)),0))}},{key:"logEvent",value:function(e,t){return this.setHeaders(e),this.dunamisApiCall(e,t)}},{key:"setHeaders",value:function(e){var t={"Content-Type":"application/json","x-api-key":this.apiKey},n=u.get(this);n&&(t.Authorization="Bearer ".concat(n)),e.headers=i()({},e.headers,t)}}]),t}()}).call(this,n(21))},function(e,t,n){"use strict";(function(e){function a(){e.requestIdleCallback=e.requestIdleCallback||function(e){var t=Date.now();return setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},e.cancelIdleCallback=e.cancelIdleCallback||function(e){clearTimeout(e)}}n.d(t,"a",function(){return a})}).call(this,n(21))},function(e,t,n){"use strict";(function(e,a){n.d(t,"a",function(){return u});var i=n(0),s=n.n(i),r=n(4),o=n(8),l=n(35),c=n(120),u={listener:null,install:function(t){this.listener=t,e.addEventListener("load",this.handler.bind(this),!0)},handler:function(){var t=r.b.EVENT_TYPE_PROPERTY,n=r.b.EVENT_SUBTYPE_PROPERTY,i=a(e.document.body);try{var u,d=(u={},s()(u,t,"visit"),s()(u,n,"page-view"),u);d=Object(o.c)(i,d),d=Object(o.d)(i,d),d=Object(l.a)(i,d),d=Object(c.a)(d),this.listener(d)}catch(t){e.newrelic&&e.newrelic.noticeError(t)}}}}).call(this,n(21),n(28))},function(e,t,n){"use strict";(function(e){function a(){var t,n,a,i,r,u,d,p,h,f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_=o()({},f);return c.a.isPerformanceEnabled()&&(n=(t=c.a.getWindowPerformanceTiming()).navigationStart,t.domInteractive&&(a=t.domInteractive-n),t.domComplete&&(i=t.domComplete-n),t.domLoading&&(r=t.domLoading-n),t.responseStart&&(u=t.responseStart-n),t.loadEventEnd&&(d=t.loadEventEnd-n),t.domContentLoadedEventEnd&&(p=t.domContentLoadedEventEnd-n),_=function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=c.a.getWindowEntriesByType(),i=null,r=null;return e.isEmptyObject(a)||a.forEach(function(e){e.name===l.b?i=Math.round(e.startTime):e.name===l.a&&(r=Math.round(e.startTime))}),o()({},n,(t={},s()(t,l.h,i),s()(t,l.g,r),t))}(_=o()({},f,(h={},s()(h,l.e,a),s()(h,l.c,i),s()(h,l.f,r),s()(h,l.j,u),s()(h,l.i,d),s()(h,l.d,p),h)))),_}n.d(t,"a",function(){return a});var i=n(0),s=n.n(i),r=n(1),o=n.n(r),l=(n(82),n(14)),c=n(66)}).call(this,n(28))},function(e,t,n){var a=n(163),i=n(164),s=n(165);e.exports=function(e,t){return a(e)||i(e,t)||s()}},function(e,t,n){"use strict";var a=n(8),i=n(67),s=n(62),r=n(52),o=n(12),l=(n(83),n(85),n(24)),c={getABTests:function(){var e=i.a.get("cookie").get(l.a)||void 0;return(e=function(e){var t=e;try{(t=t.split(",")).pop(),t=t.join().replace(/,/g,"|")}catch(e){t=null}return t}(e))||null},getAdobeStockUniqueIdentifier:function(){return i.a.get("cookie").get(l.b)},getFeatureFlagsUniqueIdentifier:function(){return i.a.get("cookie").get(l.c)},getCountryCode:o.d,getAccountType:o.a,getCCMemberStatus:o.c,getStockActiveStatus:o.g,getTeamProfileType:o.h,getServiceLevel:o.f,getActiveSubscriptions:o.b,getUserGuid:o.l,getLoggedStatus:o.m,getCreditQuota:o.k,getUserCCProStatus:o.j,getOrganizationCCProStatus:o.e,getUserOrganizationDetails:o.n,getUniversalSubscriptionFlags:o.i};n.d(t,"a",function(){return u});var u={user:c,search:{getAssetType:function(){return i.a.get("cookie").get(s.b)||void 0}},event:{getSessionId:a.f,getLocale:r.c}}},,,function(e,t,n){"use strict";n.r(t),n.d(t,"ingest",function(){return s});var a=n(4);n.d(t,"ingestConstants",function(){return a.b});var i=n(39);n.d(t,"STOCK_WEB_INGEST_PARAMS",function(){return i.c});var s=new(n(108).a)},function(e,t){e.exports=!1},function(e,t,n){"use strict";var a=n(72),i=n(68),s=n(77),r={};n(32)(r,n(9)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=a(r,{next:i(1,n)}),s(e,t+" Iterator")}},function(e,t,n){var a=n(22),i=n(19),s=n(48);e.exports=n(16)?Object.defineProperties:function(e,t){i(e);for(var n,r=s(t),o=r.length,l=0;o>l;)a.f(e,n=r[l++],t[n]);return e}},function(e,t,n){var a=n(74),i=Math.max,s=Math.min;e.exports=function(e,t){return(e=a(e))<0?i(e+t,0):s(e,t)}},function(e,t,n){var a=n(15).document;e.exports=a&&a.documentElement},function(e,t,n){var a=n(26),i=n(56),s=n(75)("IE_PROTO"),r=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),a(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?r:null}},function(e,t,n){var a=n(74),i=n(46);e.exports=function(e){return function(t,n){var s,r,o=String(i(t)),l=a(n),c=o.length;return l<0||l>=c?e?"":void 0:(s=o.charCodeAt(l))<55296||s>56319||l+1===c||(r=o.charCodeAt(l+1))<56320||r>57343?e?o.charAt(l):s:e?o.slice(l,l+2):r-56320+(s-55296<<10)+65536}}},function(e,t,n){"use strict";var a=n(134),i=n(58);e.exports=n(102)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return a.def(i(this,"Set"),e=0===e?0:e,e)}},a)},function(e,t,n){"use strict";var a=n(22).f,i=n(72),s=n(78),r=n(47),o=n(79),l=n(80),c=n(70),u=n(96),d=n(101),p=n(16),h=n(57).fastKey,f=n(58),_=p?"_s":"size",m=function(e,t){var n,a=h(t);if("F"!==a)return e._i[a];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,c){var u=e(function(e,a){o(e,u,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[_]=0,null!=a&&l(a,n,e[c],e)});return s(u.prototype,{clear:function(){for(var e=f(this,t),n=e._i,a=e._f;a;a=a.n)a.r=!0,a.p&&(a.p=a.p.n=void 0),delete n[a.i];e._f=e._l=void 0,e[_]=0},delete:function(e){var n=f(this,t),a=m(n,e);if(a){var i=a.n,s=a.p;delete n._i[a.i],a.r=!0,s&&(s.n=i),i&&(i.p=s),n._f==a&&(n._f=i),n._l==a&&(n._l=s),n[_]--}return!!a},forEach:function(e){f(this,t);for(var n,a=r(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(a(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!m(f(this,t),e)}}),p&&a(u.prototype,"size",{get:function(){return f(this,t)[_]}}),u},def:function(e,t,n){var a,i,s=m(e,t);return s?s.v=n:(e._l=s={i:i=h(t,!0),k:t,v:n,p:a=e._l,n:void 0,r:!1},e._f||(e._f=s),a&&(a.n=s),e[_]++,"F"!==i&&(e._i[i]=s)),e},getEntry:m,setStrong:function(e,t,n){c(e,t,function(e,n){this._t=f(e,t),this._k=n,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?u(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,u(1))},n?"entries":"values",!n,!0),d(t)}}},function(e,t,n){var a=n(19);e.exports=function(e,t,n,i){try{return i?t(a(n)[0],n[1]):t(n)}catch(t){var s=e.return;throw void 0!==s&&a(s.call(e)),t}}},function(e,t,n){var a=n(44),i=n(9)("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(a.Array===e||s[i]===e)}},function(e,t,n){var a=n(99),i=n(9)("iterator"),s=n(44);e.exports=n(55).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||s[a(e)]}},function(e,t,n){var a=n(9)("iterator"),i=!1;try{var s=[7][a]();s.return=function(){i=!0},Array.from(s,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var s=[7],r=s[a]();r.next=function(){return{done:n=!0}},s[a]=function(){return r},e(s)}catch(e){}return n}},function(e,t,n){var a=n(13),i=n(19),s=function(e,t){if(i(e),!a(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,a){try{(a=n(47)(Function.call,n(140).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return s(e,n),t?e.__proto__=n:a(e,n),e}}({},!1):void 0),check:s}},function(e,t,n){var a=n(81),i=n(68),s=n(45),r=n(95),o=n(26),l=n(93),c=Object.getOwnPropertyDescriptor;t.f=n(16)?c:function(e,t){if(e=s(e),t=r(t,!0),l)try{return c(e,t)}catch(e){}if(o(e,t))return i(!a.f.call(e,t),e[t])}},function(e,t,n){var a=n(33),i=n(142)(!1);a(a.S,"Object",{values:function(e){return i(e)}})},function(e,t,n){var a=n(48),i=n(45),s=n(81).f;e.exports=function(e){return function(t){for(var n,r=i(t),o=a(r),l=o.length,c=0,u=[];l>c;)s.call(r,n=o[c++])&&u.push(e?[n,r[n]]:r[n]);return u}}},function(e,t,n){var a=n(33),i=n(55),s=n(17);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],r={};r[e]=t(n),a(a.S+a.F*s(function(){n(1)}),"Object",r)}},function(e,t,n){"use strict";var a=n(33),i=n(98)(!0);a(a.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(91)("includes")},function(e,t,n){"use strict";var a=n(33),i=n(146);a(a.P+a.F*n(147)("includes"),"String",{includes:function(e){return!!~i(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var a=n(86),i=n(46);e.exports=function(e,t,n){if(a(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},function(e,t,n){var a=n(9)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[a]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,a,i={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}},function(e,t,n){var a=n(33),i=n(72),s=n(71),r=n(19),o=n(13),l=n(17),c=n(150),u=(n(15).Reflect||{}).construct,d=l(function(){function e(){}return!(u(function(){},[],e)instanceof e)}),p=!l(function(){u(function(){})});a(a.S+a.F*(d||p),"Reflect",{construct:function(e,t){s(e),r(t);var n=arguments.length<3?e:s(arguments[2]);if(p&&!d)return u(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var a=[null];return a.push.apply(a,t),new(c.apply(e,a))}var l=n.prototype,h=i(o(l)?l:Object.prototype),f=Function.apply.call(e,h,t);return o(f)?f:h}})},function(e,t,n){"use strict";var a=n(71),i=n(13),s=n(151),r=[].slice,o={};e.exports=Function.bind||function(e){var t=a(this),n=r.call(arguments,1),l=function(){var a=n.concat(r.call(arguments));return this instanceof l?function(e,t,n){if(!(t in o)){for(var a=[],i=0;i<t;i++)a[i]="a["+i+"]";o[t]=Function("F,a","return new F("+a.join(",")+")")}return o[t](e,n)}(t,a.length,a):s(t,a,e)};return i(t.prototype)&&(l.prototype=t.prototype),l}},function(e,t){e.exports=function(e,t,n){var a=void 0===n;switch(t.length){case 0:return a?e():e.call(n);case 1:return a?e(t[0]):e.call(n,t[0]);case 2:return a?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return a?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return a?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t){function n(t,a){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,a)}e.exports=n},function(e,t){e.exports=function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){n(16)&&"g"!=/./g.flags&&n(22).f(RegExp.prototype,"flags",{configurable:!0,get:n(87)})},function(e,t,n){"use strict";var a,i=n(106)(0),s=n(20),r=n(57),o=n(159),l=n(161),c=n(13),u=n(17),d=n(58),p=r.getWeak,h=Object.isExtensible,f=l.ufstore,_={},m=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},E={get:function(e){if(c(e)){var t=p(e);return!0===t?f(d(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return l.def(d(this,"WeakMap"),e,t)}},g=e.exports=n(102)("WeakMap",m,E,l,!0,!0);u(function(){return 7!=(new g).set((Object.freeze||Object)(_),7).get(_)})&&(o((a=l.getConstructor(m,"WeakMap")).prototype,E),r.NEED=!0,i(["delete","has","get","set"],function(e){var t=g.prototype,n=t[e];s(t,e,function(t,i){if(c(t)&&!h(t)){this._f||(this._f=new a);var s=this._f[e](t,i);return"set"==e?this:s}return n.call(this,t,i)})}))},function(e,t,n){var a=n(157);e.exports=function(e,t){return new(a(e))(t)}},function(e,t,n){var a=n(13),i=n(158),s=n(9)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),a(t)&&null===(t=t[s])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var a=n(54);e.exports=Array.isArray||function(e){return"Array"==a(e)}},function(e,t,n){"use strict";var a=n(48),i=n(160),s=n(81),r=n(56),o=n(69),l=Object.assign;e.exports=!l||n(17)(function(){var e={},t={},n=Symbol(),a="abcdefghijklmnopqrst";return e[n]=7,a.split("").forEach(function(e){t[e]=e}),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=a})?function(e,t){for(var n=r(e),l=arguments.length,c=1,u=i.f,d=s.f;l>c;)for(var p,h=o(arguments[c++]),f=u?a(h).concat(u(h)):a(h),_=f.length,m=0;_>m;)d.call(h,p=f[m++])&&(n[p]=h[p]);return n}:l},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){"use strict";var a=n(78),i=n(57).getWeak,s=n(19),r=n(13),o=n(79),l=n(80),c=n(106),u=n(26),d=n(58),p=c(5),h=c(6),f=0,_=function(e){return e._l||(e._l=new m)},m=function(){this.a=[]},E=function(e,t){return p(e.a,function(e){return e[0]===t})};m.prototype={get:function(e){var t=E(this,e);if(t)return t[1]},has:function(e){return!!E(this,e)},set:function(e,t){var n=E(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=h(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,s){var c=e(function(e,a){o(e,c,t,"_i"),e._t=t,e._i=f++,e._l=void 0,null!=a&&l(a,n,e[s],e)});return a(c.prototype,{delete:function(e){if(!r(e))return!1;var n=i(e);return!0===n?_(d(this,t)).delete(e):n&&u(n,this._i)&&delete n[this._i]},has:function(e){if(!r(e))return!1;var n=i(e);return!0===n?_(d(this,t)).has(e):n&&u(n,this._i)}}),c},def:function(e,t,n){var a=i(s(t),!0);return!0===a?_(e).set(t,n):a[e._i]=n,e},ufstore:_}},function(e,t,n){var a=n(97),i=n(76).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return a(e,i)}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){var n=[],a=!0,i=!1,s=void 0;try{for(var r,o=e[Symbol.iterator]();!(a=(r=o.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(e){i=!0,s=e}finally{try{a||null==o.return||o.return()}finally{if(i)throw s}}return n}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}}])}),define("lib/featureFlag",["jquery","lib/cookie"],function(e,t){"use strict";return{setFeatureFlag:function(n,a,i){if("ff_"==n.substr(0,3)&&(n=n.substr(3)),-1!==e.inArray(n,this.getPossibleFeatureFlags())){var s=new Date,r=s.getTime();(void 0===i||isNaN(parseInt(i))||i<=0)&&(i=2678400),s.setTime(r+1e3*i),t("ff_"+n,a,{path:"/",expires:s})}},getFeatureFlag:function(e){return"ff_"==e.substr(0,3)&&(e=e.substr(3)),t("ff_"+e)},clearAllFeatureFlag:function(){var t=this.getPossibleFeatureFlags();e.each(t,function(e,t){document.cookie="ff_"+t+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"})},getPossibleFeatureFlags:function(){return["1234567890","2394239002","2833207338","1463573426","1468575696","3028003804","8172635401","0987654321","4184758118","1739404142","1213141519","7410334565","1337001337","8731975719","8248000579","7834791452","4663515419","4956090825","0618009092","8373621987","2415698736","7505893547","4156789654","1098887668","8005882300","3295995981","3456789012","8728712981"]}}}),define("lib/analytics/utils",["jquery","lib/featureFlag","page_config","lodash"],function(e,t,n,a){"use strict";function i(e,t){var n;if(!e)return"not applicable";switch(e){case"/Applications/StockSubSmallAnnual":n="Small Yearly";break;case"/Applications/StockSubSmallM2M":n="Small Monthly";break;case"/Applications/StockSubMediumAnnual":n="Medium Yearly";break;case"/Applications/StockSubMediumM2M":n="Medium Monthly";break;case"/Applications/StockSubLargeAnnual":n="Large Yearly";break;case"/Applications/StockSubLargeM2M":n="Large Monthly";break;default:try{n=s(e)?"OD-"+t:e}catch(e){}}return n}function s(e){return e.match(/StockPT/)}function r(e){var t=null;return e&&(t={editorial:e.is_editorial?"1":"0"}),t}function o(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)})}function l(e){window.Optanon&&window.adobePrivacy&&window.adobePrivacy.hasUserProvidedConsent()?c(e):window.addEventListener("adobePrivacy:PrivacyConsent",function t(){c(function(){window.removeEventListener("adobePrivacy:PrivacyConsent",t),e()})})}function c(e){window.Optanon&&u()&&e()}function u(){var e,t=window.adobePrivacy&&window.adobePrivacy.activeCookieGroups();if(t&&-1!==t.indexOf(p)){e=!d().some(function(e){return-1===t.indexOf(e)})}else e=!1;return e}function d(){return window.Optanon.GetDomainData().Groups.reduce(function(e,t){return t.Hosts.forEach(function(t){e.push(t.HostId)}),e},[])}var p="C0004";return{getPlanType:i,getPageInfoForEditorialContent:r,generateUUID:o,onPrivacyConsent:l,hasUserConsented:u,getOneTrustHostIds:d}}),define("lib/analytics/dunamis",["jquery","page_config","app/client","app/constants/dunamis","stockWebIngest","lib/member","lib/analytics/utils","lib/localStorage"],function(e,t,n,a,i,s,r,o){"use strict";function l(){var e=n.getInstance();p.init({ENVIRONMENT:t.isProductionServer?"prod":"stage",ANALYTICS_API_KEY:t.SUSI.CLIENT_ID}),p.withRedux(e)}function c(e){var t=e[f.EVENT_TYPE_PROPERTY];return e[f.ASSET_TYPE]===f.AUDIO&&t===f.SEARCH_SUCCESS&&(e[a.EVENT_PARAMS.SEARCH_CONTEXT_SEQUENCE]=r.generateUUID()),e}function u(){var e,t=s.getGuid(),n="DunamisContextGuid";return e=o.retrieveData(t,n,"",!0),""==e&&(e=r.generateUUID(),o.storeData(t,n,e,!0)),e}function d(n,a,i,s,r){try{n&&(e.isPlainObject(i)||(i={}),i[h.EVENT_TYPE_PROPERTY]=n,i[h.EVENT_SUBTYPE_PROPERTY]=a||"",i=c(i),t.shouldFlushTrackImmediatelyStockWeb&&(r=!0),p.track(i,s,!!r))}catch(e){}}var p=i.ingest,h=i.ingestConstants,f=e.extend({},h,a),_={init:l,track:d,getDunamisContextGuid:function(){return u()},constants:f,updateContextSequenceForAudio:c};return function(){window.Visitor?l():window.addEventListener("visitorInitialized",function(){l()})}(),_}),define("lib/analytics",["app/constants/analytics","page_config"],function(e,t){"use strict";function n(){return s}function a(n){var a,i,s;return n||(n=window.location),i=n.pathname.toLowerCase().replace(t.base_url,""),s=n.search.toLowerCase(),"/"===i?a=e.FINDING_METHOD.HOMEPAGE:i.match(/\/images\/(.*)/)?a=e.FINDING_METHOD.IMAGES_DETAIL:i.match(/\/video\/(.*)/)?a=e.FINDING_METHOD.VIDEO_DETAIL:i.match(/\/templates\/(.*)/)?a=e.FINDING_METHOD.TEMPLATES_DETAIL:i.match(/\/3d-assets\/(.*)/)?a=e.FINDING_METHOD.THREE_D_DETAIL:0===i.indexOf("/search")?a=e.FINDING_METHOD.SEARCH:0===i.indexOf("/library")?a=e.FINDING_METHOD.LIBRARIES:0===i.indexOf("/member/licensehistory")?a=e.FINDING_METHOD.LICENSE_HISTORY:0===i.indexOf("/premium")?a=e.FINDING_METHOD.PREMIUM:0===i.indexOf("/stock-photo")?a=e.FINDING_METHOD.ASSET:0===i.indexOf("/contributor")?a=e.FINDING_METHOD.ARTIST:0===i.indexOf("/plans")?a=e.FINDING_METHOD.PLANS:0===i.indexOf("/teams")?a=e.FINDING_METHOD.TEAMS:0===i.indexOf("/collections")?a=e.FINDING_METHOD.COLLECTIONS:0===i.indexOf("/promo")?a=e.FINDING_METHOD.PROMO:0===i.indexOf("/category")?a=e.FINDING_METHOD.CATEGORY:0===i.indexOf("/images")?a=e.FINDING_METHOD.IMAGES:0===i.indexOf("/templates")?a=e.FINDING_METHOD.TEMPLATES:0===i.indexOf("/3d-assets")?a=e.FINDING_METHOD.THREE_D:0===i.indexOf("/video")?a=e.FINDING_METHOD.VIDEO:0===i.indexOf("/editorial")?a=e.FINDING_METHOD.EDITORIAL:(s.indexOf("x-product")>-1||s.indexOf("as-channel")>-1||s.indexOf("ssocc")>-1||s.indexOf("sso_inbound")>-1)&&(a=e.FINDING_METHOD.ADOBE_APPS),a}function i(e){s=e}var s;return{determineFindingMethod:a,setSelectionMethod:i,getSelectionMethod:n}}),define("lib/susi",["jquery","lodash","lib/cookie","lib/window","lib/member","lib/error","lib/localStorage","page_config","lib/analytics/dunamis","lib/analytics","app/constants/analytics","app/utils/url"],function(e,t,n,a,i,s,r,o,l,c,u,d){"use strict";var p={},h=e.Deferred(),f=e.Deferred(),_=l.constants;return"withCredentials"in new XMLHttpRequest||s.displayErrorModal(e(".js-unsupported-browser-title").val(),e(".js-unsupported-browser-body").val(),null),{_thirdPartyCookiesDisabled:!1,_waitTime:1e4,ready:h.promise(),onReady:f.promise(),configure:function(e){p=e,e.profile&&(i.setImsProfile(e.profile),this.setToken(e.profile.access_token,null,!0),h.resolve(e.profile))},hasToken:function(){return!!n(p.COOKIE_IMS_ACCESS_TOKEN)},getToken:function(){return n(p.COOKIE_IMS_ACCESS_TOKEN)},setToken:function(e,t,a){if(p.IGNORE_COOKIE_UPDATE)return!1;if(e===this.getToken())return!1;var i=new Date;return a||(t&&t.expiresAtMilliseconds>Date.now()?(i.setTime(t.expiresAtMilliseconds),n(p.COOKIE_IMS_ACCESS_TOKEN,e,{path:"/",expires:i})):this.setLoggedOutCookie()),!0},setLoggedOutCookie:function(){var e=new Date(Date.now()+1e3*p.COOKIE_IMS_LOGGED_OUT_TTL);n(p.COOKIE_IMS_LOGGED_OUT,!0,{path:"/",expires:e})},clearLoggedOutCookie:function(){n(p.COOKIE_IMS_LOGGED_OUT,null,{path:"/",expires:0})},clearLoggedInCookie:function(e){n(p.COOKIE_IMS_ACCESS_TOKEN,null,{path:"/",expires:0}),n(p.COOKIE_IMS_IMPERSONATOR_TOKEN,null,{path:"/",expires:0}),e&&n(p.COOKIE_STOCK_ONLY_LOGGED_IN,null,{path:"/",expires:0})},setLoggedOut:function(e){this.setLoggedOutCookie(),this.clearLoggedInCookie(e)},reloadPage:function(){a.reloadLocation()},cookielessRedirect:function(){if(this.hasCookies())return!1;var e=p.COOKIES_DISABLED+"=1",t=a.getLocation(),n=t.search?t.search+"&"+e:"?"+e;return a.setLocation("//"+t.hostname+t.pathname+n+t.hash),!0},removeTrackerFromUrl:function(){var e=new RegExp(p.QS_IMS_SIGNIN_ATTEMPT+"=1(&)?"),t=a.getPath().replace(e,"");t=t.replace(/^\/{2,}/,"/"),a.replaceState({},document.title,t)},initPage:function(){var e,t=this,a=!1,s=!1;if(window.adobeid={client_id:p.CLIENT_ID,locale:p.LOCALE,optimizations:{fastEvents:!1},uses_redirect_mode:!0,uses_modal_mode:!1,api_parameters:{authorize:{ctx_id:p.DEFAULT_IMS_CONTEXT_ID,state:{ac:p.OMNITURE_AC_STATE}}},scope:p.SCOPES.join(","),onProfile:function(e){!!o.do_not_logout||e||!t.hasToken()||p.IGNORE_COOKIE_UPDATE||n(p.COOKIE_STOCK_ONLY_LOGGED_IN)||(a=!0),"resolved"==h.state()&&p.profile.userId==e.userId||(s=!0,i.setImsProfile(e),setTimeout(function(){h.resolve(e)},0))},onAccessTokenHasExpired:function(){},onAccessToken:function(e,n){(a||s)&&t.setToken(e,n,!1)},onError:function(e){f.reject(e)},onReady:function(){if(a)return t.logout(!0),void f.reject();t.removeTrackerFromUrl(),t._bindLinks(),f.resolve()}},o.isIMSAuthCodeWorkflowEnabled){e=p.profile||null;try{window.adobeid.onProfile(e)}catch(e){window.adobeid.onError(e)}window.adobeid.onReady()}},login:function(e,t,n,a,s){this.clearLoggedOutCookie(),i.clearCachedStorageAccessData();var r=this._getRedirectURI(e,t,n,a,s);o.isIMSAuthCodeWorkflowEnabled?this.imsSignIn(r):s?window.adobeIMS.signInWithSocialProvider(s,r):window.adobeIMS.signIn(r)},signUp:function(e,t,n,a){var s=this._getRedirectURI(e,t,n,a);this.clearLoggedOutCookie(),i.clearCachedStorageAccessData(),o.isIMSAuthCodeWorkflowEnabled?this.imsSignUp(s):window.adobeIMS.signUp(s)},_getRedirectURI:function(t,n,i,s,r){function o(e){if(e=e||"",e.indexOf(p.QS_IMS_SIGNIN_ATTEMPT)>-1)return e;var t=p.QS_IMS_SIGNIN_ATTEMPT;return e+(0===e.indexOf("?")?"&":"?")+t+"=1"}var l="",c=a.getLocation(),u=c.protocol+"//"+c.host,d="",h="",f={redirect_uri:null};return e.isEmptyObject(n)||e.each(n,function(e,t){h+="&"+e+"="+t}),p.REDIRECT_URI?l=p.REDIRECT_URI+o()+h:t?(d=0===t.indexOf("/")?u+t:t,l=d+o()+h):l=u+c.pathname+o(c.search)+h+(i?"":c.hash),f.redirect_uri=l,e.isEmptyObject(s)||e.extend(f,s),r&&e.extend(f,{idp_flow:"social.deep_link.web",provider_id:r}),f},_bindLinks:function(){function t(e){a.dunamisTrackingForSusiEvents(e,_.SUSI.CREATE_ACCOUNT),a.hasCookies()?a.signUp():a._showCookiePopup(!1)}function n(t){a.dunamisTrackingForSusiEvents(t,_.SUSI.LOGIN),a.hasCookies()?(e(this).data("redirect-url")&&(i=e(this).data("redirect-url")),e(this).data("redirect-params")?s=e(this).data("redirect-params"):e(this).data("content-id")&&(s={return_id:e(this).data("content-id")}),a.login(i,s),t.preventDefault()):a._showCookiePopup(!1)}var a=this,i=!1,s={};e(document.body).on("click",".js-susi-signup",t),e(window).on("portal:userSignUp",t),e(window).on("portal:userSignIn",n),e(document.body).on("click",".js-susi-login",n),e(document.body).on("click",".js-susi-logout",function(e){a.hasCookies()?a.logout():a._showCookiePopup(!1),e.preventDefault()}),e(document.body).on("click",".js-logout-migrated-member",function(t){a.logout(null,e(this).data("redirect-url"))})},zombieLogin:function(e,t){i.setImsProfile(t),i.setStockProfile(e)},initShim:function(){var t=this,n=!1;return f.reject(),h.reject(),!t.cookielessRedirect()&&(window.adobeid={client_id:p.CLIENT_ID,locale:p.LOCALE,uses_redirect_mode:!0,uses_modal_mode:!1,optimizations:{fastEvents:!0},api_parameters:{authorize:{ctx_id:p.DEFAULT_IMS_CONTEXT_ID,state:{ac:p.OMNITURE_AC_STATE}}},scope:p.SCOPES.join(","),onProfile:function(e){if(e)return void t.setLoggedOutCookie();t.setLoggedOut(),p.AUTH_REQUIRED?(t.clearLoggedOutCookie(),o.isIMSAuthCodeWorkflowEnabled?this.imsSignIn():window.adobeIMS.signIn()):n=!0},onError:function(){t.reloadPage()},onAccessTokenHasExpired:function(){t.setLoggedOut()},onAccessToken:function(e,a){p.IGNORE_COOKIE_UPDATE||(t.clearLoggedOutCookie(),t.setToken(e,a,!1),n=!0)},onReady:function(){if(n){var i,s=a.getSearchObject();if(void 0===s[p.QS_IMS_SSO_INBOUND])return void t.reloadPage();if(delete s[p.QS_IMS_SSO_INBOUND],s[p.QS_IMS_SSO_COUNTRY_CHECK]=1,window.history&&window.history.replaceState)return i=window.location.pathname,e.isEmptyObject(s)||(i+="?"+e.param(s)),window.history.replaceState({},document.title,i),void t.reloadPage();a.getLocation().search=""}}},!0)},hasCookies:function(){if(!navigator.cookieEnabled)return!1;var e="modernizercookietest";try{document.cookie=e+"=1";var t=-1!==document.cookie.indexOf(e);return document.cookie=e+"=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",t}catch(e){return!1}},failedIMSLoad:function(){this.setLoggedOutCookie(),this.reloadPage()},_getSUSIParams:function(n){var a={locale:window.adobeid.locale,client_id:window.adobeid.client_id,scope:window.adobeid.scope};return"zh_HK"===t.get(a,"locale")&&(a.locale="en_US"),a=e.extend(a,n),a=e.extend(a,window.adobeid.api_parameters.authorize)},imsSignUp:function(e){var t=this._getSUSIParams(e);t.idp_flow="create_account";var n=o.SUSI.URLS.SIGN_IN+d.buildQueryString(t,o.SUSI.URLS.SIGN_IN);a.setLocation(n)},imsSignIn:function(e){var t=this._getSUSIParams(e),n=o.SUSI.URLS.SIGN_IN+d.buildQueryString(t,o.SUSI.URLS.SIGN_IN);a.setLocation(n)},imsSignOut:function(e,t){var n={redirect_uri:t,access_token:e,locale:window.adobeid.locale,client_id:window.adobeid.client_id},i=o.SUSI.URLS.SIGN_OUT+d.buildQueryString(n,o.SUSI.URLS.SIGN_OUT);a.setLocation(i)},logout:function(t,s){var r=this;e.ajax({url:o.base_url+"/Ajax/Logout",method:"POST"}).success(function(){var e=n(p.COOKIE_STOCK_ONLY_LOGGED_IN),l="interim"===e,c=r.getToken();r.setLoggedOut(l);var u=s||p.URLS.LOGOUT,d=a.getSearchObject(),h=void 0!==d[p.QS_IMS_SIGNIN_ATTEMPT];i.clearCachedStorageAccessData(),t?h?(r._thirdPartyCookiesDisabled=!0,r._showCookiePopup(!0)):a.getLocation("href")==u?a.reloadLocation():a.setLocation(u):window.adobeIMS&&!l?window.adobeIMS.signOut({redirect_uri:u}):o.isIMSAuthCodeWorkflowEnabled&&!l?r.imsSignOut(c,u):a.setLocation(u)})},loadPageIMS:function(){this._lazyload([p.URLS.IMS],function(){},{})},loadShimIMS:function(){var e=this;try{this._lazyload([p.URLS.IMS],function(){void 0===window.adobeIMS&&e.failedIMSLoad()},function(){window.setTimeout(function(){e.failedIMSLoad()},e._waitTime)})}catch(t){e.failedIMSLoad()}window.setTimeout(function(){e.failedIMSLoad()},this._waitTime)},hasThirdPartyCookiesDisabled:function(){return!0===this._thirdPartyCookiesDisabled},checkoutModalLogin:function(e,t,n,a,i,s){var l={};r.storeData(null,o.startCheckoutModalOnParam,!0),e&&(l.content_id=e),t&&(l.product_key=t),n&&(l[o.startCheckoutModalOnParam]=1),i&&(l.license_id=i),this.login(null,l,!0,a,s)},_lazyload:function(){require.apply(null,arguments)},_showCookiePopup:function(t){var n=this,a=".js-cookies-title",i=".js-cookies-body";t&&(a=".js-third-party-cookies-title",i=".js-third-party-cookies-body"),s.displayErrorModal(e(a).val(),e(i).val(),null,function(){n.reloadPage()})},dunamisTrackingForSusiEvents:function(t,n){try{var a,i=e(t.target).closest(".js-details"),s=e(t.target).closest(".js-hover-container"),r=null,o=null,c={};i.length?(r="details-",o=i):s.length&&(r="hover-",o=s),o&&(a=o.attr("data-ingest-content-id"),c[_.CONTENT_ID]=a,l.track(_.CLICK,r+n,c,e("body")))}catch(e){}}}}),define("text",{}),define("hbs",{load:function(e){throw new Error("Dynamic load not allowed: "+e)}}),define("hbs!templates/badgeTooltip",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return" tooltip-container--scroll tooltip-container--medium"},3:function(e,t,n,a){var i;return'                <table class="white-text left-align js-tooltip-table" data-t="'+this.escapeExpression(this.lambda(null!=e?e.dataT:e,e))+'">\n'+(null!=(i=t.each.call(e,null!=e?e.rows:e,{name:"each",hash:{},fn:this.program(4,a,0),inverse:this.noop,data:a}))?i:"")+"                </table>\n"},4:function(e,t,n,a){return'                        <tr>\n                            <td class="padding-right-xsmall" data-t="'+this.escapeExpression(this.lambda(null!=e?e.labelDataT:e,e))+'">'+this.escapeExpression(this.lambda(null!=e?e.label:e,e))+'</td>\n                            <td data-t="'+this.escapeExpression(this.lambda(null!=e?e.valueDataT:e,e))+'">'+this.escapeExpression(this.lambda(null!=e?e.value:e,e))+"</td>\n                        </tr>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div class="tooltip-wrapper tooltip-wrapper--v2 js-tooltip-wrapper" data-is-hidden="true">\n    <div class="badge-tooltip">\n        <div class="js-badge-tooltip-title left-align"></div>\n        <div class="tooltip-container '+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"1",logic:"more",value:null!=(i=null!=e?e.tooltip_data:e)?i.length:i},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'" data-t="'+this.escapeExpression((s=null!=(s=t.dataT||(null!=e?e.dataT:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"dataT",hash:{},data:a}):s))+'">\n'+(null!=(i=t.each.call(e,null!=e?e.tooltip_data:e,{name:"each",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+"        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/thumbnailBadges",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="js-thumbnail-badge-container">\n'+(null!=(i=this.invokePartial(n.thumbnailBadge,e,{name:"thumbnailBadge",data:a,indent:"    ",helpers:t,partials:n}))?i:"")+"</div>\n"},usePartial:!0,useData:!0})}),define("hbs!templates/thumbnailBadge",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'    <div class="thumbnail-badge-wrapper-v2 grey '+(null!=(i=(t["if-or"]||e&&e["if-or"]||t.helperMissing).call(e,null!=e?e.is3D:e,null!=e?e.isTemplate:e,{name:"if-or",hash:{},fn:this.program(2,a,0),inverse:this.program(4,a,0),data:a}))?i:"")+'">\n'+(null!=(i=t.if.call(e,null!=e?e.displayLicensedBadge:e,{name:"if",hash:{},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=e?e.displayTransferredBadge:e,{name:"if",hash:{},fn:this.program(8,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=e?e.displayRequestedBadge:e,{name:"if",hash:{},fn:this.program(11,a,0),inverse:this.noop,data:a}))?i:"")+"    </div>\n"},2:function(e,t,n,a){return"margin-bottom-xxlarge"},4:function(e,t,n,a){return"margin-bottom-medium"},6:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n.thumbnailLicensedBadge,e,{name:"thumbnailLicensedBadge",data:a,indent:"        ",helpers:t,partials:n}))?i:""},8:function(e,t,n,a){var i;return'        <div class="image-transferred-badge badge-with-tooltip badge-with-tooltip--v2 js-image-transferred-badge js-badge-with-tooltip'+(null!=(i=(t["if-or"]||e&&e["if-or"]||t.helperMissing).call(e,null!=e?e.isPremium:e,null!=e?e.isEditorial:e,null!=e?e.isIllustrative:e,{name:"if-or",hash:{},fn:this.program(9,a,0),inverse:this.noop,data:a}))?i:"")+'"\n             data-t="transfer-badge-checkmark-section"\n        >\n        <span data-t="transfer-badge-checkmark-text">\n            <div class="badge--icon">\n                <i class="icon-checkmark thumbnail-badge-icon" data-t="transfer-badge-checkmark-icon"></i>\n            </div>\n            <div class="badge--text js-badge-text">\n                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"LIBRARIES::STATE::Transferred",{name:"_",hash:{},data:a}))+'\n            </div>\n        </span>\n            <div class="js-tooltip-holder">\n'+(null!=(i=this.invokePartial(n.badgeTooltip,e,{name:"badgeTooltip",hash:{tooltip_data:null!=e?e.license_transfer_tooltip_data:e,dataT:"license-transfer-tooltip-container"},data:a,indent:"                ",helpers:t,partials:n}))?i:"")+'            </div>\n            <div class="tooltip-triangle js-tooltip-triangle"></div>\n        </div>\n'},9:function(e,t,n,a){return" badge-truncate badge-truncate--transferred"},11:function(e,t,n,a){var i;return'        <div class="image-license-requested-badge badge-with-tooltip badge-with-tooltip--v2 js-image-license-requested-badge js-badge-with-tooltip blue bleu-de-france"\n             data-t="license-request-badge-checkmark-section"\n        >\n        <span data-t="license-request-badge-checkmark-text">\n            <div class="badge--icon">\n                <i class="mti-icon icon-pending thumbnail-badge-icon" data-t="requested-badge-checkmark-icon"></i>\n            </div>\n            <div class="badge--text">\n                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"LIBRARIES::STATE::Pending",{name:"_",hash:{},data:a}))+'\n            </div>\n        </span>\n            <div class="js-tooltip-holder">\n'+(null!=(i=this.invokePartial(n.badgeTooltip,e,{name:"badgeTooltip",hash:{tooltip_data:null!=e?e.license_request_data:e,dataT:"license-request-tooltip"},data:a,indent:"                ",helpers:t,partials:n}))?i:"")+'            </div>\n            <div class="tooltip-triangle js-tooltip-triangle"></div>\n        </div>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=(t["if-or"]||e&&e["if-or"]||t.helperMissing).call(e,null!=e?e.displayLicensedBadge:e,null!=e?e.displayTransferredBadge:e,null!=e?e.displayRequestedBadge:e,{name:"if-or",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:""},usePartial:!0,useData:!0})}),define("hbs!templates/modalWindow/message",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'data-ingest-workflow="'+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.message:e)?i.dunamis:i)?i.workflow:i,e))+'"'},3:function(e,t,n,a){return"modal--in-front"},5:function(e,t,n,a){var i;return'data-ingest-subcategory="'+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.message:e)?i.dunamis:i)?i.subcategory:i,e))+'"'},7:function(e,t,n,a){return'                <div class="motmot">\n                    <div class="padding-small container-relative">\n                        <button type="button" class="js-modal-window-dismiss-button container-absolute to-the-top to-the-right">\n                            <i class="mti-icon mti-large mti-default-button icon-close grey mountain-mist-text"></i>\n                        </button>\n                    </div>\n                </div>\n'},9:function(e,t,n,a){var i;return' <a href="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.body_link:i,e))+'" target="_blank">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.body_link_label:i,e))+"</a>"},11:function(e,t,n,a){var i;return' href="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.button_link:i,e))+'"'},13:function(e,t,n,a){var i;return this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.button_class:i,e))},15:function(e,t,n,a){return"js-modal-window-dismiss-button"},17:function(e,t,n,a){var i;return'data-redirect-url="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.button_data_redirect_url:i,e))+'"'},19:function(e,t,n,a){var i;return'data-ingest-clicktype="'+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.message:e)?i.dunamis:i)?i.ok_click:i,e))+'"'},21:function(e,t,n,a){var i;return'                <a data-t="message-modal-close-button" class="js-modal-window-dismiss-button modal-window-dismiss-button rounded-button grey">\n                    <span data-t="message-modal-close-label">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.button_close_label:i,e))+"</span>\n                </a>\n"},23:function(e,t,n,a){var i;return'                <p class="modal-window-footer">\n                    <a href="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.footer_link:i,e))+'" '+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.target_blank:i,{name:"if",hash:{},fn:this.program(24,a,0),inverse:this.noop,data:a}))?i:"")+' class="alternative">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.footer_link_label:i,e))+"</a>\n                </p>\n"},24:function(e,t,n,a){return'target="_blank"'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="modal-message" '+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.message:e)?i.dunamis:i)?i.workflow:i,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'>\n    <div class="modal-window-canvas '+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.warning:i,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+'" '+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.message:e)?i.dunamis:i)?i.subcategory:i,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+'>\n        <div class="modal-window-container">\n'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.icon_close:i,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.noop,data:a}))?i:"")+'            <p class="modal-window-badge"><img src="'+this.escapeExpression((t.staticCdn||e&&e.staticCdn||t.helperMissing).call(e,"/v1/pics/all/default/stock_logo_2020_dark.svg",{name:"staticCdn",hash:{},data:a}))+'" width="125" /></p>\n            <p class="modal-window-header" data-t="message-modal-title" id="modal-title">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.subject:i,e))+'</p>\n            <div class="modal-window-body" data-t="message-modal-body" id="bh-modal-body">\n                '+(null!=(i=this.lambda(null!=(i=null!=e?e.message:e)?i.body:i,e))?i:"")+"\n                "+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.body_link_label:i,{name:"if",hash:{},fn:this.program(9,a,0),inverse:this.noop,data:a}))?i:"")+'\n            </div>\n            <p class="modal-window-footer">\n                <a id="modal-ok-button" data-t="message-modal-ok-button"'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.button_link:i,{name:"if",hash:{},fn:this.program(11,a,0),inverse:this.noop,data:a}))?i:"")+' class="modal-window-dismiss-button rounded-button blue '+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.button_class:i,{name:"if",hash:{},fn:this.program(13,a,0),inverse:this.program(15,a,0),data:a}))?i:"")+'" '+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.button_data_redirect_url:i,{name:"if",hash:{},fn:this.program(17,a,0),inverse:this.noop,data:a}))?i:"")+" "+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.message:e)?i.dunamis:i)?i.ok_click:i,{name:"if",hash:{},fn:this.program(19,a,0),inverse:this.noop,data:a}))?i:"")+'>\n                    <span data-t="message-modal-ok-label">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.button_label:i,e))+"</span>\n                </a>\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.button_close:i,{name:"if",hash:{},fn:this.program(21,a,0),inverse:this.noop,data:a}))?i:"")+"            </p>\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.footer_link:i,{name:"if",hash:{},fn:this.program(23,a,0),inverse:this.noop,data:a}))?i:"")+"        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/modalWindow/confirmation",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'data-ingest-workflow="'+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.message:e)?i.dunamis:i)?i.workflow:i,e))+'"'},3:function(e,t,n,a){var i;return'data-ingest-subcategory="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.subcategory_dunamis:i,e))+'"'},5:function(e,t,n,a){var i;return'                <div class="modal-window-thumb">\n                    <img src="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.thumb_url:i,e))+'"/>\n                </div>\n'},7:function(e,t,n,a){var i;return'                <div class="modal-window-body" data-t="confirmation-modal-body-text">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.question:i,e))+"</div>\n"},9:function(e,t,n,a){var i;return null!=(i=t.unless.call(e,null!=(i=null!=(i=null!=e?e.message:e)?i.extended_license:i)?i.hide_license_type:i,{name:"unless",hash:{},fn:this.program(10,a,0),inverse:this.noop,data:a}))?i:""},10:function(e,t,n,a){var i;return'                    <div class="text-align-center">\n                        <div class="select-box select-box--silent">\n                            <select id="select-licenses">\n'+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.message:e)?i.extended_license:i)?i.is_video:i,{name:"if",hash:{},fn:this.program(11,a,0),inverse:this.program(13,a,0),data:a}))?i:"")+'                            </select>\n                        </div>\n                        <span class="question-mark"><a class="question-mark-hover" target="_blank" href="'+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.message:e)?i.extended_license:i)?i.license_terms_url:i,e))+'"><i class="icon-help-circled"></i></a></span>\n                        <div>\n'},11:function(e,t,n,a){return'                                    <option value="Standard" disabled="disabled">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"FILE::ACTION::Standard License",{name:"_",hash:{},data:a}))+'</option>\n                                    <option value="Extended" selected="selected">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"FILE::ACTION::Enhanced License",{name:"_",hash:{},data:a}))+"</option>\n"},
13:function(e,t,n,a){var i;return'                                    <option value="Standard">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"FILE::ACTION::Standard License",{name:"_",hash:{},data:a}))+"</option>\n"+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.message:e)?i.extended_license:i)?i.price:i,{name:"if",hash:{},fn:this.program(14,a,0),inverse:this.program(16,a,0),data:a}))?i:"")},14:function(e,t,n,a){var i;return'                                        <option value="Extended">'+this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"FILE::ACTION::Extended License (%s)",{name:"_",hash:{},data:a}),null!=(i=null!=(i=null!=e?e.message:e)?i.extended_license:i)?i.price:i,{name:"sprintf",hash:{},data:a}))+"</option>\n"},16:function(e,t,n,a){return'                                        <option value="Extended" disabled="disabled">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"FILE::ACTION::Extended License",{name:"_",hash:{},data:a}))+"</option>\n"},18:function(e,t,n,a){var i;return'                    <a id="modal-cancel-button" href="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.cancel_button_link:i,e))+'" class="button button--secondary modal-window-cancel-button" '+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.message:e)?i.dunamis:i)?i.cancel_button:i,{name:"if",hash:{},fn:this.program(19,a,0),inverse:this.noop,data:a}))?i:"")+">\n                        "+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.cancel_button_label:i,e))+'\n                    </a>\n                    <a id="modal-confirm-button" data-redirect-url="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.confirm_button_link:i,e))+'" href="#" class="button button--action modal-window-confirm-button js-logout-migrated-member" '+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.message:e)?i.dunamis:i)?i.confirm_button:i,{name:"if",hash:{},fn:this.program(21,a,0),inverse:this.noop,data:a}))?i:"")+">\n                        "+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.confirm_button_label:i,e))+"\n                    </a>\n"},19:function(e,t,n,a){var i;return'data-ingest-clicktype="'+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.message:e)?i.dunamis:i)?i.cancel_button:i,e))+'"'},21:function(e,t,n,a){var i;return'data-ingest-clicktype="'+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.message:e)?i.dunamis:i)?i.confirm_button:i,e))+'"'},23:function(e,t,n,a){var i;return'                    <button id="modal-cancel-button" class="button button--secondary modal-window-cancel-button js-modal-window-cancel-button" data-t="confirmation-modal-cancel-button" '+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.message:e)?i.dunamis:i)?i.cancel_button:i,{name:"if",hash:{},fn:this.program(19,a,0),inverse:this.noop,data:a}))?i:"")+'>\n                        <span data-t="confirmation-modal-cancel-button-label">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.cancel_button_label:i,e))+'</span>\n                    </button>\n                    <button id="modal-confirm-button" class="button button--action modal-window-confirm-button js-modal-window-confirm-button" data-t="confirmation-modal-confirm-button" '+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.message:e)?i.dunamis:i)?i.confirm_button:i,{name:"if",hash:{},fn:this.program(21,a,0),inverse:this.noop,data:a}))?i:"")+'>\n                        <span data-t="confirmation-modal-confirm-button-label">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.confirm_button_label:i,e))+"</span>\n                    </button>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="modal-confirmation motmot" data-t="confirmation-modal">\n    <div class="modal-window-canvas" '+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.message:e)?i.dunamis:i)?i.workflow:i,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'>\n        <div class="modal-window-container" '+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.subcategory_dunamis:i,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+'>\n            <p class="modal-window-badge"><img src="'+this.escapeExpression((t.staticCdn||e&&e.staticCdn||t.helperMissing).call(e,"/v1/pics/all/default/stock_logo_2020_dark.svg",{name:"staticCdn",hash:{},data:a}))+'" width="125" /></p>\n            <p class="modal-window-header" id="modal-title" data-t="confirmation-modal-subject-text">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.subject:i,e))+"</p>\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.thumb_url:i,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.question:i,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.extended_license:i,{name:"if",hash:{},fn:this.program(9,a,0),inverse:this.noop,data:a}))?i:"")+'            <p class="modal-window-footer">\n'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.use_links:i,{name:"if",hash:{},fn:this.program(18,a,0),inverse:this.program(23,a,0),data:a}))?i:"")+"            </p>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/modalWindow/partials/t2eMigrationContent",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="padding-bottom-xlarge">\n    <p class="left-align grey gravel-text">'+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.properties:e)?i.data:i)?i.heading:i,e))+'</p>\n    <div class="padding-xlarge padding-top-medium margin-bottom-xlarge left-align white grey gravel-text border-radius-4">\n        <p class="text-sregular margin-top-xsmall"><b>'+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.properties:e)?i.data:i)?i.benefits:i,e))+'</b></p>\n        <p class="text-sregular">'+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.properties:e)?i.data:i)?i.body:i,e))+'</p>\n        <ul class="list-style-disc text-sregular margin-left-xlarge">\n            <li class="margin-bottom-medium">'+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.properties:e)?i.data:i)?i.bullet1:i,e))+'</li>\n            <li class="margin-bottom-medium">'+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.properties:e)?i.data:i)?i.bullet2:i,e))+"</li>\n            <li>"+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.properties:e)?i.data:i)?i.bullet3:i,e))+"</li>\n        </ul>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/modalWindow/partials/t2eMigrationFooter",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<button class="js-modal-window-dismiss-button white-text margin-right-medium">\n    '+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.properties:e)?i.data:i)?i.later:i,e))+'\n</button>\n<button id="modal-window-start-migration" class="button button--dialog hide-modal" type="submit">\n    '+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.properties:e)?i.data:i)?i.start:i,e))+"\n</button>\n"},useData:!0})}),define("hbs!templates/modalWindow/partials/t2eMigrationLinkReminderContent",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="padding-bottom-xlarge" data-t="t2e-modal-link-reminder-content">\n    <p class="left-align grey gravel-text text-medium">\n        '+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"MIGRATION::You can still transfer your content later. You can do so by navigate to %s to make the transfer.",{name:"_",hash:{},data:a}),(t.linkBuilder||e&&e.linkBuilder||t.helperMissing).call(e,null!=(i=null!=(i=null!=e?e.properties:e)?i.data:i)?i.t2e_migration_url:i,{name:"linkBuilder",hash:{target:"_blank",class:"blue bleu-de-france-text",text:"stock.adobe.com/migration"},data:a}),{name:"sprintf",hash:{},data:a}))?i:"")+'\n    </p>\n    <p class="left-align grey gravel-text text-medium">\n        '+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"MIGRATION::You can also contact %s for additional support.",{name:"_",hash:{},data:a}),(t.linkBuilder||e&&e.linkBuilder||t.helperMissing).call(e,"https://www.adobe.com/go/get-started",{name:"linkBuilder",hash:{target:"_blank",class:"blue bleu-de-france-text",text:(t._||e&&e._||t.helperMissing).call(e,"MIGRATION::Adobe Customer Care",{name:"_",hash:{},data:a}),"gotourl-localize":!0},data:a}),{name:"sprintf",hash:{},data:a}))?i:"")+"\n    </p>\n</div>\n\n"},useData:!0})}),define("hbs!templates/modalWindow/partials/t2eMigrationLinkReminderFooter",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<button class="button button--dialog hide-modal js-motmot-modal-close"\n        type="submit">\n    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MIGRATION::Continue",{name:"_",hash:{},data:a}))+"\n</button>\n"},useData:!0})}),define("hbs!templates/modalWindow/saveToDevice",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'                    <img src="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.data:e)?i.asset_link:i,e))+'" class="modal-window-asset" />\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="modal-save-to-device">\n    <div class="modal-window-canvas">\n        <div class="modal-window-container">\n            <p class="modal-window-help-text">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.data:e)?i.help_text:i,e))+'</p>\n            <button type="button" id="details-close-button" class="detail-nav-button modal-window-dismiss-icon js-modal-window-dismiss-button">\n                <i class="icon-close"></i>\n            </button>\n            <div class="modal-window-asset-container">\n'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.data:e)?i.display_image:i,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+"            </div>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/modalWindow/cceFreeLicenseAgreementModal",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="motmot">\n    <div class="mti-modal modal--with-header modal--secondary modal--medium animated fade-in" data-state="shown">\n        <div class="modal__body overflow-visible center-align">\n            <i class="modal__close mti-icon icon-close js-modal-window-dismiss-button"></i>\n            <div class="modal__header">\n                <span class="text-sregular" data-t="modal-title">\n                    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::CCE::FREE::License for your organization",{name:"_",hash:{},data:a}))+'\n                </span>\n            </div>\n            <div class="modal__content">\n                <div class="text-regular margin-top-small">\n                    <span class="grey dove-text" data-t="modal-intro">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::CCE::FREE::You're licensing for your organization",{name:"_",hash:{},data:a}))+'</span>\n                    <a class="container-relative" data-tooltip="top info" aria-label="'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::CCE::FREE::To license this asset for your own personal use, please switch to your personal account.",{name:"_",hash:{},data:a}))+'">\n                        <i class="mti-icon icon-info blue bleu-de-france-text"/>\n                    </a>\n                </div>\n                <div class="row">\n                    <div class="column on-small-6 on-small-offset-3">\n                        <div class="switch switch--card margin-top-medium">\n                            <div class="padding-top-xsmall">\n                                <img src="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.assetData:e)?i.content_thumb_large_url:i,e))+'" alt="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.assetData:e)?i.title:i,e))+'" class="responsive-img" data-t="modal-preview-img" />\n                            </div>\n                        </div>\n                        <div class="container-table container-full margin-top-small">\n                            <div class="font-bold text-uppercase container-table-row">\n                                <div class="container-table-cell right margin-bottom-small" ><span data-t="modal-content-price" >'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::CCE::FREE::Price: Free",{name:"_",hash:{},data:a}))+'</span></div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="row">\n                    <p class="text-small margin-xsmall margin-top-small border-top-1 silver-sand-border border-top-solid padding-top-small grey dove-text">\n                        <span data-t="modal-disclaimer">'+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,'MODAL::LICENSE::CCE::FREE::By clicking "License", you agree to the %son behalf of your organization and confirm that you (i) have the full legal authority to bind your employer or organization to these terms and (ii) are responsible for all use of current and future licensed assets.',{name:"_",hash:{},data:a}),(t.linkBuilder||e&&e.linkBuilder||t.helperMissing).call(e,null!=e?e.licenseTermsUrl:e,{name:"linkBuilder",hash:{text:(t._||e&&e._||t.helperMissing).call(e,"LICENSE::TERMS::Adobe Stock Terms",{name:"_",hash:{},data:a}),target:"_blank",class:"blue bleu-de-france-text","data-t":"license-terms-url","gotourl-localize":!0},data:a}),{name:"sprintf",hash:{},data:a}))?i:"")+'</span>\n                    </p>\n                </div>\n            </div>\n            <div class="modal__footer center-align container-absolute container-full">\n                <button class="js-modal-window-license-button button button--dialog button--action" data-t="modal-btn-cta">\n                    <span data-t="modal-btn-cta-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::License",{name:"_",hash:{},data:a}))+"</span>\n                </button>\n            </div>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/modalWindow/cceMultipleChoices",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i,s;return'                                <div class="row align-center">\n                                    <div class="column on-small-12 center-align hide" id="js-container-multiple-choices-editorial-restrictions" data-t="modal-multiple-choices-editorial-restrictions">\n                                        <div class="padding-top-medium">\n                                            <div class="blue bleu-de-france-text">\n                                                <i class="mti-icon icon-infofull mti-2x"></i>\n                                            </div>\n                                        </div>\n\n                                        <div class="padding-top-xsmall padding-bottom-xsmall">\n                                            <span class="text-regular">\n'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.data:e)?i.is_video:i,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.program(4,a,0),data:a}))?i:"")+'                                            </span>\n                                        </div>\n                                        <div class="text-small grey silver-sand-text">\n                                            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::To learn more about editorial terms and conditions,",{name:"_",hash:{},data:a}))+'\n                                            <a data-t="license-link" class="bold blue bleu-de-france-text" href="'+this.escapeExpression((s=null!=(s=t.licenseTermsEditorialLink||(null!=e?e.licenseTermsEditorialLink:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"licenseTermsEditorialLink",hash:{},data:a}):s))+'"  target="_blank">\n                                                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::click here",{name:"_",hash:{},data:a}))+'\n                                            </a>\n                                        </div>\n                                        <div data-t="restrictions-popup-link" id="restrictions-popup-link" data-is-hidden="true">\n                                            <a class="default-link text-small blue bleu-de-france-text">\n                                                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Additional restrictions may apply",{name:"_",hash:{},data:a}))+"\n                                            </a>\n                                        </div>\n                                    </div>\n                                </div>\n"},2:function(e,t,n,a){return"                                                    "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::This video has editorial restrictions",{name:"_",hash:{},data:a}))+"\n"},4:function(e,t,n,a){return"                                                    "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::This image has editorial restrictions",{name:"_",hash:{},data:a}))+"\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="motmot">\n    <div class="js-modal-multiple-choices modal-multiple-choices" data-t="modal-multiple-choices">\n        <div class="mti-modal modal--with-header modal--secondary modal--large animated fade-in" data-state="shown">\n            <div class="modal__body overflow-visible">\n                <i class="modal__close mti-icon icon-close js-modal-window-dismiss-button"></i>\n                <form  method="post" class="js-cce-modal-multiple-choices-form">\n                    <div class="modal__header center-align">\n                        <div id="modal-title" data-t="modal-multiple-choices-title">\n                            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::HEADER::Choose the license",{name:"_",hash:{},data:a}))+'\n                        </div>\n                    </div>\n                    <div class="modal__content">\n                        <div class="padding-large" data-t="modal-multiple-choices-content">\n                            <div class="row">\n                                <div class="column on-small-12" id="js-container-multiple-choices" data-t="modal-multiple-choices-plans"></div>\n                            </div>\n'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.data:e)?i.is_editorial:i,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'                        </div>\n                    </div>\n                    <div class="modal__footer center-align container-absolute container-full">\n                        <button class="button button--dialog js-cce-modal-multiple-choices-button js-modal-window-multiple-choice-button" type="button" data-t="modal-multiple-choices-button">\n                            <span>\n                                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Continue",{name:"_",hash:{},data:a}))+"\n                            <span>\n                        </button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/modalWindow/multipleChoices",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'                    <div class="modal-window-title">'+(null!=(i=this.lambda(null!=(i=null!=e?e.message:e)?i.subject:i,e))?i:"")+"</div>\n"},3:function(e,t,n,a){var i;return'                    <div class="modal-window-subtext">'+(null!=(i=this.lambda(null!=(i=null!=e?e.message:e)?i.subtext:i,e))?i:"")+"</div>\n"},5:function(e,t,n,a){var i;return'                <div class="modal-window-thumb">\n                    <img src="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.thumb_url:i,e))+'"/>\n                </div>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="modal-multiple-choices">\n    <div class="modal-window-canvas">\n        <div class="modal-window-container">\n            <button type="button" id="details-close-button" class="detail-nav-button modal-window-dismiss-icon js-modal-window-dismiss-button">\n                <i class="icon-close"></i>\n            </button>\n            <p class="modal-window-badge">\n                <img src="'+this.escapeExpression((t.staticCdn||e&&e.staticCdn||t.helperMissing).call(e,"/v1/pics/all/default/stock_logo_2020_dark.svg",{name:"staticCdn",hash:{},data:a}))+'" width="125" />\n            </p>\n            <div class="modal-window-header" id="modal-title">\n'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.subject:i,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.subtext:i,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+"            </div>\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.thumb_url:i,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+'\n            <div class="modal-window-body">\n                <div id="js-container-multiple-choices" class="container-multiple-purchase" data-t="container-multiple-choices">\n                    <img src="'+this.escapeExpression((t.staticCdn||e&&e.staticCdn||t.helperMissing).call(e,"/v1/pics/all/default/loading_circle.svg",{name:"staticCdn",hash:{},data:a}))+'" class="spinner" width="40">\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'},useData:!0})}),define("hbs!templates/modalWindow/extended",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="modal-confirmation-extended">\n    <div class="modal-window-canvas">\n        <div class="modal-window-container">\n            <p class="modal-window-badge">\n                <img src="'+this.escapeExpression((t.staticCdn||e&&e.staticCdn||t.helperMissing).call(e,"/v1/pics/all/default/stock_logo_2020_dark.svg",{name:"staticCdn",hash:{},data:a}))+'" width="125" />\n            </p>\n            <p class="modal-window-header" id="modal-title">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"PURCHASE::IMAGE::MODAL::SUBJECT::Confirm Purchase",{name:"_",hash:{},data:a}))+'</p>\n            <p class="modal-window-body">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.question:i,e))+'</p>\n            <p class="modal-window-footer">\n                <button id="modal-cancel-button" class="modal-window-cancel-button rounded-button gray js-modal-window-cancel-button">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::Cancel",{name:"_",hash:{},data:a}))+'</button>\n                <button id="modal-confirm-button" class="modal-window-confirm-button rounded-button blue js-modal-window-confirm-extended-button">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::Buy license",{name:"_",hash:{},data:a}))+"</button>\n            </p>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/modalWindow/openInMessage",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<div class="modal-save-to-device">\n    <div class="modal-window-canvas">\n        <div class="modal-window-container">\n            <div class="motmot">\n                <div class="padding-large container-relative">\n                    <button type="button" class="js-modal-window-dismiss-button container-absolute to-the-top to-the-right">\n                        <i class="mti-icon mti-large mti-default-button icon-close grey mountain-mist-text"></i>\n                    </button>\n                    <div class="center-align">\n                        <h2 class="grey mountain-mist-text">\n                            <span class="text-medium light">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"OPENIN::HEADER::Could not open your file.",{name:"_",hash:{},data:a}))+'</span>\n                        </h2>\n                        <p class="grey gravel-text text-sregular light">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,'OPENIN::BODY::To use the "Open in..." feature, you must be logged in to Adobe Creative Cloud and have the latest version of the app installed.',{name:"_",hash:{},data:a}))+'</p>\n                        <div class="border-1 border-solid nurse-border"></div>\n                        <div class="padding-top-medium padding-bottom-medium">\n                            <div class="center-align">\n                                <i class="mti-icon icon-creative-cloud mti-2x red lust-text"></i>\n                                <a href="https://www.adobe.com/creativecloud/catalog/desktop.html?promoid=NQCJRCJ2&mv=other" target="_blank" class="text-sregular blue bleu-de-france-text light">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"OPENIN::CC_LINK:: Get a free trial today",{name:"_",hash:{},data:a}))+'</a>\n                            </div>\n                        </div>\n                        <div class="border-1 border-solid nurse-border"></div>\n                    </div>\n                    <div class="center-align">\n                        <p class="grey gravel-text text-sregular light">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"OPENIN::FOOTER::If you are already logged into Creative Cloud, try the Open in... command again, or contact",{name:"_",hash:{},data:a}))+' <a href="https://helpx.adobe.com'+this.escapeExpression((t.mapToAdobeBaseUrl||e&&e.mapToAdobeBaseUrl||t.helperMissing).call(e,null!=e?e.base_url:e,{name:"mapToAdobeBaseUrl",hash:{},data:a}))+'/stock.html" target="_blank" class="text-sregular blue bleu-de-france-text light"> '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"OPENIN::FOOTER::Adobe Customer Support",{name:"_",hash:{},data:a}))+"</a>. "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"OPENIN::FOOTER::Alternately, you can save the file to your desktop or a Creative Cloud library.",{name:"_",hash:{},data:a}))+"</p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/templatePreview",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'                        <div class="container-table-cell no-stretch">\n                            <div class="padding-right-small margin-top-xsmall">\n                                <img class="circle" src="'+this.escapeExpression((i=null!=(i=t.avatar||(null!=e?e.avatar:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"avatar",hash:{},data:a}):i))+'" width="44" height="44">\n                            </div>\n                        </div>\n'},3:function(e,t,n,a){var i;return'                                <nav>\n                                    <ul class="nav nav--inline nav-gravel-text nav-crayola-hover">\n                                        <li class="nav__item"><span class="grey gravel-text text-sregular">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"AUTHOR::By",{name:"_",hash:{},data:a}))+'&nbsp;</span></li>\n                                        <li class="nav__item"><a class="nav__link" href="'+this.escapeExpression((i=null!=(i=t.artist_page_url||(null!=e?e.artist_page_url:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"artist_page_url",hash:{},data:a}):i))+'"><span class="text-sregular">'+this.escapeExpression((i=null!=(i=t.author||(null!=e?e.author:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"author",hash:{},data:a}):i))+"</span></a></li>\n                                    </ul>\n                                </nav>\n"},5:function(e,t,n,a){var i;return'                                <span class="grey gravel-text text-sregular">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"AUTHOR::By",{name:"_",hash:{},data:a}))+"&nbsp;\n                                "+this.escapeExpression((i=null!=(i=t.author||(null!=e?e.author:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"author",hash:{},data:a}):i))+"\n                                </span>\n"},7:function(e,t,n,a){var i;return'                    <video preload="none" autoplay="autoplay" loop="loop" poster="'+this.escapeExpression((i=null!=(i=t.thumbnail_url||(null!=e?e.thumbnail_url:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"thumbnail_url",hash:{},data:a}):i))+'" muted="muted">\n                        <source src="'+this.escapeExpression((i=null!=(i=t.video_preview_url||(null!=e?e.video_preview_url:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"video_preview_url",hash:{},data:a}):i))+'" type="video/mp4" />\n                    </video>\n'},9:function(e,t,n,a){var i;return'                    <img src="'+this.escapeExpression((i=null!=(i=t.original_url||(null!=e?e.original_url:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"original_url",hash:{},data:a}):i))+'" class="responsive-img" />\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div class="motmot">\n    <div id="previewModal" class="mti-modal modal--large modal--secondary modal--centered modal--with-header animated fade-in">\n        <div class="modal__body">\n            <i class="modal__close mti-icon icon-close js-hide-modal"></i>\n            <div class="modal__header">\n                <div class="container-table container-full">\n'+(null!=(i=t.if.call(e,null!=e?e.avatar:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'                    <div class="container-table-cell">\n                        <h2 class="no-margin">\n                            <span class="text-regular grey gravel-text">'+this.escapeExpression((s=null!=(s=t.title||(null!=e?e.title:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"title",hash:{},data:a}):s))+'</span>\n                        </h2>\n                        <h4 class="no-margin">\n'+(null!=(i=t.if.call(e,null!=e?e.artist_page_url:e,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.program(5,a,0),data:a}))?i:"")+'                        </h4>\n                    </div>\n                </div>\n            </div>\n            <div class="modal__content">\n'+(null!=(i=t.if.call(e,null!=e?e.video_preview_url:e,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.program(9,a,0),data:a}))?i:"")+"            </div>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/modalWindow/welcomeBack",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i
;return'<div class="motmot">\n    <div id="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.data:e)?i.modalId:i,e))+'" class="mti-modal modal--with-header animated fade-in" data-is-hidden="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.data:e)?i.hiddenState:i,e))+'" data-is-medium-modal="false">\n        <div class="modal__body">\n            <i class="js-modal-window-dismiss-button modal__close mti-icon icon-close hide-modal"></i>\n            <div id="js-modal-container">\n                <div class="modal__header">\n                    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Welcome Back",{name:"_",hash:{},data:a}))+'\n                </div>\n\n                <div class="modal__content">\n                    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Good News! We noticed you already have a subscription. Please make your selection again.",{name:"_",hash:{},data:a}))+'\n                </div>\n\n                <div class="modal__footer">\n                    <button class="js-modal-window-dismiss-button button button--dialog hide-modal" type="submit">\n                        '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Continue",{name:"_",hash:{},data:a}))+'\n                    </button>\n                </div>\n            </div>\n            <div id="js-modal-spinner" class="modal__spinner medium-heavy-metal-overlay container-absolute to-all" data-is-hidden="true">\n                <div class="c-align">\n                    <div class="spinner spinner--large"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n\n'},useData:!0})}),define("hbs!templates/modalWindow/teamfmf",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return' <a href="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.body_link:i,e))+'" target="_blank">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.body_link_label:i,e))+"</a>"},3:function(e,t,n,a){var i;return'                                        <p class="padding-top-medium">\n                                            <a href="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.footer_link:i,e))+'" '+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.target_blank:i,{name:"if",hash:{},fn:this.program(4,a,0),inverse:this.noop,data:a}))?i:"")+' class="blue bleu-de-france-text text-regular no-wrap">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.footer_link_label:i,e))+"</a>\n                                        </p>\n"},4:function(e,t,n,a){return'target="_blank"'},6:function(e,t,n,a){return'                            <i class="modal__close mti-icon icon-close js-modal-window-dismiss-button" data-t="close-icon"></i>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="motmot">\n    <div class="mti-modal modal--large" data-t="team-free-licenses-modal">\n        <div class="modal__body">\n            <div class="modal__content">\n                <div class="container-table">\n                    <div class="container-table-cell">\n                        <div class="padding-left-small padding-right-small padding-top-xlarge">\n                            <div class="padding-left-xlarge padding-right-xlarge padding-top-xlarge">\n                                <span class="blue bleu-de-france-text text-xlarge line-height-small '+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.subject_style:i,e))+'">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.subject:i,e))+'</span>\n                                <p class="grey light '+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.body_style:i,e))+'">'+(null!=(i=this.lambda(null!=(i=null!=e?e.message:e)?i.escaped_body:i,e))?i:"")+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.body_link_label:i,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'</p>\n                                <div class="padding-top-xlarge '+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.button_row_style:i,e))+'">\n                                    <form name="js-fmf-offer-phone" method="get">\n                                        <div class="no-wrap">\n                                            <input type="text" id="js-phone" name="phone_number" placeholder="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.placeholder:i,e))+'" size="25" class="input--large" data-state="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.phone_input_state:i,e))+'">\n                                            <span class="margin-left-small">\n                                                <a id="modal-ok-button" href="#" class="button button--action '+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.button_style:i,e))+' js-modal-window-ok-button">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.button_label:i,e))+'</a>\n                                            </span>\n                                        </div>\n                                        <span id="js-checkout-user-facing-errors" class="red coral-text text-xsmall" data-state="hidden">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::TEAM::FREE_LICENSES::Please enter a valid phone number",{name:"_",hash:{},data:a}))+'</span>\n                                    </form>\n                                </div>\n                                <div class="center-align">\n                                    <p class="grey mountain-mist-text text-sregular">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.disclaimer:i,e))+'</p>\n                                </div>\n                                <div class="center-align padding-top-xlarge">\n                                    <div class="padding-top-xlarge"></div>\n'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.footer_link:i,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+'                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="container-table-cell">\n                        <div class="container-relative">\n                            <img src="'+this.escapeExpression((t.staticCdn||e&&e.staticCdn||t.helperMissing).call(e,"/v1/pics/promo/yarn_hands.jpg",{name:"staticCdn",hash:{},data:a}))+'"/>\n                            <img src="'+this.escapeExpression((t.staticCdn||e&&e.staticCdn||t.helperMissing).call(e,"/v1/pics/all/default/stock_logo_2020.svg",{name:"staticCdn",hash:{},data:a}))+'" width="36" class="container-absolute to-the-bottom to-the-right margin-right-large margin-bottom-large"/>\n                        </div>\n\n'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.icon_close:i,{name:"if",hash:{},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:"")+"                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/modalWindow/licenseRecordOptions",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return' value="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.record_options:e)?i.record_name:i,e))+'"'},3:function(e,t,n,a){var i,s;return"                                            <div"+(null!=(i=t.if.call(e,null!=e?e.hidden:e,{name:"if",hash:{},fn:this.program(4,a,0),inverse:this.noop,data:a}))?i:"")+'>\n                                                <div class="row">\n                                                    <div class="column on-small-7">\n                                                        <span class="grey silver-sand-text text-up">'+this.escapeExpression((s=null!=(s=t.key||a&&a.key)?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"key",hash:{},data:a}):s))+'</span>\n                                                    </div>\n                                                    <div class="column on-small-5">\n                                                        <span class="grey dove-text text-up">'+this.escapeExpression(this.lambda(null!=e?e.nb:e,e))+"</span>\n                                                    </div>\n                                                </div>\n                                            </div>\n"},4:function(e,t,n,a){return' class="js-modal-details-row hidden"'},6:function(e,t,n,a){return'                                            <div class="margin-top-xsmall">\n                                                <a class="js-expand-record-details blue bleu-de-france-text btn-expand-modal-details">\n                                                    <span class="font-normal">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::See all",{name:"_",hash:{},data:a}))+'</span>\n                                                    <i class="icon-arrow-down"></i><i class="icon-arrow-up"></i>\n                                                </a>\n                                            </div>\n'},8:function(e,t,n,a){var i;return'                                    <div class="margin-bottom-xsmall">\n                                        <p class="text-sregular">\n                                            <span class="grey dove-text font-semibold text-small">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Group Assets",{name:"_",hash:{},data:a}))+"</span>\n                                            <br/>\n                                            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::You may choose to group your licensed assets by project, by customer, by purchase order or any other reference.",{name:"_",hash:{},data:a}))+"\n                                            <br/>\n                                            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Each new project, customer, purchase order or other references will start on a new page on your record.",{name:"_",hash:{},data:a}))+'\n                                        </p>\n                                        <div class="select-box">\n                                            <select name="grouped">\n                                                <option value="0">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Do not group assets",{name:"_",hash:{},data:a}))+"</option>\n"+(null!=(i=t.each.call(e,null!=e?e.group_by:e,{name:"each",hash:{},fn:this.program(9,a,0),inverse:this.noop,data:a}))?i:"")+"                                            </select>\n                                        </div>\n                                    </div>\n"},9:function(e,t,n,a){var i,s;return"                                                    <option value="+this.escapeExpression((s=null!=(s=t.key||a&&a.key)?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"key",hash:{},data:a}):s))+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:a&&a.key,logic:"eq",value:(i=a&&a.root)&&i.grouped_by_option},fn:this.program(10,a,0),inverse:this.noop,data:a}))?i:"")+">\n                                                        "+this.escapeExpression(this.lambda(e,e))+"\n                                                    </option>\n"},10:function(e,t,n,a){return' selected="true"'},12:function(e,t,n,a){var i;return'                                    <div class="margin-bottom-xsmall">\n                                        <p class="text-sregular">\n                                            <span class="grey dove-text font-semibold text-small">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Display Price",{name:"_",hash:{},data:a}))+"</span>\n                                            <br/>\n                                            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Please specify if you want to display the price of the asset you licensed in your record.",{name:"_",hash:{},data:a}))+"\n                                            <br/>\n                                            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::And if so, if the price must appear in credits or in currency.",{name:"_",hash:{},data:a}))+'\n                                        </p>\n                                        <div class="select-box">\n                                            <select name="price">\n                                                <option value="0">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Do not display price",{name:"_",hash:{},data:a}))+'</option>\n                                                <option value="1"'+(null!=(i=t.if.call(e,null!=e?e.price_display_option:e,{name:"if",hash:{},fn:this.program(13,a,0),inverse:this.noop,data:a}))?i:"")+">"+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Display price in credit",{name:"_",hash:{},data:a}))+"</option>\n"+(null!=(i=t.if.call(e,null!=e?e.facing_price_enabled:e,{name:"if",hash:{},fn:this.program(15,a,0),inverse:this.noop,data:a}))?i:"")+"                                            </select>\n                                        </div>\n                                    </div>\n"},13:function(e,t,n,a){var i;return null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"1",logic:"eq",value:null!=e?e.price_display_option:e},fn:this.program(10,a,0),inverse:this.noop,data:a}))?i:""},15:function(e,t,n,a){var i;return'                                                    <option value="2"'+(null!=(i=t.if.call(e,null!=e?e.price_display_option:e,{name:"if",hash:{},fn:this.program(16,a,0),inverse:this.noop,data:a}))?i:"")+">"+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Display price in currency",{name:"_",hash:{},data:a}))+"</option>\n"},16:function(e,t,n,a){var i;return null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"2",logic:"eq",value:null!=e?e.price_display_option:e},fn:this.program(10,a,0),inverse:this.noop,data:a}))?i:""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div class="motmot">\n    <div class="mti-modal modal--with-header modal--secondary modal--large animated fade-in modal-record">\n        <div class="modal__body">\n            <i class="modal__close mti-icon icon-close js-hide-modal"></i>\n            <form name="js-license-record-options" method="post">\n                <fieldset class="modal__fieldset">\n                    <div class="modal__header left-align">\n                        <div id="modal-title" class="grey silver-sand-text">\n                            '+this.escapeExpression((s=null!=(s=t.title||(null!=e?e.title:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"title",hash:{},data:a}):s))+'\n                        </div>\n                        <div class="font-semibold">\n                            '+this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"FILE::%s File","FILE::%s Files",null!=e?e.nb_assets:e,{name:"ngettext",hash:{},data:a}),(t.number||e&&e.number||t.helperMissing).call(e,null!=e?e.nb_assets:e,{name:"number",hash:{},data:a}),{name:"sprintf",hash:{},data:a}))+'\n                        </div>\n                    </div>\n                    <div class="modal__content">\n                        <div class="padding-medium">\n                            <div class="margin-bottom-small">\n                                <div class="row">\n                                    <div class="column on-medium-12 on-large-6 padding-medium">\n                                        <div class="margin-bottom-xsmall left-align">\n                                            <span class="grey dove-text font-semibold text-small">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Record Name",{name:"_",hash:{},data:a}))+'</span>\n                                            <input id="licenseRecordName" type="text" name="name" class="input--full" required placeholder="'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Enter a name for this record...",{name:"_",hash:{},data:a}))+'"'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.record_options:e)?i.record_name:i,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'>\n                                        </div>\n\n                                        <div class="margin-bottom-xsmall left-align">\n                                            <span class="grey dove-text font-semibold text-small">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Additional Notes",{name:"_",hash:{},data:a}))+'</span>\n                                            <textarea name="notes" class="input--full" placeholder="'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::You may enter additional notes here (e.g. Special note for accounting department)",{name:"_",hash:{},data:a}))+'">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.record_options:e)?i.notes:i,e))+'</textarea>\n                                        </div>\n                                    </div>\n                                    <div class="column on-medium-12 on-large-6 padding-medium font-semibold text-small">\n                                        <div class="margin-bottom-small">\n                                            <span class="grey dove-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Record Details",{name:"_",hash:{},data:a}))+'</span>\n                                        </div>\n                                        <div class="row">\n                                            <div class="column on-small-7">\n                                                <span class="grey silver-sand-text text-up">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Period",{name:"_",hash:{},data:a}))+'</span>\n                                            </div>\n                                            <div class="column on-small-5">\n                                                <span class="grey dove-text text-up">'+this.escapeExpression((s=null!=(s=t.period||(null!=e?e.period:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"period",hash:{},data:a}):s))+'</span>\n                                            </div>\n                                        </div>\n                                        <div class="row">\n                                            <div class="column on-small-7">\n                                                <span class="grey silver-sand-text text-up">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Assets",{name:"_",hash:{},data:a}))+'</span>\n                                            </div>\n                                            <div class="column on-small-5">\n                                                <span class="grey dove-text text-up">'+this.escapeExpression((s=null!=(s=t.nb_assets||(null!=e?e.nb_assets:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"nb_assets",hash:{},data:a}):s))+"</span>\n                                            </div>\n                                        </div>\n"+(null!=(i=t.each.call(e,null!=e?e.references:e,{name:"each",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=e?e.referencesToggle:e,{name:"if",hash:{},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:"")+'                                    </div>\n                                </div>\n                            </div>\n                            <div class="center-align border-bottom-1 border-bottom-solid grey-border silver-sand-border padding-xsmall">\n                                <span class="grey silver-sand-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Please specify your record options bellow.",{name:"_",hash:{},data:a}))+'</span>\n                            </div>\n                            <div class="padding-medium">\n'+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:1,logic:"more",value:null!=e?e.nb_assets:e},fn:this.program(8,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=t.unless.call(e,null!=e?e.price_display_is_disabled:e,{name:"unless",hash:{},fn:this.program(12,a,0),inverse:this.noop,data:a}))?i:"")+'\n                                <div class="margin-bottom-xsmall">\n                                    <p class="text-sregular">\n                                        <span class="grey dove-text font-semibold text-small">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Minimum Terms",{name:"_",hash:{},data:a}))+"</span>\n                                        <br/>\n                                        "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::You may decide to attach a copy of the Minimum Terms to your record.",{name:"_",hash:{},data:a}))+"\n                                        <br/>\n                                        "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::The Minimum Terms includes license rights and restrictions that may apply to the assets.",{name:"_",hash:{},data:a}))+'\n                                    </p>\n                                    <div class="select-box">\n                                        <select name="terms">\n                                            <option value="0">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Do not attach terms",{name:"_",hash:{},data:a}))+'</option>\n                                            <option value="1"'+(null!=(i=t.if.call(e,null!=e?e.has_terms_included:e,{name:"if",hash:{},fn:this.program(10,a,0),inverse:this.noop,data:a}))?i:"")+">"+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Attach terms",{name:"_",hash:{},data:a}))+'</option>\n                                        </select>\n                                    </div>\n                                </div>\n                        </div>\n                    </div>\n                    <div class="modal__footer center-align">\n                        <button class="button button--dialog">\n                            <span>'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Generate Record",{name:"_",hash:{},data:a}))+'</span>\n                        </button>\n                        <div class="modal__loading">\n                            <div class="spinner spinner--secondary"></div>\n                            <span class="white-text padding-left-small padding-right-small">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Please wait...",{name:"_",hash:{},data:a}))+"</span>\n                        </div>\n                    </div>\n                </fieldset>\n            </form>\n        </div>\n    <div>\n</div>\n"},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/tabsHeaderItem",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return" active"},3:function(e,t,n,a){var i,s;return'            <sup class="inline text-xsmall '+this.escapeExpression((s=null!=(s=t.counterIdentifier||(null!=e?e.counterIdentifier:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"counterIdentifier",hash:{},data:a}):s))+'">\n'+(null!=(i=t.if.call(e,null!=e?e.counterLabel:e,{name:"if",hash:{},fn:this.program(4,a,0),inverse:this.noop,data:a}))?i:"")+"            </sup>\n"},4:function(e,t,n,a){var i;return"                    ("+this.escapeExpression((i=null!=(i=t.counterLabel||(null!=e?e.counterLabel:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"counterLabel",hash:{},data:a}):i))+")\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<li class="modal-bulk-selection--tabs__item container-relative in-front margin-right-large'+(null!=(i=t.if.call(e,null!=e?e.active:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'" data-tab="'+this.escapeExpression((s=null!=(s=t.tab||(null!=e?e.tab:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"tab",hash:{},data:a}):s))+'" >\n    <a class="modal-bulk-selection--tabs__link" data-t="'+this.escapeExpression((s=null!=(s=t.dataT||(null!=e?e.dataT:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"dataT",hash:{},data:a}):s))+'">\n        '+this.escapeExpression((s=null!=(s=t.label||(null!=e?e.label:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"label",hash:{},data:a}):s))+"\n"+(null!=(i=t.if.call(e,null!=e?e.counterIdentifier:e,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+"    </a>\n</li>\n"},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/toolTipHintAdd",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<span class="container-inline-block white-text text-small" data-t="add-to-selection-text">\n    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::INFO::Add back to selection",{name:"_",hash:{},data:a}))+"\n</span>\n"},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/toolTipHintRemove",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<span class="container-inline-block white-text text-small" data-t="remove-from-selection-text">\n    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::INFO::Remove from selection",{name:"_",hash:{},data:a}))+"\n</span>\n"},useData:!0})}),define("hbs!templates/modalWindow/bulkLicenseRecordOptions",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i,s;return'                                                    <tr class="js-modal-table-asset-row js-modal-tr-'+this.escapeExpression((s=null!=(s=t.key||a&&a.key)?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"key",hash:{},data:a}):s))+'" data-select="'+this.escapeExpression((s=null!=(s=t.key||a&&a.key)?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"key",hash:{},data:a}):s))+'" data-t="selected-asset-'+this.escapeExpression((s=null!=(s=t.key||a&&a.key)?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"key",hash:{},data:a}):s))+'">\n                                                        <input class="js-modal-table-asset-checkbox" type="checkbox" checked="checked" value="'+this.escapeExpression((s=null!=(s=t.key||a&&a.key)?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"key",hash:{},data:a}):s))+'" hidden/>\n                                                        <td class="table__td">\n                                                            <div class="license-image container-relative">\n                                                                <img class="c-align pointer-events-none" src="'+this.escapeExpression(this.lambda(null!=e?e.content_thumb_url:e,e))+'" data-t="selected-asset-thumbnail"/>\n                                                            </div>\n                                                        </td>\n                                                        <td class="table__td">\n'+(null!=(i=t.each.call(e,null!=e?e.license_references:e,{name:"each",hash:{},fn:this.program(2,a,0),inverse:this.program(7,a,0),data:a}))?i:"")+'                                                        </td>\n                                                        <td class="table__td center-align">\n                                                            <div class="margin-right-medium table-assets-select__actions">\n                                                                <span class="js-modal-asset-toggle-remove table-assets-select__action cursor-pointer" data-rel="'+this.escapeExpression((s=null!=(s=t.key||a&&a.key)?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"key",hash:{},data:a}):s))+'" data-t="remove-from-selection-button">\n                                                                    <i class="mti-icon mti-icon--framed icon-close half-heavy-metal-overlay white-text text-regular no-padding"></i>\n                                                                </span>\n                                                            </div>\n                                                        </td>\n                                                    </tr>\n'},2:function(e,t,n,a){var i;return'                                                                <div class="column on-small-6 text-small padding-right-xsmall padding-bottom-xsmall">\n                                                                    <span class="bold">'+this.escapeExpression(this.lambda(null!=e?e.label:e,e))+"</span>: </br>\n                                                                    <span>"+(null!=(i=t.if.call(e,null!=e?e.value:e,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.program(5,a,0),data:a}))?i:"")+"</span>\n                                                                </div>\n"},3:function(e,t,n,a){return this.escapeExpression(this.lambda(null!=e?e.value:e,e))},5:function(e,t,n,a){return"-"},7:function(e,t,n,a){return'                                                                <span class="text-small">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::No license references",{name:"_",hash:{},data:a}))+"</span>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div class="motmot">\n    <div class="mti-modal modal-bulk-selection modal--large modal--secondary modal--with-header animated fade-in" data-state="shown">\n        <div class="modal__body overflow-visible" data-t="bulk-licensing-modal">\n            <i class="modal__close mti-icon icon-close js-hide-modal" data-t="close-icon"></i>\n            <form name="js-license-record-options" method="post">\n                <div class="modal__header center-align">\n                    <span data-t="modal-bulk-title">'+this.escapeExpression((s=null!=(s=t.title||(null!=e?e.title:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"title",hash:{},data:a}):s))+'</span>\n                </div>\n                <div class="modal__content grey gravel-text">\n                    <div class="js-modal-bulk-content-wrapper container-relative padding-large">\n                        <div class="border-1 border-solid border-radius-4 white nurse-border padding-medium margin-bottom-xlarge">\n                            <div class="container-inline-block padding-right-large">\n                                <table class="left-align v-align-top text-sregular">\n                                    <tbody>\n                                        <tr class="padding-bottom-xsmall">\n                                            <td class="padding-right-xlarge" data-t="number-of-assets-label">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::INFO::Number of assets",{name:"_",hash:{},data:a
}))+'</td>\n                                            <td class="js-modal-nb-assets" data-t="number-of-assets-text-value">\n'+(null!=(i=this.invokePartial(n["modalWindow/numberFilesLicenseReferences"],e,{name:"modalWindow/numberFilesLicenseReferences",hash:{number_selected:null!=e?e.nb_assets:e},data:a,indent:"                                                ",helpers:t,partials:n}))?i:"")+'                                            </td>\n                                        </tr>\n                                        <tr class="padding-bottom-xsmall">\n                                            <td class="padding-right-xlarge">\n                                                <strong data-t="price-label">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Period",{name:"_",hash:{},data:a}))+'</strong>\n                                            </td>\n                                            <td class="js-modal-total-prices-column">\n                                                <span class="grey dove-text text-up">'+this.escapeExpression((s=null!=(s=t.period||(null!=e?e.period:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"period",hash:{},data:a}):s))+'</span>\n                                            </td>\n                                        </tr>\n                                    </tbody>\n                                </table>\n                            </div>\n                        </div>\n                        <div class="border-1 border-solid border-radius-4 nurse-border">\n                            <div class="row">\n                                <div class="column on-small-12 on-medium-6">\n                                    <div class="modal-bulk-selection-assets-wrapper overflow-scroll border-right-solid grey alabaster">\n                                        <table class="table-assets-select table table--default">\n                                            <tbody>\n'+(null!=(i=t.each.call(e,null!=e?e.assets:e,{name:"each",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'                                            </tbody>\n                                        </table>\n                                    </div>\n                                </div>\n                                <div class="js-modal-bulk-selection-tabs column on-small-12 on-medium-6">\n                                    <div class="padding-medium">\n                                        <div class="modal-bulk-selection--tabs container-relative">\n                                            <ul>\n'+(null!=(i=this.invokePartial(n["components/bulkSelectionModal/tabsHeaderItem"],e,{name:"components/bulkSelectionModal/tabsHeaderItem",hash:{active:!0,label:(t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::License Record Details",{name:"_",hash:{},data:a}),dataT:"license-record-options",tab:"license_record_options"},data:a,indent:"                                                ",helpers:t,partials:n}))?i:"")+'                                            </ul>\n                                        </div>\n\n                                        <div class="tab-content" data-tab="license_record_options">\n'+(null!=(i=this.invokePartial(n["modalWindow/licenseRecordDetailsFieldSet"],e,{name:"modalWindow/licenseRecordDetailsFieldSet",data:a,indent:"                                            ",helpers:t,partials:n}))?i:"")+'                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="js-modal-bulk-selection-tooltip tooltip tooltip--fixed-width in-front" data-is-hidden="true"></div>\n                    </div>\n                </div>\n                <div class="modal__footer right-align">\n                    <button class="js-modal-button-license button button--dialog button--action" data-t="modal-license-record-btn-cta">\n                        <i class="mti-icon"></i>\n                        <span data-t="modal-license-record-btn-cta">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Generate License Record",{name:"_",hash:{},data:a}))+"</span>\n                    </button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n"},usePartial:!0,useData:!0})}),define("hbs!templates/modalWindow/licenseRecordDetailsFieldSet",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return null!=(i=t.if.call(e,(i=a&&a.root)&&i.group_by,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.noop,data:a}))?i:""},2:function(e,t,n,a){var i;return'        <div class="margin-bottom-medium">\n            <div data-t="license-record-grouped-label" class="grey dove-text font-semibold text-small margin-bottom-xsmall">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Group Assets",{name:"_",hash:{},data:a}))+'</div>\n            <div class="js-license-reference-group-by select-box">\n'+(null!=(i=this.invokePartial(n["modalWindow/licenseRecordGroupAssets"],e,{name:"modalWindow/licenseRecordGroupAssets",hash:{grouped_by_option:(i=a&&a.root)&&i.grouped_by_option,groups:(i=a&&a.root)&&i.group_by},data:a,indent:"                ",helpers:t,partials:n}))?i:"")+'            </div>\n            <div data-t="license-record-grouped-icon" class="container-relative container-inline-block info-icon-tooltip-details">\n                <i class="mti-icon icon-infofull blue bleu-de-france-text"></i>\n                <div class="tooltip tooltip--secondary tooltip--right">\n                    <span class="text-small">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::You may choose to group your licensed assets by project, by customer, by purchase order or any other reference.",{name:"_",hash:{},data:a}))+'</span>\n                    <span class="text-small">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Each new project, customer, purchase order or other references will start on a new page on your record.",{name:"_",hash:{},data:a}))+"</span>\n                </div>\n            </div>\n        </div>\n"},4:function(e,t,n,a){var i;return'    <div class="margin-bottom-medium">\n        <div data-t="license-record-price-label" class="grey dove-text font-semibold text-small margin-bottom-xsmall">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Display Price",{name:"_",hash:{},data:a}))+'</div>\n        <div class="select-box">\n            <select name="price" data-t="license-record-price-select">\n                <option value="0">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Do not display price",{name:"_",hash:{},data:a}))+'</option>\n                <option value="1"'+(null!=(i=t.if.call(e,null!=e?e.price_display_option:e,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+">"+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Display price in credit",{name:"_",hash:{},data:a}))+"</option>\n"+(null!=(i=t.if.call(e,null!=e?e.facing_price_enabled:e,{name:"if",hash:{},fn:this.program(8,a,0),inverse:this.noop,data:a}))?i:"")+'            </select>\n        </div>\n        <div data-t="license-record-price-icon" class="container-relative container-inline-block info-icon-tooltip-details">\n            <i class="mti-icon icon-infofull blue bleu-de-france-text"></i>\n            <div class="tooltip tooltip--secondary tooltip--right">\n                <span class="text-small">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Please specify if you want to display the price of the asset you licensed in your record.",{name:"_",hash:{},data:a}))+'</span>\n                <span class="text-small">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::And if so, if the price must appear in credits or in currency.",{name:"_",hash:{},data:a}))+"</span>\n            </div>\n        </div>\n    </div>\n"},5:function(e,t,n,a){var i;return null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"1",logic:"eq",value:null!=e?e.price_display_option:e},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:""},6:function(e,t,n,a){return' selected="true"'},8:function(e,t,n,a){var i;return'                    <option value="2"'+(null!=(i=t.if.call(e,null!=e?e.price_display_option:e,{name:"if",hash:{},fn:this.program(9,a,0),inverse:this.noop,data:a}))?i:"")+">"+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Display price in currency",{name:"_",hash:{},data:a}))+"</option>\n"},9:function(e,t,n,a){var i;return null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"2",logic:"eq",value:null!=e?e.price_display_option:e},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="margin-bottom-small">\n    <div class="row">\n        <div class="column on-large-12 padding-top-medium">\n            <div class="margin-bottom-xsmall margin-top-small left-align">\n'+(null!=(i=this.invokePartial(n["modalWindow/fieldInputValidator"],e,{name:"modalWindow/fieldInputValidator",hash:{value:null!=(i=null!=e?e.record_options:e)?i.record_name:i,id:"licenseRecordName",required:!0,placeholder:(t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Enter a name for this record...",{name:"_",hash:{},data:a}),dataT:"license-record-name",name:"name",label:(t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Record Name",{name:"_",hash:{},data:a})},data:a,indent:"                ",helpers:t,partials:n}))?i:"")+'            </div>\n            <div class="margin-bottom-xsmall left-align">\n'+(null!=(i=this.invokePartial(n["modalWindow/fieldInputValidator"],e,{name:"modalWindow/fieldInputValidator",hash:{value:null!=(i=null!=e?e.record_options:e)?i.notes:i,dataT:"license-record-notes",placeholder:(t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::You may enter additional notes here (e.g. Special note for accounting department)",{name:"_",hash:{},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Additional Notes",{name:"_",hash:{},data:a}),type:"textarea",name:"notes"},data:a,indent:"                ",helpers:t,partials:n}))?i:"")+"             </div>\n        </div>\n    </div>\n</div>\n\n"+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:1,logic:"more",value:null!=e?e.nb_assets:e},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=t.unless.call(e,null!=e?e.price_display_is_disabled:e,{name:"unless",hash:{},fn:this.program(4,a,0),inverse:this.noop,data:a}))?i:"")+'\n<div class="margin-bottom-medium">\n    <div data-t="license-record-terms-label" class="grey dove-text font-semibold text-small margin-bottom-xsmall">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Minimum Terms",{name:"_",hash:{},data:a}))+'</div>\n    <div class="select-box">\n        <select name="terms" data-t="license-record-terms-select">\n            <option value="0">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Do not attach terms",{name:"_",hash:{},data:a}))+'</option>\n            <option value="1"'+(null!=(i=t.if.call(e,null!=e?e.has_terms_included:e,{name:"if",hash:{},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:"")+">"+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Attach terms",{name:"_",hash:{},data:a}))+'</option>\n        </select>\n    </div>\n    <div data-t="license-record-terms-icon" class="container-relative container-inline-block info-icon-tooltip-details">\n        <i class="mti-icon icon-infofull blue bleu-de-france-text"></i>\n        <div class="tooltip tooltip--secondary tooltip--right">\n            <span class="text-small">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::You may decide to attach a copy of the Minimum Terms to your record.",{name:"_",hash:{},data:a}))+'</span>\n            <span class="text-small">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::The Minimum Terms includes license rights and restrictions that may apply to the assets.",{name:"_",hash:{},data:a}))+"</span>\n        </div>\n    </div>\n</div>\n"},usePartial:!0,useData:!0})}),define("hbs!templates/modalWindow/licenseRecordGroupAssets",["Handlebars"],function(e){return e.template({1:function(e,t,n,a,i,s){var r,o;return"        <option value="+this.escapeExpression((o=null!=(o=t.key||a&&a.key)?o:t.helperMissing,"function"==typeof o?o.call(e,{name:"key",hash:{},data:a}):o))+(null!=(r=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:a&&a.key,logic:"eq",value:null!=s[1]?s[1].grouped_by_option:s[1]},fn:this.program(2,a,0,i,s),inverse:this.noop,data:a}))?r:"")+">\n            "+this.escapeExpression(this.lambda(e,e))+"\n        </option>\n"},2:function(e,t,n,a){return' selected="true"'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a,i,s){var r;return'<select name="grouped" data-t="license-record-grouped-select">\n    <option value="0">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Do not group assets",{name:"_",hash:{},data:a}))+"</option>\n"+(null!=(r=t.each.call(e,null!=e?e.groups:e,{name:"each",hash:{},fn:this.program(1,a,0,i,s),inverse:this.noop,data:a}))?r:"")+"</select>\n"},useData:!0,useDepths:!0})}),define("hbs!templates/modalWindow/licensingDetailModal",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'                                <div class="column on-small-12 on-large-8">\n                                    <div class="padding-right-large">\n                                        <div class="player">\n                                            <div class="player-content">\n                                                <video preload="none" poster="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.content:e)?i.content_thumb_large_url:i,e))+'" onmouseover="this.play()" onmouseout="this.pause()" muted="muted" class="container-block" autoplay="autoplay" loop="loop">\n                                                    <source src="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.content:e)?i.video_preview_url:i,e))+'" type="video/mp4"  />\n                                                </video>\n'+(null!=(i=this.invokePartial(n.thumbnailBadges,e,{name:"thumbnailBadges",hash:{license_transfers:null!=e?e.licenseTransfers:e,displayLicensedBadge:null!=e?e.displayLicenseBadge:e},data:a,indent:"                                                ",helpers:t,partials:n}))?i:"")+'                                                <div class="'+(null!=(i=t.if.call(e,null!=e?e.isPhoenixEnabled:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.program(4,a,0),data:a}))?i:"")+' shown">\n                                                    <div class="thumb-indication">\n'+(null!=(i=this.invokePartial(n.videoSvgPicto,e,{name:"videoSvgPicto",data:a,indent:"                                                        ",helpers:t,partials:n}))?i:"")+"\n                                                        "+(null!=(i=t.if.call(e,null!=(i=null!=e?e.content:e)?i.duration:i,{name:"if",hash:{},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:"")+'\n                                                    </div>\n                                                    <div class="format">\n                                                        <span class="video_hd white-text '+(null!=(i=t.if.call(e,null!=e?e.isPhoenixEnabled:e,{name:"if",hash:{},fn:this.program(9,a,0),inverse:this.noop,data:a}))?i:"")+'">\n'+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"4K",logic:"eq",value:null!=(i=null!=e?e.content:e)?i.resolution:i},fn:this.program(11,a,0),inverse:this.program(13,a,0),data:a}))?i:"")+'                                                        </span>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n\n                                <div class="column on-small-12 on-large-4 padding-xsmall left-align">\n'+(null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{isUpperCase:!0,value:null!=(i=null!=e?e.content:e)?i.format:i,label:(t._||e&&e._||t.helperMissing).call(e,"FILE::File",{name:"_",hash:{},data:a})},data:a,indent:"                                    ",helpers:t,partials:n}))?i:"")+"\n"+(null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"FILE::%d x %d px",{name:"_",hash:{},data:a}),null!=(i=null!=e?e.content:e)?i.content_original_width:i,null!=(i=null!=e?e.content:e)?i.content_original_height:i,{name:"sprintf",hash:{},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Dimensions",{name:"_",hash:{},data:a})},data:a,indent:"                                    ",helpers:t,partials:n}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.content:e)?i.video_codec:i,{name:"if",hash:{},fn:this.program(15,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.content:e)?i.video_bitrate_in_kbps:i,{name:"if",hash:{},fn:this.program(17,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.content:e)?i.duration:i,{name:"if",hash:{},fn:this.program(19,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.content:e)?i.framerate:i,{name:"if",hash:{},fn:this.program(21,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=this.invokePartial(n["modalWindow/licenseTypeDetail"],e,{name:"modalWindow/licenseTypeDetail",hash:{value:null!=e?e.license_type_label:e},data:a,indent:"                                    ",helpers:t,partials:n}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=e?e.required_quota:e,{name:"if",hash:{},fn:this.program(23,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.content:e)?i.is_just_purchased:i,{name:"if",hash:{},fn:this.program(25,a,0),inverse:this.noop,data:a}))?i:"")+"                                </div>\n                            "},2:function(e,t,n,a){return"thumb-indications-v2 container-absolute to-the-bottom half-black-overlay"},4:function(e,t,n,a){return"thumb-indications"},6:function(e,t,n,a){var i;return'<span class="white-text '+(null!=(i=t.if.call(e,null!=e?e.isPhoenixEnabled:e,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.noop,data:a}))?i:"")+'">'+this.escapeExpression((t.minutes||e&&e.minutes||t.helperMissing).call(e,null!=(i=null!=e?e.content:e)?i.duration:i,{name:"minutes",hash:{},data:a}))+"</span>"},7:function(e,t,n,a){return"text-sregular"},9:function(e,t,n,a){return"text-sregular bold"},11:function(e,t,n,a){return"                                                                "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"SEARCH::TYPE::4K",{name:"_",hash:{},data:a}))+"\n"},13:function(e,t,n,a){return"                                                                "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"SEARCH::TYPE::HD",{name:"_",hash:{},data:a}))+"\n"},15:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:null!=(i=null!=e?e.content:e)?i.video_codec:i,label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Codec",{name:"_",hash:{},data:a})},data:a,indent:"                                        ",helpers:t,partials:n}))?i:""},17:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t.concat||e&&e.concat||t.helperMissing).call(e,(t.bitrate||e&&e.bitrate||t.helperMissing).call(e,null!=(i=null!=e?e.content:e)?i.video_bitrate_in_kbps:i,{name:"bitrate",hash:{},data:a}),(t._||e&&e._||t.helperMissing).call(e,"FILE::Mbps",{name:"_",hash:{},data:a}),{name:"concat",hash:{separator:" "},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Bit Rate",{name:"_",hash:{},data:a})},data:a,indent:"                                        ",helpers:t,partials:n}))?i:""},19:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t.minutes||e&&e.minutes||t.helperMissing).call(e,null!=(i=null!=e?e.content:e)?i.duration:i,{name:"minutes",hash:{},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Duration",{name:"_",hash:{},data:a})},data:a,indent:"                                        ",helpers:t,partials:n}))?i:""},21:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t.number||e&&e.number||t.helperMissing).call(e,null!=(i=null!=e?e.content:e)?i.framerate:i,{name:"number",hash:{},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Frame Rate",{name:"_",hash:{},data:a})},data:a,indent:"                                        ",helpers:t,partials:n}))?i:""},23:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/requiredPriceLabel"],e,{name:"modalWindow/requiredPriceLabel",hash:{value:null!=e?e.required_quota:e},data:a,indent:"                                        ",helpers:t,partials:n}))?i:""},25:function(e,t,n,a){var i;return'                                        <div class="row">\n'+(null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t._||e&&e._||t.helperMissing).call(e,"FILE::Already licensed",{name:"_",hash:{},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Status",{name:"_",hash:{},data:a})},data:a,indent:"                                            ",helpers:t,partials:n}))?i:"")+"                                        </div>\n"},27:function(e,t,n,a){var i;return' \n                                <div class="column on-small-12 on-large-8">\n                                    <div class="padding-right-large">\n                                        <img src="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.content:e)?i.content_thumb_large_url:i,e))+'" alt="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.content:e)?i.title:i,e))+'" class="responsive-img" />\n'+(null!=(i=this.invokePartial(n.thumbnailBadges,e,{name:"thumbnailBadges",hash:{license_transfer_tooltip_data:null!=e?e.licenseTransfers:e,displayTransferredBadge:null!=e?e.displayLicenseTransferBadge:e,displayLicensedBadge:null!=e?e.displayLicenseBadge:e},data:a,indent:"                                        ",helpers:t,partials:n}))?i:"")+'                                    </div>\n                                </div>\n\n                                <div class="column on-small-12 on-large-4 padding-xsmall left-align" data-t="license-reference-details">\n'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.content:e)?i.is_template:i,{name:"if",hash:{},fn:this.program(28,a,0),inverse:this.program(30,a,0),data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=e?e.required_quota:e,{name:"if",hash:{},fn:this.program(23,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.content:e)?i.is_just_purchased:i,{name:"if",hash:{},fn:this.program(25,a,0),inverse:this.noop,data:a}))?i:"")+"\n                                </div>\n"},28:function(e,t,n,a){var i;return(null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{isUpperCase:!0,value:null!=(i=null!=e?e.content:e)?i.format:i,label:(t._||e&&e._||t.helperMissing).call(e,"FILE::File Type",{name:"_",hash:{},data:a})},data:a,indent:"                                        ",helpers:t,partials:n}))?i:"")+"\n"+(null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t.concat||e&&e.concat||t.helperMissing).call(e,(t.filesize||e&&e.filesize||t.helperMissing).call(e,null!=(i=null!=e?e.content:e)?i.size_bytes:i,{name:"filesize",hash:{},data:a}),(t._||e&&e._||t.helperMissing).call(e,"FILE::MB",{name:"_",hash:{},data:a}),{name:"concat",hash:{separator:" "},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::File Size",{name:"_",hash:{},data:a})},data:a,indent:"                                        ",helpers:t,partials:n}))?i:"")+"\n"+(null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:null!=(i=null!=e?e.content:e)?i.use_with:i,label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Use With",{name:"_",hash:{},data:a})},data:a,indent:"                                        ",helpers:t,partials:n}))?i:"")+"\n"+(null!=(i=this.invokePartial(n["modalWindow/licenseTypeDetail"],e,{name:"modalWindow/licenseTypeDetail",hash:{value:null!=e?e.license_type_label:e},data:a,indent:"                                        ",helpers:t,partials:n}))?i:"")},30:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=e?e.content:e)?i.is_3D:i,{name:"if",hash:{},fn:this.program(31,a,0),inverse:this.program(46,a,0),data:a}))?i:""},31:function(e,t,n,a){var i;return"\n"+(null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{isUpperCase:!0,value:null!=(i=null!=e?e.content:e)?i.primary_file_type:i,label:(t._||e&&e._||t.helperMissing).call(e,"FILE::File Type",{name:"_",hash:{},data:a})},data:a,indent:"                                            ",helpers:t,partials:n}))?i:"")+"\n"+(null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t.concat||e&&e.concat||t.helperMissing).call(e,(t.filesize||e&&e.filesize||t.helperMissing).call(e,null!=(i=null!=e?e.content:e)?i.size_bytes:i,{name:"filesize",hash:{},data:a}),(t._||e&&e._||t.helperMissing).call(e,"FILE::MB",{name:"_",hash:{},data:a}),{name:"concat",hash:{separator:" "},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::File Size",{name:"_",hash:{},data:a})},data:a,indent:"                                            ",helpers:t,partials:n}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=e?e.content_is_3D_type_lights:e,{name:"if",hash:{},fn:this.program(32,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=e?e.content_is_3D_type_materials:e,{name:"if",hash:{},fn:this.program(37,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=this.invokePartial(n["modalWindow/licenseTypeDetail"],e,{name:"modalWindow/licenseTypeDetail",hash:{value:null!=e?e.license_type_label:e},data:a,indent:"                                            ",helpers:t,partials:n}))?i:"")+"                                        "},32:function(e,t,n,a){var i;return(null!=(i=t.if.call(e,null!=(i=null!=e?e.content:e)?i.is_outdoor:i,{name:"if",hash:{},fn:this.program(33,a,0),inverse:this.program(35,a,0),data:a}))?i:"")+"\n"+(null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:null!=(i=null!=e?e.content:e)?i.light_types:i,label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Light Types",{name:"_",hash:{},data:a})},data:a,indent:"                                                ",helpers:t,partials:n}))?i:"")+"\n"},33:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t._||e&&e._||t.helperMissing).call(e,"FILE::Yes",{name:"_",hash:{},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Outdoor",{name:"_",hash:{},data:a})},data:a,indent:"                                                    ",helpers:t,partials:n}))?i:""},35:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t._||e&&e._||t.helperMissing).call(e,"FILE::No",{name:"_",hash:{},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Outdoor",{name:"_",hash:{},data:a})},data:a,indent:"                                                    ",helpers:t,partials:n}))?i:""},37:function(e,t,n,a){var i;return"\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.content:e)?i.is_tileable:i,{name:"if",hash:{},fn:this.program(38,a,0),inverse:this.program(40,a,0),data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.content:e)?i.is_procedural:i,{name:"if",hash:{},fn:this.program(42,a,0),inverse:this.program(44,a,0),data:a}))?i:"")},38:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t._||e&&e._||t.helperMissing).call(e,"FILE::Yes",{name:"_",hash:{},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Tileable",{name:"_",hash:{},data:a})},data:a,indent:"                                                    ",helpers:t,partials:n}))?i:""},40:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t._||e&&e._||t.helperMissing).call(e,"FILE::No",{name:"_",hash:{},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Tileable",{name:"_",hash:{},data:a})},data:a,indent:"                                                    ",helpers:t,partials:n}))?i:""},42:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t._||e&&e._||t.helperMissing).call(e,"FILE::Yes",{name:"_",hash:{},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Procedural",{name:"_",hash:{},data:a})},data:a,indent:"                                                    ",helpers:t,partials:n}))?i:""},44:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t._||e&&e._||t.helperMissing).call(e,"FILE::No",{name:"_",hash:{},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Procedural",{name:"_",hash:{},data:a})},data:a,indent:"                                                    ",helpers:t,partials:n}))?i:""},46:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=e?e.content:e)?i.is_audio:i,{name:"if",hash:{},fn:this.program(47,a,0),inverse:this.program(52,a,0),data:a}))?i:""},47:function(e,t,n,a){var i;return" \n"+(null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{isUpperCase:!0,value:null!=(i=null!=e?e.content:e)?i.format:i,label:(t._||e&&e._||t.helperMissing).call(e,"FILE::File Type",{name:"_",hash:{},data:a})},data:a,indent:"                                            ",helpers:t,partials:n}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.content:e)?i.audio_data:i)?i.audio_bitrate:i,{name:"if",hash:{},fn:this.program(48,a,0),inverse:this.noop,data:a
}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.content:e)?i.audio_data:i)?i.duration:i,{name:"if",hash:{},fn:this.program(50,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=this.invokePartial(n["modalWindow/licenseTypeDetail"],e,{name:"modalWindow/licenseTypeDetail",hash:{value:null!=e?e.license_type_label:e},data:a,indent:"                                            ",helpers:t,partials:n}))?i:"")+"                                        "},48:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t.concat||e&&e.concat||t.helperMissing).call(e,(t.bitrate||e&&e.bitrate||t.helperMissing).call(e,null!=(i=null!=(i=null!=e?e.content:e)?i.audio_data:i)?i.audio_bitrate:i,{name:"bitrate",hash:{},data:a}),(t._||e&&e._||t.helperMissing).call(e,"FILE::Kbps",{name:"_",hash:{},data:a}),{name:"concat",hash:{separator:" "},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Bit Rate",{name:"_",hash:{},data:a})},data:a,indent:"                                                ",helpers:t,partials:n}))?i:""},50:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t.minutes||e&&e.minutes||t.helperMissing).call(e,null!=(i=null!=(i=null!=e?e.content:e)?i.audio_data:i)?i.duration:i,{name:"minutes",hash:{},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Duration",{name:"_",hash:{},data:a})},data:a,indent:"                                                ",helpers:t,partials:n}))?i:""},52:function(e,t,n,a){var i;return" \n\n"+(null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{isUpperCase:!0,value:null!=(i=null!=e?e.content:e)?i.format:i,label:(t._||e&&e._||t.helperMissing).call(e,"FILE::File Type",{name:"_",hash:{},data:a})},data:a,indent:"                                            ",helpers:t,partials:n}))?i:"")+"\n"+(null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"FILE::%d x %d px",{name:"_",hash:{},data:a}),null!=(i=null!=e?e.content:e)?i.content_original_width:i,null!=(i=null!=e?e.content:e)?i.content_original_height:i,{name:"sprintf",hash:{},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Dimensions",{name:"_",hash:{},data:a})},data:a,indent:"                                            ",helpers:t,partials:n}))?i:"")+"\n"+(null!=(i=(t["if-all-true"]||e&&e["if-all-true"]||t.helperMissing).call(e,null!=(i=null!=e?e.content:e)?i.is_premium:i,(t.not||e&&e.not||t.helperMissing).call(e,null!=(i=null!=e?e.content:e)?i.is_editorial:i,{name:"not",hash:{},data:a}),{name:"if-all-true",hash:{},fn:this.program(53,a,0),inverse:this.program(55,a,0),data:a}))?i:"")+"                                        "},53:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/licenseTypeDetail"],e,{name:"modalWindow/licenseTypeDetail",hash:{value:(t._||e&&e._||t.helperMissing).call(e,"FILE::LICENSE::Extended",{name:"_",hash:{},data:a})},data:a,indent:"                                                ",helpers:t,partials:n}))?i:""},55:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/licenseTypeDetail"],e,{name:"modalWindow/licenseTypeDetail",hash:{value:null!=e?e.license_type_label:e},data:a,indent:"                                                ",helpers:t,partials:n}))?i:""},57:function(e,t,n,a){var i;return'                            <div class="row">\n                                <div class="center-align border-bottom-1 border-bottom-solid grey-border silver-sand-border padding-xsmall">\n                                    <span class="grey silver-sand-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"ORGANIZATION::REFERENCE::Please enter license reference(s) below",{name:"_",hash:{},data:a}))+"</span>\n                                </div>\n                            </div>\n"+(null!=(i=this.invokePartial(n["modalWindow/licenseReferencesFieldSet"],e,{name:"modalWindow/licenseReferencesFieldSet",data:a,indent:"                            ",helpers:t,partials:n}))?i:"")},59:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/licenseTransferFieldSet"],e,{name:"modalWindow/licenseTransferFieldSet",data:a,indent:"                            ",helpers:t,partials:n}))?i:""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div class="motmot">\n    <div class="mti-modal modal--with-header modal--secondary modal--large animated fade-in" data-state="shown">\n        <div class="modal__body overflow-visible">\n            <i class="modal__close mti-icon icon-close js-hide-modal"></i>\n            <form name="js-licensing-form" method="post">\n                <div class="modal__header left-align">\n                    <div id="modal-title" class="grey silver-sand-text">\n                        '+this.escapeExpression((s=null!=(s=t.modal_title||(null!=e?e.modal_title:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"modal_title",hash:{},data:a}):s))+'\n                    </div>\n                    <div class="font-semibold">'+this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"FILE::File #%s",{name:"_",hash:{},data:a}),null!=(i=null!=e?e.content:e)?i.content_id:i,{name:"sprintf",hash:{},data:a}))+'</div>\n                </div>\n                <div class="modal__content">\n                    <div class="padding-medium">\n                        <div class="row margin-bottom-small">\n'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.content:e)?i.is_video:i,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(27,a,0),data:a}))?i:"")+"                        </div>\n\n"+(null!=(i=t.if.call(e,null!=e?e.display_license_references:e,{name:"if",hash:{},fn:this.program(57,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=e?e.display_license_transfer:e,{name:"if",hash:{},fn:this.program(59,a,0),inverse:this.noop,data:a}))?i:"")+'\n                    </div>\n                </div>\n                <div class="modal__footer center-align container-absolute container-full">\n                    <button class="button button--dialog license-reference-submit-btn">\n                        <span>\n                            '+this.escapeExpression((s=null!=(s=t.button_label||(null!=e?e.button_label:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"button_label",hash:{},data:a}):s))+"\n                        <span>\n                    </button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n"},usePartial:!0,useData:!0})}),define("hbs!templates/modalWindow/groupLicenseReferences",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.edit:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.program(4,a,0),data:a}))?i:""},2:function(e,t,n,a){var i;return'                                        <div class="container-license-group-image container-relative margin-xsmall js-content-select selected-assets" data-state="selected" data-download-id="'+this.escapeExpression((i=null!=(i=t.key||a&&a.key)?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"key",hash:{},data:a}):i))+'">\n                                            <div class="selected-item-icon circle">\n                                                <i class="icon-checkmark mti-large blue bleu-de-france-text"></i>\n                                            </div>\n                                            <div class="license-group-image">\n                                                <img src="'+this.escapeExpression(this.lambda(null!=e?e.thumb:e,e))+'"/>\n                                            </div>\n                                        </div>\n'},4:function(e,t,n,a){var i;return'                                        <div class="container-license-group-image container-relative margin-xsmall js-unauthorized-assets" data-state="unauthorized" data-download-id="'+this.escapeExpression((i=null!=(i=t.key||a&&a.key)?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"key",hash:{},data:a}):i))+'">\n                                            <div class="unauthorized-item-icon circle yellow orange js-unauthorized-item-icon">\n                                                <i class="icon-exclamationmark white-text"></i>\n                                            </div>\n                                            <div class="license-group-image">\n                                                <img src="'+this.escapeExpression(this.lambda(null!=e?e.thumb:e,e))+'"/>\n                                            </div>\n                                        </div>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="motmot">\n    <div class="mti-modal modal--with-header modal--large animated fade-in" data-state="shown">\n        <div class="modal__body overflow-visible js-references-modal-body">\n            <div class="js-modal-unauthorized-tooltip"></div>\n            <i class="modal__close mti-icon icon-close js-hide-modal"></i>\n            <form name="js-group-license-references" method="post">\n                <div class="modal__header left-align">\n                    <div id="modal-title" class="grey silver-sand-text">\n                        '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"ORGANIZATION::REFERENCE::Update References",{name:"_",hash:{},data:a}))+'\n                    </div>\n                    <div class="font-semibold js-number-selected">\n'+(null!=(i=this.invokePartial(n["modalWindow/numberFilesLicenseReferences"],e,{name:"modalWindow/numberFilesLicenseReferences",data:a,indent:"                        ",helpers:t,partials:n}))?i:"")+'                    </div>\n                </div>\n                <div class="modal__content">\n                    <div class="padding-medium">\n                        <div>\n                            <div class="preview-container js-preview-container border-1 border-solid silver-sand-border padding-xsmall margin-bottom-small">\n'+(null!=(i=t.each.call(e,null!=e?e.content:e,{name:"each",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'                                <div class="clear-fix"></div>\n                            </div>\n                        </div>\n\n                        <div>\n                            <div class="center-align border-bottom-1 border-bottom-solid grey-border silver-sand-border padding-xsmall">\n                                <span class="grey silver-sand-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"ORGANIZATION::REFERENCE::New references will apply to all the assets selected above.",{name:"_",hash:{},data:a}))+"</span>\n                            </div>\n                        </div>\n\n"+(null!=(i=this.invokePartial(n["modalWindow/licenseReferencesFieldSet"],e,{name:"modalWindow/licenseReferencesFieldSet",data:a,indent:"                        ",helpers:t,partials:n}))?i:"")+'                    </div>\n                </div>\n                <div class="modal__footer center-align">\n                    <button class="button button--dialog license-reference-submit-btn">\n                        <span>'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"ORGANIZATION::REFERENCE::Update References",{name:"_",hash:{},data:a}))+"<span>\n                    </button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n"},usePartial:!0,useData:!0})}),define("hbs!templates/modalWindow/numberFilesLicenseReferences",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return"<span>\n    "+this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"FILE::%s File","FILE::%s Files",null!=e?e.number_selected:e,{name:"ngettext",hash:{},data:a}),null!=e?e.number_selected:e,{name:"sprintf",hash:{},data:a}))+"\n</span>\n"},useData:!0})}),define("hbs!templates/modalWindow/licenseReferencesDetail",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return" text-up"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div class="row">\n    <div class="column on-small-7"><span class="grey silver-sand-text font-semibold text-up text-small" data-t="use-with-label">'+this.escapeExpression((s=null!=(s=t.label||(null!=e?e.label:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"label",hash:{},data:a}):s))+'</span></div>\n    <div class="column on-small-5">\n        <span class="grey dove-text font-semibold '+(null!=(i=t.if.call(e,null!=e?e.isUpperCase:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+' text-small">\n            '+this.escapeExpression((s=null!=(s=t.value||(null!=e?e.value:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"value",hash:{},data:a}):s))+"\n        </span>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/modalWindow/fieldInputValidator",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i,s;return"<label>\n    <span "+this.escapeExpression((t["data-t"]||e&&e["data-t"]||t.helperMissing).call(e,null!=e?e.dataT:e,"label",{name:"data-t",hash:{},data:a}))+' class="grey dove-text text-small font-semibold">\n        '+this.escapeExpression((s=null!=(s=t.label||(null!=e?e.label:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"label",hash:{},data:a}):s))+"\n"+(null!=(i=(t["if-all-true"]||e&&e["if-all-true"]||t.helperMissing).call(e,null!=e?e.required:e,null!=e?e.condensed_display:e,{name:"if-all-true",hash:{},fn:this.program(2,a,0),inverse:this.noop,data:a}))?i:"")+"    </span>\n"},2:function(e,t,n,a){return"            <sup>*</sup>\n"},4:function(e,t,n,a){var i,s;return"            <textarea "+this.escapeExpression((t["data-t"]||e&&e["data-t"]||t.helperMissing).call(e,null!=e?e.dataT:e,"input",{name:"data-t",hash:{},data:a}))+(null!=(i=t.if.call(e,null!=e?e.name:e,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=e?e.id:e,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.noop,data:a}))?i:"")+' class="input--full js-field-group-input '+this.escapeExpression((s=null!=(s=t.className||(null!=e?e.className:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"className",hash:{},data:a}):s))+'"'+(null!=(i=t.if.call(e,null!=e?e.required:e,{name:"if",hash:{},fn:this.program(9,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=e?e.value:e,{name:"if",hash:{},fn:this.program(11,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=e?e.placeholder:e,{name:"if",hash:{},fn:this.program(13,a,0),inverse:this.noop,data:a}))?i:"")+"></textarea>\n"},5:function(e,t,n,a){var i;return' name="'+this.escapeExpression((i=null!=(i=t.name||(null!=e?e.name:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"name",hash:{},data:a}):i))+'"'},7:function(e,t,n,a){var i;return' id="'+this.escapeExpression((i=null!=(i=t.id||(null!=e?e.id:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"id",hash:{},data:a}):i))+'"'},9:function(e,t,n,a){return" required"},11:function(e,t,n,a){var i;return' value="'+this.escapeExpression((i=null!=(i=t.value||(null!=e?e.value:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"value",hash:{},data:a}):i))+'"'},13:function(e,t,n,a){var i;return' placeholder="'+this.escapeExpression((i=null!=(i=t.placeholder||(null!=e?e.placeholder:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"placeholder",hash:{},data:a}):i))+'"'},15:function(e,t,n,a){var i,s;return'            <input type="text" '+this.escapeExpression((t["data-t"]||e&&e["data-t"]||t.helperMissing).call(e,null!=e?e.dataT:e,"input",{name:"data-t",hash:{},data:a}))+(null!=(i=t.if.call(e,null!=e?e.name:e,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=e?e.id:e,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.noop,data:a}))?i:"")+' class="input--full js-field-group-input '+this.escapeExpression((s=null!=(s=t.className||(null!=e?e.className:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"className",hash:{},data:a}):s))+'"'+(null!=(i=t.if.call(e,null!=e?e.required:e,{name:"if",hash:{},fn:this.program(9,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=e?e.value:e,{name:"if",hash:{},fn:this.program(11,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=e?e.placeholder:e,{name:"if",hash:{},fn:this.program(13,a,0),inverse:this.noop,data:a}))?i:"")+"/>\n"},17:function(e,t,n,a){return"</label>"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return(null!=(i=t.if.call(e,null!=e?e.label:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'    <div class="input-group">\n'+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"textarea",logic:"eq",value:null!=e?e.type:e},fn:this.program(4,a,0),inverse:this.program(15,a,0),data:a}))?i:"")+'        <i class="js-field-group-icon mti-icon mti-icon--suffix icon-alert red lust-text" data-is-hidden="true"></i>\n        <div class="js-field-group-tooltip wrong-input-tooltip menu container-absolute container-below red lust margin-top-medium padding-small" data-is-hidden="true">\n            <div class="menu__arrow menu__arrow--top menu__arrow--error-color menu__arrow--center"></div>\n            <div class="js-field-group-tooltip-text white-text font-light left-align text-small">\n                <ul></ul>\n            </div>\n        </div>\n    </div>\n'+(null!=(i=t.if.call(e,null!=e?e.label:e,{name:"if",hash:{},fn:this.program(17,a,0),inverse:this.noop,data:a}))?i:"")+"\n"},useData:!0})}),define("hbs!templates/modalWindow/licenseTypeDetail",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return"                "+this.escapeExpression((i=null!=(i=t.value||(null!=e?e.value:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"value",hash:{},data:a}):i))+"\n"},3:function(e,t,n,a){return"                "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"FILE::LICENSE::Enhanced",{name:"_",hash:{},data:a}))+"\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="row">\n    <div class="column on-small-7">\n        <span class="grey silver-sand-text font-semibold text-up text-small" data-t="license-label">\n            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"FILE::License",{name:"_",hash:{},data:a}))+'\n        </span>\n    </div>\n    <div class="column on-small-5">\n        <span class="grey dove-text font-semibold text-small" data-t="license-value">\n'+(null!=(i=t.if.call(e,null!=e?e.value:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(3,a,0),data:a}))?i:"")+"        </span>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/modalWindow/requiredPriceLabel",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return" text-up"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div class="row">\n    <div class="column on-small-7">\n        <span class="grey silver-sand-text font-semibold text-up text-small" data-t="price-label">\n            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"FILE::Price",{name:"_",hash:{},data:a}))+'\n        </span>\n    </div>\n    <div class="column on-small-5">\n        <span class="grey dove-text font-semibold'+(null!=(i=t.if.call(e,null!=e?e.isUpperCase:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+' text-small" data-t="price-value">\n            '+this.escapeExpression((s=null!=(s=t.value||(null!=e?e.value:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"value",hash:{},data:a}):s))+"\n        </span>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/modalWindow/fotoliaSubscription",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'                                <span class="text-sregular v-align-top large-line-height">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.fotoliaSubscription:e)?i.price_after_decimal:i,e))+"</span>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="motmot">\n    <div class="grey mti-modal modal--with-header modal--large animated fade-in" data-state="shown">\n        <div class="theme grey white-smoke modal__body">\n            <i class="modal__close mti-icon icon-close js-hide-modal"></i>\n\n            <h3 class="grey dove-text modal__header text-center">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"PLANS::MIGRATION::We detect that you had a Fotolia subscription",{name:"_",hash:{},data:a}))+'</h3>\n            <h3 class="grey dove-text text-center margin-top-small">'+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"PLANS::MIGRATION::Switch to Adobe Stock and %searn 33%% off%s",{name:"_",hash:{},data:a}),"<strong>","</strong>",{name:"sprintf",hash:{},data:a}))?i:"")+'</h3>\n\n            <div class="row margin-top-xlarge margin-bottom-xlarge">\n                <div class="column on-small-12 on-medium-2 on-medium-offset-5">\n                    <div class="border-top-1 border-solid silver-sand-border"></div>\n                </div>\n            </div>\n\n            <div class="pod-modal padding-bottom-xlarge margin-left-xlarge margin-right-xlarge">\n                <div class="plans-pods center-align">\n                    <div class="white border-solid border-1 seashell-border plans-pods__tile__ftl-modal">\n\n                        <div class="container-relative">\n                            <span class="white mti-ribbon ribbon--top ribbon--left ribbon--info text-up">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"PLANS::MIGRATION::Your Fotolia plan",{name:"_",hash:{},data:a}))+'</span>\n                        </div>\n\n                        <div class="padding-top-xlarge">\n                            <div class="padding-top-xsmall padding-left-small padding-right-small">\n                                <div class="grey dove-text text-regular min-height-small">\n                                    '+this.escapeExpression(this.lambda(null!=(i=null!=e?e.fotoliaSubscription:e)?i.quota:i,e))+'\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class="blue crayola-text v-align-wrapper medium-height-responsive">\n                            <span class="text-sregular v-align-top large-line-height">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.fotoliaSubscription:e)?i.symbol:i,e))+'</span>\n                            <span class="text-xxxlarge font-light">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.fotoliaSubscription:e)?i.price_before_decimal:i,e))+"</span>\n\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.fotoliaSubscription:e)?i.price_after_decimal:i,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'\n                            <span class="text-sregular v-align-bottom large-line-height">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"PLANS::PRICING::/mo",{name:"_",hash:{},data:a}))+'</span>\n                        </div>\n\n                        <div class="row margin-top-small margin-bottom-small">\n                            <div class="column on-small-12 on-medium-2 on-medium-offset-5">\n                                <div class="border-top-1 border-solid silver-sand-border"></div>\n                            </div>\n                        </div>\n\n                        <div class="padding-left-large">\n                            <ul class="grey dove-text list-style-none text-small center-align">\n                                <li>'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.fotoliaSubscription:e)?i.expiration_date:i,e))+"</li>\n                                <li>"+this.escapeExpression(this.lambda(null!=(i=null!=e?e.fotoliaSubscription:e)?i.months_left:i,e))+"</li>\n                                <li>"+this.escapeExpression(this.lambda(null!=(i=null!=e?e.fotoliaSubscription:e)?i.remaining_downloads:i,e))+'</li>\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div class="left margin-left-xlarge margin-right-xlarge grey dove-text margin-bottom-large">\n                <h3 class="font-bold">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"PLANS::MIGRATION::What will happen to my Fotolia subscription?",{name:"_",hash:{},data:a}))+'</h3>\n                <ul class="grey-text text-sregular list-style-disc margin-left-small ftl-modal-infos">\n                    <li class="margin-top-medium">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"PLANS::MIGRATION::When you purchase an Adobe Stock subscription, your current Fotolia subscription will close.",{name:"_",hash:{},data:a}))+'</li>\n                    <li class="margin-top-medium">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"PLANS::MIGRATION::Each of your remaining Fotolia downloads will be converted into two Adobe Stock licenses.",{name:"_",hash:{},data:a}))+'</li>\n                </ul>\n            </div>\n            <div class="clear-fix"></div>\n            <div class="modal__footer text-center">\n              <button class="js-hide-modal button button--dialog">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::OK",{name:"_",hash:{},data:a}))+"</button>\n            </div>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/modalWindow/vectorDownloadChoice",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<div class="motmot">\n    <div class="modal-vector-download-choice mti-modal modal--with-header " data-t="vector-download-choice-modal">\n        <div class="modal__body text-sregular">\n            <i\n                class="modal__close mti-icon icon-close js-hide-modal js-vector-download-choice-close-button"\n                data-t="vector-download-choice-close-btn"\n                data-ingest-clicktype="vector-download-choice-modal-close"\n            ></i>\n            <div class="modal__header">\n                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::CHOICE::Please Choose File Type to Download",{name:"_",hash:{},data:a}))+'\n            </div>\n            <div class="modal__content grey heavy-metal-text left-align">\n                <div class="padding-medium">\n                    <div class="margin-bottom-medium">\n                        '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::CHOICE::License has been purchased. Which file type would you like to download?",{name:"_",hash:{},data:a}))+'\n                    </div>\n                    <div class="margin-bottom-small">\n                        <label class="switch grey heavy-metal-text" data-ingest-clicktype="vector-download-choice-modal-vector">\n                            <input\n                                type="radio"\n                                name="vector_download_choice"\n                                data-t="vector-download-choice-vector-radio"\n                                value="vector"\n                                checked="checked"\n                            />\n                            <strong>\n                                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::CHOICE::Vector (AI/EPS/SVG)",{name:"_",hash:{},data:a}))+'\n                            </strong>\n                            <div class="text-small padding-left-large">\n                                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::CHOICE::Can be scaled infinitely for use with Adobe Illustrator.",{name:"_",hash:{},data:a}))+'\n                            </div>\n                        </label>\n                    </div>\n                    <div class="margin-bottom-small">\n                        <label class="switch grey heavy-metal-text" data-ingest-clicktype="vector-download-choice-modal-jpeg">\n                            <input\n                                type="radio"\n                                name="vector_download_choice"\n                                data-t="vector-download-choice-jpeg-radio"\n                                value="jpeg"\n                            />\n                            <strong>\n                                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::CHOICE::JPEG",{name:"_",hash:{},data:a}))+'\n                            </strong>\n                            <div class="text-small padding-left-large">\n                                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::CHOICE::Raster files can be opened with a wide variety of apps like Adobe Photoshop.",{name:"_",hash:{},data:a}))+'\n                            </div>\n                        </label>\n                    </div>\n                    <div>\n                        <label class="switch grey heavy-metal-text" data-ingest-clicktype="vector-download-choice-modal-set-as-default">\n                            <input\n                                type="checkbox"\n                                name="vector_download_choice_set_as_default"\n                                data-t="vector-download-choice-set-as-default"\n                                value=""\n                                checked="checked"\n                            />\n                            <strong>\n                                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::CHOICE::Set as default",{name:"_",hash:{},data:a}))+'\n                            </strong>\n                        </label>\n                        <div class="text-small padding-left-large">\n                            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::CHOICE::We'll remember your choice for downloading vector files from now on. You can change your preference in vector image Settings.",{name:"_",hash:{},data:a}))+'\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="modal__footer">\n                <button class="button button--dialog js-vector-download-choice-download-btn" data-t="vector-download-choice-download-btn" data-ingest-clicktype="vector-download-choice-modal-download">\n                    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::CHOICE::Download",{name:"_",hash:{},data:a}))+"\n                </button>\n            </div>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/videoSvgPicto",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){
return'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 19 12" style="enable-background:new 0 0 19 12;width: 15px;height: 10px;fill: white;" xml:space="preserve">\n    <g>\n        <path d="M17.8,0.8L13,3V0.8C13,0.4,12.6,0,12.2,0H0.8C0.4,0,0,0.4,0,0.8v10.4C0,11.6,0.4,12,0.8,12h11.4c0.4,0,0.8-0.4,0.8-0.8V9\n                 l4.8,2.2c0.5,0.4,1.2,0,1.2-0.7v-9C19,0.9,18.3,0.5,17.8,0.8z"></path>\n    </g>\n</svg>\n'},useData:!0})}),define("components/fieldInputValidator",["jquery"],function(e){"use strict";function t(e){return e&&e.maxlength&&e.message}function n(n,s){var r=this,o=n.parent(),l=o.find(".js-field-group-tooltip"),c=o.find(".js-field-group-icon"),u=o.find(".js-field-group-tooltip-text > ul");this.missMatchedValues=!1,this.setMessage=function(t){var n=e.isArray(t)?t:[t||""];u.html(n.map(function(t){if(t)return e("<li>").text(t)}))},this.showTooltip=function(){"false"!==l.attr(a)&&(l.attr(a,"false"),c.attr(a,"false"))},this.showToolTipmissMatchedValues=function(){r.missMatchedValues&&!n.val().trim()?(r.setMessage(r.missMatchedValues),c.attr(a,"false")):c.attr(a,"true")},this.hideToolTip=function(){l.attr(a,"true"),r.showToolTipmissMatchedValues()},this.checkValue=function(e){var a=e;t(s)&&(s.invalidCharactersPattern&&(a=e.replace(s.invalidCharactersPattern,"")),a=a.substring(0,s.maxlength)),n.attr("required")&&n.attr(i,!!a.trim()),e!==a?(n.val(a),this.setMessage(s.message),this.showTooltip(),setTimeout(this.hideToolTip,2e3)):this.hideToolTip()},c.hover(r.showTooltip,r.hideToolTip)}var a="data-is-hidden",i="data-field-is-valid";return n}),define("hbs!templates/modalWindow/licenseTransferFieldSet",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return" border-top-1 border-top-solid grey-border silver-sand-border margin-top-large"},3:function(e,t,n,a){return" on-medium-12 margin-bottom-medium"},5:function(e,t,n,a){return" on-medium-6 padding-medium"},7:function(e,t,n,a){return" on-medium-12"},9:function(e,t,n,a){return" on-medium-6 margin-top-medium"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="row">\n    <div class="js-license-transfer-wrapper'+(null!=(i=t.unless.call(e,(i=a&&a.root)&&i.display_license_transfer_as_one_column,{name:"unless",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'">\n        <div class="column on-small-12'+(null!=(i=t.if.call(e,(i=a&&a.root)&&i.display_license_transfer_as_one_column,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.program(5,a,0),data:a}))?i:"")+' margin-top-medium">\n            <div>\n                <label class="text-sregular">\n                    <input data-t="license-transfer-enable-checkbox" type="checkbox" class="js-license-transfer-checkbox margin-right-small">\n                    <span data-t="license-transfer-enable-label">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,'ORGANIZATION::LICENSE_TRANSFER::Apply the "Transferred" license badge',{name:"_",hash:{},data:a}))+'</span>\n                </label>\n            </div>\n            <div class="js-license-transfer-inputs" data-is-hidden="true">\n                <div class="margin-bottom-xsmall margin-top-small left-align">\n'+(null!=(i=this.invokePartial(n["modalWindow/fieldInputValidator"],e,{name:"modalWindow/fieldInputValidator",hash:{required:!0,dataT:"license-transfer-client-name",name:"client_name",label:(t._||e&&e._||t.helperMissing).call(e,"ORGANIZATION::LICENSE_TRANSFER::Client Name",{name:"_",hash:{},data:a})},data:a,indent:"                    ",helpers:t,partials:n}))?i:"")+'                </div>\n                <div class="margin-bottom-xsmall left-align">\n'+(null!=(i=this.invokePartial(n["modalWindow/fieldInputValidator"],e,{name:"modalWindow/fieldInputValidator",hash:{dataT:"license-transfer-notes",label:(t._||e&&e._||t.helperMissing).call(e,"ORGANIZATION::LICENSE_TRANSFER::Additional Notes",{name:"_",hash:{},data:a}),name:"notes"},data:a,indent:"                    ",helpers:t,partials:n}))?i:"")+'                </div>\n            </div>\n        </div>\n        <div class="column on-small-12'+(null!=(i=t.if.call(e,(i=a&&a.root)&&i.display_license_transfer_as_one_column,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.program(9,a,0),data:a}))?i:"")+' white border-2 border-solid border-radius-4 bleu-de-france-border padding-medium">\n            <div class="text-sregular grey dove-text margin-bottom-medium">\n                <strong data-t="license-transfer-details-title-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"ORGANIZATION::LICENSE_TRANSFER::License transfer details",{name:"_",hash:{},data:a}))+'</strong>\n                <i class="mti-icon icon-infofull right blue bleu-de-france-text"></i>\n            </div>\n            <div class="text-sregular grey dove-text" data-t="license-transfer-details-body-text">\n                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"ORGANIZATION::LICENSE_TRANSFER::Please keep in mind that a license may only belong to either yourself, or your client (not both) and that a license may only be transferred to a client via an enforceable written agreement between you and your client.",{name:"_",hash:{},data:a}))+"\n                "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"ORGANIZATION::LICENSE_TRANSFER::Please note that this action cannot be reversed, and that the transfer status and details (client name and additional notes) will be visible by all the users of your organization.",{name:"_",hash:{},data:a}))+"\n            </div>\n        </div>\n    </div>\n</div>\n"},usePartial:!0,useData:!0})}),define("components/licenseTransferFieldSet",["jquery","components/fieldInputValidator","hbs!templates/modalWindow/licenseTransferFieldSet"],function(e,t,n){"use strict";function a(n,a){function o(e){for(var t in g)g[t].required&&g[t].input.prop("required",e)}function l(){a||(f=!1,h={},E.attr(s,!0),o(!1))}function c(){f=!0,E.attr(s,!1),o(!0)}function u(){var e,t,n;for(e in g)t=g[e].input,n=t.val().trim(),(g[e].required||g[e].validator.missMatchedValues)&&t.attr(r,!!n),h[e]=n}function d(){p&&p(Object.assign({},h),f)}var p,h={},f=!1,_=n.find(".js-license-transfer-wrapper"),m=_.find(".js-license-transfer-checkbox"),E=_.find(".js-license-transfer-inputs"),g={};_.find(".js-field-group-input").each(function(){var n=e(this),a=n.attr("name"),i=new t(n);g[a]={input:n,validator:i,required:n.prop("required")},n.on("input",function(){u(),d(),i.checkValue(n.val())}).on("blur",function(){i.hideToolTip()})}),a?(m.hide(),c()):(l(),m.on("change",function(){e(this).prop("checked")?c():l(),d()})),this.data=function(){return h},this.valid=function(){var e,t,n=!0;if(!f)return n;u();for(t in g)if(e=g[t],(e.required||e.validator.missMatchedValues)&&!h[t]){n=!1;break}return n},this.resetFields=function(){var e;for(e in g)(g[e].required||g[e].validator.missMatchedValues)&&g[e].input.attr(r,"true")},this.setTransferData=function(t,n,a){var s,o,d,p,n=n||{},a=a||{};if(e.isPlainObject(t)){m.prop("checked",!0),c();for(o in g)s=g[o],d=t[o]||i,p=n.default,s.validator.missMatchedValues=!1,e.isArray(d)&&(d.length<2?d=d[0]:(a.missMatchedValues&&(s.validator.missMatchedValues=[a.missMatchedValues].concat(d.map(function(e){return"- "+e}))),d=i,p=n.missMatchedValues)),h[o]=d,s.input.attr(r,!0).attr("placeholder",p).val(d),s.validator.showToolTipmissMatchedValues();u()}else m.prop("checked",!1),this.resetFields(),l()},this.onDataChanged=function(t){e.isFunction(t)&&(p=t)}}var i="",s="data-is-hidden",r="data-field-is-valid";return{template:n,init:a}}),define("lib/licenseReferencesConstants",[],function(){"use strict";return{REFERENCE_ID_PROJECT_NAME:"1",REFERENCE_ID_PROJECT_REFERENCE:"2",REFERENCE_ID_CUSTOMER_NAME:"3",REFERENCE_ID_CUSTOMER_REFERENCE:"4",REFERENCE_ID_COST_CENTER:"5",REFERENCE_ID_PURCHASE_ORDER_NUMBER:"6",REFERENCE_ID_ISBN:"7",REFERENCE_ID_DEPARTMENT:"8",REFERENCE_ID_COUNTRY:"9",REFERENCE_ID_LICENSEE:"10"}}),define("hbs!templates/modalWindow/licenseReferencesFieldSet",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return(null!=(i=t.unless.call(e,null!=e?e.condensed_license_references_display:e,{name:"unless",hash:{},fn:this.program(2,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=t.each.call(e,null!=e?e.mandatory_license_references:e,{name:"each",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.unless.call(e,null!=e?e.condensed_license_references_display:e,{name:"unless",hash:{},fn:this.program(8,a,0),inverse:this.noop,data:a}))?i:"")},2:function(e,t,n,a){var i;return'                <div class="js-mandatory-reference-fields column on-small-12 on-medium-6'+(null!=(i=t.unless.call(e,null!=e?e.optional_license_references:e,{name:"unless",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+' center-align padding-medium">\n                    <div class="margin-bottom-xsmall"><span class="text-sregular grey dove-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"ORGANIZATION::REFERENCE::Mandatory References",{name:"_",hash:{},data:a}))+"</span></div>\n"},3:function(e,t,n,a){return" on-medium-offset-3"},5:function(e,t,n,a){var i;return'                    <div class="margin-bottom-xsmall left-align container-relative'+(null!=(i=t.if.call(e,null!=e?e.condensed_license_references_display:e,{name:"if",hash:{},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:"")+'">\n'+(null!=(i=this.invokePartial(n["modalWindow/fieldInputValidator"],e,{name:"modalWindow/fieldInputValidator",hash:{condensed_display:(i=a&&a.root)&&i.condensed_license_references_display,value:t.lookup.call(e,(i=a&&a.root)&&i.saved_license_references,a&&a.key,{name:"lookup",hash:{},data:a}),required:!0,dataT:e,name:a&&a.key,label:e,className:"js-license-reference-field",id:a&&a.key},data:a,indent:"                        ",helpers:t,partials:n}))?i:"")+"                    </div>\n"},6:function(e,t,n,a){return" license-reference-field left container-inline-block"},8:function(e,t,n,a){return"                </div>\n"},10:function(e,t,n,a){var i;return(null!=(i=t.unless.call(e,null!=e?e.condensed_license_references_display:e,{name:"unless",hash:{},fn:this.program(11,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=t.each.call(e,null!=e?e.optional_license_references:e,{name:"each",hash:{},fn:this.program(13,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.unless.call(e,null!=e?e.condensed_license_references_display:e,{name:"unless",hash:{},fn:this.program(8,a,0),inverse:this.noop,data:a}))?i:"")},11:function(e,t,n,a){var i;return'                <div class="js-optional-reference-fields column on-small-12 on-medium-6'+(null!=(i=t.unless.call(e,null!=e?e.mandatory_license_references:e,{name:"unless",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+' center-align padding-medium">\n                    <div class="margin-bottom-xsmall"><span class="text-sregular grey dove-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"ORGANIZATION::REFERENCE::Optional References",{name:"_",hash:{},data:a}))+"</span></div>\n"},13:function(e,t,n,a){var i;return'                    <div class="margin-bottom-xsmall left-align container-relative'+(null!=(i=t.if.call(e,null!=e?e.condensed_license_references_display:e,{name:"if",hash:{},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:"")+'">\n'+(null!=(i=this.invokePartial(n["modalWindow/fieldInputValidator"],e,{name:"modalWindow/fieldInputValidator",hash:{condensed_display:(i=a&&a.root)&&i.condensed_license_references_display,value:t.lookup.call(e,(i=a&&a.root)&&i.saved_license_references,a&&a.key,{name:"lookup",hash:{},data:a}),dataT:e,name:a&&a.key,label:e,className:"js-license-reference-field",id:a&&a.key},data:a,indent:"                        ",helpers:t,partials:n}))?i:"")+"                    </div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="row">\n    <div class="js-license-references-wrapper">\n'+(null!=(i=t.if.call(e,null!=e?e.mandatory_license_references:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=e?e.optional_license_references:e,{name:"if",hash:{},fn:this.program(10,a,0),inverse:this.noop,data:a}))?i:"")+"    </div>\n</div>\n"},usePartial:!0,useData:!0})}),define("components/licenseReferencesFieldSet",["jquery","i18n","i18n-config","components/fieldInputValidator","lib/licenseReferencesConstants","hbs!templates/modalWindow/licenseReferencesFieldSet"],function(e,t,n,a,i,s){"use strict";function r(e){var a,s;switch(e){case i.REFERENCE_ID_PURCHASE_ORDER_NUMBER:s=35,a=t.sprintf(n.ngettext("MODAL::LICENSE_REFERENCE::ERROR::Client purchase order cannot exceed %s character. It cannot include linefeeds or special characters such as commas.","MODAL::LICENSE_REFERENCE::ERROR::Client purchase order cannot exceed %s characters. It cannot include linefeeds or special characters such as commas.",s),s);break;default:s=80,a=t.sprintf(n.ngettext("MODAL::LICENSE_REFERENCE::ERROR::References cannot exceed %s character. They cannot include linefeeds or special characters such as commas.","MODAL::LICENSE_REFERENCE::ERROR::References cannot exceed %s characters. They cannot include linefeeds or special characters such as commas.",s),s)}return{invalidCharactersPattern:/\r\n|\r|\n|,|"/g,maxlength:s,message:a}}function o(t){function n(e){var t,n,a,i=!0;for(t in c){if(n=c[t],a=n.input.val().trim(),n.input.prop("disabled"))return!0;a||!n.required&&!n.validator.missMatchedValues?n.input.attr(l,"true"):(i=!1,e&&n.input.focus(),n.input.attr(l,"false")),u[parseInt(t,10)]=a}return i}function i(){var e;for(e in c)(c[e].required||c[e].validator.missMatchedValues)&&c[e].input.attr(l,"true")}function s(){n(),o&&o(Object.assign({},u))}var o,u={};c={},t.find(".js-license-reference-field").each(function(){var t=e(this),n=t.attr("id"),i=new a(t,r(n));c[n]={input:t,validator:i,required:t.prop("required")},t.on("input",function(){i.checkValue(t.val()),s()}).on("blur",function(){i.hideToolTip()})}),this.setReferences=function(t,a,i){var s,r,o,l,a=a||{},i=i||{};for(r in t)o=a.default,l=t[r],s=c[r],e.isArray(l)&&(l.length<2?(s.validator.missMatchedValues=!1,l=l[0]||""):(i.missMatchedValues&&(s.validator.missMatchedValues=[i.missMatchedValues].concat(l.map(function(e){return"- "+e}))),o=a.missMatchedValues,l="")),s.input.attr("placeholder",o).val(l),s.validator.checkValue(l);n()},this.onDataChanged=function(t){e.isFunction(t)&&(o=t)},this.data=function(){return u},this.valid=function(){return n(!0)},this.resetFields=i}var l="data-field-is-valid",c={};return{template:s,init:o}}),define("app/actions/detailsActions",["app/actions/actionTypes","app/constants/localStorage"],function(e,t){"use strict";function n(t,n){return{content_id:t||0,data:n||{},type:e.ADD_ITEM_DETAILS}}function a(t){return{content_id:t||0,type:e.ITEM_SELECTED}}function i(t,n){return{contentId:parseInt(t,10),licenseId:n,type:e.UPDATE_DETAIL_PANEL_LICENSE}}function s(n){var a=window&&window.localStorage;return a&&(n?a.setItem(t.VECTOR_DOWNLOAD_CHOICE_KEY,n):a.removeItem(t.VECTOR_DOWNLOAD_CHOICE_KEY)),{type:e.SAVE_VECTOR_DOWNLOAD_PREFERENCE,value:n}}function r(){return{type:e.OPEN_VECTOR_DOWNLOAD_SETTINGS}}function o(){return{type:e.CLOSE_VECTOR_DOWNLOAD_SETTINGS}}function l(t,n){return{contentId:parseInt(t,10),licenseId:parseInt(n,10),type:e.SELECT_CONTENT_LICENSE}}function c(t,n){return{contentId:parseInt(t,10),licenseId:n,type:e.CONTENT_LICENSED}}return{addItemDetails:n,selectItem:a,updateDetailPanelLicense:i,saveVectorDownloadPreference:s,openVectorDownloadSettings:r,closeVectorDownloadSettings:o,selectContentLicense:l,contentLicensed:c}}),define("app/stock-portal",["jquery","lodash","lib/utils","lib/analytics","app/constants/dunamis","app/constants/analytics"],function(e,t,n,a,i,s){"use strict";function r(){return window.__stock_portal_exports__}function o(e){var t="composition"===e.findSimilarBy&&e.hideComposition;return!e.findSimilarBy||t}function l(e){h(),e&&o(e)&&(e.findSimilarBy="all"),E("searchPanel.renderFindSimilarControlsPanel",e)}function c(){h(),E("searchPanel.renderFiltersPanel")}function u(){h(),E("searchPanel.clearFindSimilarControls")}function d(){h(),E("searchPanel.onlyClearFindSimilarControls")}function p(e){E("alert.renderAlert",e),n.scrollToTop()}function h(){e(".js-server-side-circle-loader").attr("data-state","hidden")}function f(e){E("visualSearchModal.visualSearchUpdateSearchDataAndOpenModal",e)}function _(){E("visualSearchModal.visualSearchCloseModal")}function m(){for(;w.length>0;)E.apply(null,w.shift())}function E(e){if(!t.get(r(),"store.dispatch")||!t.get(r(),"actions"))return void w.push(arguments);var n=t.get(r().actions,e),a=Array.prototype.slice.call(arguments,1),i=n.apply(null,a);return r().store.dispatch(i)}function g(e){E("sortMenu.renderSortMenuFilter",e)}function v(){E("details.renderFaqSection")}function b(){E("details.renderFreepikAssetSection")}function T(e){E("postPurchaseModal.showPostPurchaseModal",e)}function I(e){E("followToggleButton.renderFollowCardsHomepage",e)}function S(){E("postPurchaseModal.closePostPurchaseModal")}function y(e){var n=i.PROPERTIES.CHECKOUT,r=t.get(e.dunamisTrackingData,n.SELECTION_METHOD),o=t.get(e,"dunamisTrackingData",{});o[n.FINDING_METHOD]=a.determineFindingMethod(),o[n.SELECTION_METHOD]=r||s.SELECTION_DIRECT,e.dunamisTrackingData=o,E("coreCheckout.startCheckout",e)}function A(){E("details.renderVideoCropCoachmark")}function O(){E("details.hideVideoCropCoachmark")}function R(e){E("navbar.renderProfileDropdown",e)}function C(e){E("followToggleButton.renderFollowToggleButton",parseInt(e,10))}function L(e){E("details.renderDetailsFollowToggleButton",e)}function D(e){E("navbar.updateProfileDropdownEntitlement",e)}function N(e){E("navbar.renderNavbarMarketplaceWaffleLeftNav",e)}function P(e){E("enterprisePlanDetailsModal.showEnterprisePlanDetailsModal",e)}function M(){return r()?r().store.getState():null}var w=[];return{getState:M,subscribe:function(e){return r().store.subscribe(e)},onPortalInitialized:m,FIND_SIMILAR:"find_similar",FILTERS:"filters",initLibrariesToast:E.bind(null,"librariesToast.initLibrariesToast"),assetLicensedOnly:E.bind(null,"librariesToast.assetLicensedOnly"),saveToLibraryLoadingStart:E.bind(null,"librariesToast.saveToLibraryLoadingStart"),saveToLibraryLoadingStop:E.bind(null,"librariesToast.saveToLibraryLoadingStop"),saveToLibrarySuccess:E.bind(null,"librariesToast.saveToLibrarySuccess"),saveToLibraryFailure:E.bind(null,"librariesToast.saveToLibraryFailure"),startCheckout:y,startTeamCheckout:E.bind(null,"stockTeamCheckout.startTeamCheckout"),hidePanel:E.bind(null,"searchPanel.hidePanel"),renderPanelLoading:E.bind(null,"searchPanel.renderPanelLoading"),closeAlert:E.bind(null,"alert.closeAlert"),renderCarousel:E.bind(null,"carousel.renderCarousel"),renderFiltersPanel:c,renderFindSimilarControlsPanel:l,clearFindSimilarControls:u,onlyClearFindSimilarControls:d,renderAlert:p,removeServerSideLoader:h,renderVisualSearchModal:f,hideVisualSearchModal:_,renderSortMenuFilter:g,renderFaqSection:v,renderFreepikAssetSection:b,renderVideoCropCoachmark:A,hideVideoCropCoachmark:O,renderPostPurchaseModal:T,hidePostPurchaseModal:S,renderProfileDropdown:R,updateProfileDropdownEntitlement:D,userSignedIn:E.bind(null,"user.userSignedIn"),redownloadForFreeComplete:E.bind(null,"callToAction.redownloadForFreeDone"),redownloadForFreeError:E.bind(null,"callToAction.redownloadForFreeError"),enterpriseLicensingDone:E.bind(null,"callToAction.enterpriseLicensingDone"),renderNavbarMarketplaceWaffleLeftNav:N,renderFollowToggleButton:C,renderDetailsFollowToggleButton:L,renderFollowCardsHomepage:I,showEnterprisePlanDetailsModal:P}}),define("app/utils/observer",["app/client","app/stock-portal","page_config"],function(e,t,n){"use strict";function a(e){function t(){var t=s.getState();e(n,t),n=t}var n=s.getState();return s.subscribe(t)}function i(e){function n(){var n=t.getState();e(a,n),a=n}var a=t.getState();if(a)return t.subscribe(n)}var s=e.getInstance();return{observe:function(e,t){function n(){var n=e(s.getState());n!==a&&(a=n,t(a))}var a=e(s.getState());return s.subscribe(n)},listen:a,listenForPortalStateChange:i}}),define("app/ajax/search",["jquery","page_config","lib/ajax"],function(e,t,n){"use strict";function a(t){var n=e.extend({},t,{get_facets_only:1});return o.fetchSearchResults(n)}function i(a){var i=e.Deferred(),s=e.extend(!0,{},a);return a.oa&&t.isSearchHelperRefactorEnabled?n.ajax({url:t.base_url+"/Ajax/Search/Post",type:"POST",data:JSON.stringify(s),dataType:"json",cache:!1,contentType:"application/json",processData:!1}).done(function(e){i.resolve(e)}).fail(function(e){i.reject(e)}):n.get(t.base_url+"/Ajax/Search",s,"json").done(function(e){i.resolve(e)}).fail(function(e){i.reject(e)}),i.promise()}function s(a){var i=e.Deferred(),s=JSON.stringify({filters:a.filters,k:a.k});return n.ajax({url:t.base_url+"/QuerySuggestion",type:"POST",data:s,dataType:"json",cache:!1,contentType:"application/json",processData:!1}).done(function(e){i.resolve(e)}).fail(function(e){i.reject(e)}),i.promise()}function r(e){return i(e)}var o={fetchPremiumSearchResults:r,fetchSearchFacets:a,fetchSearchResults:i,fetchQuerySuggestions:s};return o}),define("app/utils/carousel",["app/client","page_config","app/constants/assetTypeFilters","app/constants/dunamis","app/constants/analytics","i18n"],function(e,t,n,a,i,s){"use strict";function r(){var e=c.getState(),a=e.page.filter_asset_type;return t.isFreeEnabled&&t.isFreeBottomRailEnabled&&a===n.FREE}function o(){return r()?{RESULTS_COUNT:a.FBR.RESULTS_COUNT,CAROUSEL:i.FREE_BOTTOM_RAIL.FREE_BR_CAROUSEL,VIEW_RESULTS:a.FBR.VIEW_RESULTS,ASSET_CLICK:a.FBR.ASSET_CLICK}:{RESULTS_COUNT:a.PBR.RESULTS_COUNT,CAROUSEL:i.PREMIUM_BOTTOM_RAIL.PREMIUM_CAROUSEL,VIEW_RESULTS:a.PBR.VIEW_RESULTS,ASSET_CLICK:a.PBR.ASSET_CLICK}}function l(){return r()?{ASSET_TYPE:"HEADER::our other collections"}:{ASSET_TYPE:"HEADER::Premium"}}var c=e.getInstance();return{isFreeBottomRailActive:r,getBottomRailDunamisEventTypes:o,getBottomRailUpperLeftStrings:l}}),define("components/carousel/actions/assetsActions",["jquery","app/constants/carousel","app/constants/searchFilters","app/actions/actionTypes","app/ajax/search","app/utils/carousel"],function(e,t,n,a,i,s){"use strict";function r(a,s,r,o,l,c){return function(u,d){var p,h={};return r!==t.EMPTY_TYPE&&r!==t.LONGTAIL_TYPE&&(h[n.KEYWORD]=d().filters[n.KEYWORD]),p={promise:i.fetchSearchResults(e.extend({},a,h)),carouselType:r,type:s,style:o,id:l,keyword:c},u(p),p}}var o=function(){return function(t,n){var r=n(),o={limit:12,price:{$$:1,$$$:1}},l=e.extend({},r.filters,o);s.isFreeBottomRailActive()&&(l.filters=e.extend({},l.filters,{free_collection:0}),l.price={}),t({promise:i.fetchPremiumSearchResults(l),type:a.FETCH_PREMIUM_IMAGES})}};return{clearAssets:function(){return{type:a.CLEAR_PREMIUM_IMAGES}},getAssets:o,getItems:r}}),define("lib/contentHelper",["lodash","lib/utils","app/client","page_config","lib/member","lib/contentDetails","lib/license"],function(e,t,n,a,i,s,r){"use strict";function o(n){var a,i=T.getState(),s=t.arrayFindByKeyValue(i.content,"content_id",n)||{},r=e.get(s,"license_details",{});for(a in r)if(r[a]&&r[a].downloaded)return!0;return!1}function l(t){return!(!a.isFreeVideoEnabled&&!d(t))&&(e.get(t,"is_video",!1)&&e.get(t,"is_free",!1))}function c(t){var n=e.get(t,"is_free",!1)&&(e.get(t,"is_template",!1)||e.get(t,"is_3D",!1)||l(t)),a=p(t);return n||a}function u(e,t){var n,a,i,s;if(e){n=e.selectedLicenseId;for(i in e.license_details)if(e.license_details.hasOwnProperty(i)&&(s=e.license_details[i],s.is_default)){a=parseInt(i),n||(e.selectedLicenseId=a);break}return a||(a=e.possible_licenses&&e.possible_licenses[0]),t?a:n||a}}function d(e){var t=e.content_id,n=s.isTemplate(t)||e.is_template,a=s.is3D(t)||e.is_3D;return p(e)&&!(n||a)}function p(e){var t=e.content_id,n=s.isFree(t)||e.is_free;return a.isFreeEnabled&&n}function h(e,n){var a=T.getState(),s=t.arrayFindByKeyValue(a.content,"content_id",e)||{},r=b.getLicenseIdForContent(s,n),o=i.hasQuota(r,s,r),l=i.hasAvailableCreditPackQuota();return i.isDefaultEntitlementCCE()?f(s):!o&&!l&&!p(s)}function f(e){var t=!1;if(i.hasEnterpriseCreditCardPurchaseEnabled()){var n=i.getDefaultEntitlement(),a={total_quota_available_by_license_type_id:n.total_quota_available_by_license_type_id,is_organization_out_of_quota:e.org_model_data&&e.org_model_data.is_organization_out_of_quota};t=!(e.is_allowed_and_purchasable&&i.hasEnoughQuotaForPossibleAssetLicenses(e,a))}return t}function _(e,t){var n=e.content_id,a=s.isTemplate(n)||e.is_template,i=s.is3D(n)||e.is_3D;return!(t||a||i||e.deprecatedLicenseIdUsed||d(e))}function m(n,a){var i,s,r,o=n.getState(),l=e.get(o,"content",{}),c=t.arrayFindByKeyValue(l,"content_id",a)||null;if(!c||!e.get(c,"premium_level",!1))return!1;for(r=Object.values(c.premium_level),s=0;s<r.length;++s)if(i=r[s],"core"===i.split("|")[2])return!0;return!1}function E(e){var t="https://schema.org/MediaObject";return e.is_image||e.is_illustrative||e.is_vector?t="https://schema.org/ImageObject":e.is_video?t="https://schema.org/VideoObject":e.is_template?t="https://schema.org/MediaObject":e.is_3D?t="https://schema.org/3DModel":e.is_audio&&(t="https://schema.org/AudioObject"),t}function g(e,t){var n=e.content_id,r=b.isCore(t,n),o=s.isVideo(n);return r&&b.shouldDisplayBuyCTA(n)&&!o&&(a.isFreeWithTrialPhoenixEnabled&&!i.hasSomeEntitlement()&&!i.isAdmin()||a.isFreeWithTrialEnabledUsLoggedOutOnly)}function v(e){var t=e&&e.content_id,n=m(T,t),s=u(e),o=s===r.LICENSE_ID_ENHANCED;return(a.isCCTProDetailsCTAEnabled||a.isCCTProHoverCTAEnabled)&&i.hasCCTPro()&&n&&o}var b,T=n.getInstance();return b={hasPurchasedALicense:o,isFreeVideo:l,shouldDisplayLicenseButton:c,getLicenseIdForContent:u,shouldDisplayBuyCTA:h,isFreeExperienceEnabled:d,shouldShowDownloadPreviewCTA:_,shouldUseFreeCTACopy:p,isCore:m,getSEOMicrodataItemType:E,shouldDisplayFreeWithTrialPhoenix:g,shouldDisplayCCTProDetailsCTA:v}}),define("hbs!templates/search/recentSearches",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return"false"},3:function(e,t,n,a){return"true"},5:function(e,t,n,a){var i,s;return"                            <li\n"+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:a&&a.index,logic:"eq",value:(i=a&&a.root)&&i.selected},fn:this.program(6,a,0),inverse:this.program(8,a,0),data:a}))?i:"")+'                                data-keyword-index="'+this.escapeExpression((s=null!=(s=t.index||a&&a.index)?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"index",hash:{},data:a}):s))+'"\n                            >\n                                <a href="#" class="nav__link js-search-recent-item">\n                                    '+this.escapeExpression(this.lambda(e,e))+"\n                                </a>\n                            </li>\n"},6:function(e,t,n,a){return'                                    class="nav__item js-search-recent-item-selected"\n                                    data-active="true"\n'},8:function(e,t,n,a){return'                                    class="nav__item"\n'},10:function(e,t,n,a){return'                                class="nav__item js-search-recent-clear js-search-recent-item-selected"\n                                data-active="true"\n'},12:function(e,t,n,a){return'                                class="nav__item js-search-recent-clear"\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="container-full container-absolute to-the-left" data-is-hidden="'+(null!=(i=t.if.call(e,null!=e?e.show:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(3,a,0),data:a}))?i:"")+'">\n    <div class="padding-top-large">\n        <div class="container-relative">\n            <div class="menu container-absolute container-full">\n                <div class="text-regular">\n                    <ul class="js-search-recent-panel nav nav--tertiary nav--hover-white-smoke">\n                        <li class="nav__item nav__link grey dove-text text-sregular">\n                            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"SEARCH::NAV::Recent searches",{name:"_",hash:{},data:a}))+"\n                        </li>\n"+(null!=(i=t.each.call(e,null!=e?e.keywords:e,{name:"each",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+"\n                        <li\n"+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:null!=(i=null!=e?e.keywords:e)?i.length:i,logic:"eq",value:null!=e?e.selected:e},fn:this.program(10,a,0),inverse:this.program(12,a,0),data:a}))?i:"")+'                            data-keyword-index="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.keywords:e)?i.length:i,e))+'"\n                            data-action="clearAll"\n                        >\n                            <a href="#" class="nav__link">\n                                <span class="blue bleu-de-france-text text-sregular">\n                                    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"SEARCH::FILTERS::Clear all",{name:"_",hash:{},data:a}))+"\n                                </span>\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("app/utils/search",["jquery","lodash","page_config","app/stock-portal","app/client","app/constants/assetTypeFilters","app/constants/searchFilters","app/constants/analytics","app/utils/routes","components/carousel/actions/assetsActions","lib/window","lib/analytics","lib/analytics/dunamis","lib/analytics/utils","lib/utils","lib/member","lib/contentDetails","lib/contentHelper","hbs!templates/search/recentSearches","app/utils/carousel"],function(e,t,n,a,i,s,r,o,l,c,u,d,p,h,f,_,m,E,g,v){"use strict";function b(e){var t=q.getState().filters,n=[];return t&&t[r.SIMILAR_CONTENT_ID]&&(n=t[r.SIMILAR_CONTENT_ID].toString().split(r.SIMILAR_CONTENT_ID_SEPARATOR)),-1!==n.indexOf(e.toString())}function T(){try{return JSON.parse(localStorage.getItem(W))||[]}catch(e){S()}}function I(t){var n;"string"==typeof t&&(t=t.trim(),t=t.replace(/\s+/g," ")),n=localStorage.getItem(W)||"[]",n=JSON.parse(n),t&&(-1!==e.inArray(t,n)?n.splice(n.indexOf(t),1):n.length>=K&&n.pop(),n.unshift(t),localStorage.setItem(W,JSON.stringify(n)))}function S(){var t,n=q.getState().view.recentSearches;localStorage.removeItem(W),t=T(),e(z).html(g({keywords:t,show:n}))}function y(e){var t=q.getState(),n=t.filters,a=t.page.filter_asset_type,i=parseInt(e,10)||1,o=n[r.PRICE]&&n[r.PRICE][r.PRICE_CLIENT_LOW]&&!n[r.PRICE][r.PRICE_CLIENT_HIGH];return v.isFreeBottomRailActive()||a===s.IMAGES&&1===i&&o?(q.dispatch(c.getAssets()),!0):(A(),!1)}function A(){q.dispatch(c.clearAssets())}function O(e){return null!==e&&!isNaN(e)&&7===e.length}function R(t,n){var a=e(".js-search-text-input"),i=p.constants,s={},r=a.val();s[i.EVENT_PARAMS.STOCK_SEARCH_KEYWORD]=r,s[i.VISUAL_SEARCH.FIND_SIMILAR_BY]=n||o.FSC_OPTIONS.FSC_OPTION_ALL,p.track(i.SEARCH_BEGIN,t,s,a)}function C(t,n,a){var i=e(".js-search-text-input"),s=p.constants,r={};r[s.VISUAL_SEARCH.FIND_SIMILAR_BY]=n||o.FSC_OPTIONS.FSC_OPTION_ALL,t==s.VISUAL_SEARCH.HOVER_FIND_SIMILAR?p.track(s.CLICK,t,r,a):p.track(s.CLICK,t,r,i)}function L(){var t=p.constants;p.track(t.SEARCH_BEGIN,t.ASSET_TYPE_CHANGE,{},e("body"))}function D(n){var a,i,s=q.getState(),o=p.constants,l=e(".js-search-input"),c=t.get(s,"filters.k",""),u=t.get(s.search,"items",{}),d=!Object.keys(u).length,_=n||f.getQueryParam(o.SEARCH_TYPE)||o.SEARCH_RESULTS_SUCCESS,m=f.getQueryParam(r.FIND_SIMILAR_BY);d||_===o.CONTENT_ID||(i=$.getSearchResultsBreakdownforDunamis(),a=t.get(s,"search.suggestedKeywords",null),i[o.VISUAL_SEARCH.FIND_SIMILAR_BY]=m,i[o.EVENT_PARAMS.STOCK_SEARCH_KEYWORD]=c,
i[o.EVENT_PARAMS.FILTERS]=t.get(s,"filters.filters"),i[o.EVENT_PARAMS.PAGE]=t.get(s,"pagination.page"),i[o.EVENT_PARAMS.SEARCH_CONTEXT_SEQUENCE]=h.generateUUID(),a&&(_=_===o.USERTYPED?o.AUTO_CORRECT:_,i[o.EVENT_PARAMS.SUGGESTED_KEYWORD]=a),$.isContentId(c)&&(_=o.CONTENT_ID),p.track(o.SEARCH_SUCCESS,_,i,l))}function N(e){var t={"3d":0,core_images:0,editorial_photos:0,editorial_videos:0,free:0,illustrations:0,photos:0,premium_3d:0,premium_photos:0,premium_template:0,template:0,vectors:0,video_4k:0,video_hd:0};return e.forEach(function(e){m.isImage(e)?(E.isCore(q,e)&&t.core_images++,m.getContentTypeId(e)===_.CONTENT_TYPE_ID_PHOTO?(t.photos++,m.isEditorial(e)?t.editorial_photos++:m.isPremium(e)&&t.premium_photos++):m.getContentTypeId(e)===_.CONTENT_TYPE_ILLUSTRATION?t.illustrations++:m.getContentTypeId(e)===_.CONTENT_TYPE_VECTOR&&t.vectors++):m.isVideo(e)?(m.getLargestVideoSize(e)===m.HIGHRES_SIZE_VIDEO_4K?t.video_4k++:m.getLargestVideoSize(e)===m.HIGHRES_SIZE_VIDEO_HD&&t.video_hd++,m.isEditorial(e)&&t.editorial_videos++):m.isTemplate(e)?(t.template++,m.isPremium(e)&&t.premium_template++):m.is3D(e)&&(t["3d"]++,m.isPremium(e)&&t.premium_3d++),m.isFree(e)&&t.free++}),t}function P(e){return m.getSortedContentArray(t.get(e,"items",{})).map(function(e){return e.content_id})}function M(){var e=q.getState(),n=p.constants,a={},i=P(e.search),s=t.get(e,"pagination.total",0),r=N(i);return a[n.EVENT_PARAMS.CONTENT_ID_LIST]=i,a[n.EVENT_PARAMS.RESULTS_COUNTS]=r,a[n.EVENT_PARAMS.TOTAL_SEARCH_RESULTS]=s,a}function w(n,a){var i=p.constants,s={},r=q.getState(),o=t.get(r,"filters.k","");s[i.EVENT_PARAMS.PAGE]=n,s[i.EVENT_PARAMS.STOCK_SEARCH_KEYWORD]=o,p.track(i.CLICK,i.PAGINATION,s,e(a)),p.track(i.SEARCH_BEGIN,i.PAGINATION,s,e(a))}function x(){return t.get(q.getState(),"page.filter_asset_type","")}function k(){var e={name:"SearchErrorAlert",alertBody:{id:"alert.alertBody.searchErrorAlert",defaultMessage:"We're experiencing some difficulties completing this search. Please try again in a few minutes."}};a.renderAlert(e)}function F(e,t){var n={name:"MoveToLibraryFailureAlert",alertBody:{id:"libraries.toast.title.moveFailureText",defaultMessage:"Could not move asset into "+t},variant:"error"};a.renderAlert(n)}function U(e,t){var n={name:"SaveToLibraryFailureAlert",alertBody:{id:"libraries.toast.title.saveFailureText",defaultMessage:"Could not save asset into "+t},variant:"error"};a.renderAlert(n)}function H(e){return e[r.NATIVE_VISUAL_SEARCH]="",e[r.SIMILAR_CONTENT_ID]="",e[r.MODEL_ID]="",e[r.SERIE_ID]="",n.is_mobile||(e[r.FIND_SIMILAR_BY]=""),e}function j(){var e=q.getState();return(t.get(e.filters,r.SIMILAR_CONTENT_ID,"").length||t.get(e.filters,r.NATIVE_VISUAL_SEARCH,"").length)>0}function V(e){var t=q.getState().details,n=t.selected,a=!(!n||!t[n])&&!!t[n].is_purchasable;return m.isPurchasable(e)||a}function Y(){if(f.getQueryParam("asset_id")){var e=u.getLocation("href").split("?"),t=e[1]?e[1]:"",n=f.removeQueryParam(t,"asset_id"),a=e[0]+"?"+n;u.pushState({asset_id:null},a,a)}}function G(e){if(!isNaN(parseInt(e))&&e.toString()===parseInt(e).toString()){if(f.getQueryParam("asset_id")!==e){var t=u.getLocation("href").split("?"),n=t[1]?t[1]:"",a=f.setQueryParam(n,"asset_id",e),i=t[0]+"?"+a;u.pushState({asset_id:e},i,i)}}}function B(t){var n=e(".js-search-text-input"),a=p.constants,i={};i[a.EVENT_PARAMS.QUERY_SUGGESTION_LIST]=t,p.track(a.VISUAL_SEARCH.IMPRESSIONS,a.QUERY_SUGGESTION,i,n)}var q=i.getInstance(),W="recent-searches-v1",K=5,z=".js-search-recent-container",Q=function(){var e=!1,t=q.getState(),n=t.page,a=t.filters,i=n.filter_asset_type===s.VIDEOS,o=a[r.PRICE]&&a[r.PRICE][r.PRICE_CLIENT_HIGH],l=a[r.FILTERS]&&a[r.FILTERS][r.EDITORIAL]==r.EDITORIAL_ON;return a[r.COLLECTION]&&(i||o||l)&&(e=!0),e},Z=function(){return q.getState().page.filter_asset_type===s.VIDEOS},X=function(){return q.getState().page.filter_asset_type===s.FREE},$={addRecentSearch:I,clearPremiumBottomRail:A,clearRecentSearches:S,getAssetType:x,getRecentSearches:T,idExistsInFindSimilar:b,isNonFmfPage:Q,isVideoAssetType:Z,isFreeAssetType:X,updatePremiumBottomRail:y,isContentId:O,logSimilarAnalyticsDunamis:R,handleClickSimilarAnalyticsDunamis:C,handleDunamisSuccessTracking:D,handleDunamisAssetDropdownChange:L,getSortedContentIds:P,getSearchResultsBreakdownforDunamis:M,handleDunamisPaginationTracking:w,showSearchErrorAlert:k,showMoveToLibraryFailureAlert:F,showSaveToLibraryFailureAlert:U,resetFindSimilarFilters:H,isVisualSearchActive:j,isPurchasableAsset:V,removeAssetIdQueryParamFromUrl:Y,updateAssetIdQueryParamToUrl:G,handleQuerySuggestionsAsynchronous:B,RECENT_SEARCHES_KEY:W};return $}),define("lib/videoThumbnail",["jquery","lib/analytics/dunamis"],function(e,t){"use strict";function n(n,a){var s=i.VISIT,r=a,o={};o[i.EVENT_PARAMS.VIDEO_DURATION]=n.duration,o[i.EVENT_PARAMS.VIDEO_PLAY_TIME]=n.currentTime,t.track(s,r,o,e(n))}function a(){e(".js-video-thumb").on("play",function(e){n(e.currentTarget,i.HOVER_VIDEO_START)}).on("pause ended",function(e){n(e.currentTarget,i.HOVER_VIDEO_STOP)})}var i=t.constants;return{initVideoAnalyticEvents:a}}),define("app/actions/searchActions",["jquery","lodash","app/actions/actionTypes","app/ajax/search","app/constants/searchFilters","app/utils/search","lib/ajax","lib/utils","page_config","app/constants/assetTypeFilters","lib/videoThumbnail"],function(e,t,n,a,i,s,r,o,l,c,u){"use strict";function d(e){var t={};e[i.PRICE]&&(e[i.PRICE][i.PRICE_CLIENT_LOW]&&(t[i.PRICE_SERVER_LOW]=e[i.PRICE][i.PRICE_CLIENT_LOW]),e[i.PRICE][i.PRICE_CLIENT_HIGH]&&(t[i.PRICE_SERVER_HIGH]=e[i.PRICE][i.PRICE_CLIENT_HIGH],t[i.PRICE_SERVER_MEDIUM]=e[i.PRICE][i.PRICE_CLIENT_HIGH])),Object.keys(t).length&&(e[i.PRICE]=t)}function p(e){e[i.FILTERS]&&e[i.FILTERS][i.CONTENT_TYPE_PHOTO]&&(f(e,i.VIVID_COLOR,i.VIVID_COLOR_DEFAULT_SCORING)||f(e,i.DEPTH_OF_FIELD,i.DEPTH_OF_FIELD_DEFAULT_SCORING))&&(e[i.FILTERS][i.CONTENT_TYPE_ILLUSTRATION]=0,e[i.FILTERS][i.CONTENT_TYPE_VECTOR]=0),!e[i.FILTERS]||1!=e[i.FILTERS][i.CONTENT_TYPE_ILLUSTRATION]&&1!=e[i.FILTERS][i.CONTENT_TYPE_VECTOR]||(e[i.SCORING]=void 0)}function h(e){var n=t.get(e,"filters",{}),a=t.get(e,"page.filter_asset_type",null);return t.get(n.filters,i.COPY_SPACE,null)&&(a===c.ALL?(n.filters[i.CONTENT_TYPE_IMAGE]=1,n.filters[i.CONTENT_TYPE_VIDEO]=0,n.filters[i.CONTENT_TYPE_TEMPLATE]=0,n.filters[i.CONTENT_TYPE_3D]=0,n.filters[i.CONTENT_TYPE_PHOTO]=1,n.filters[i.CONTENT_TYPE_ILLUSTRATION]=0,n.filters[i.CONTENT_TYPE_VECTOR]=0):a===c.IMAGES&&(n.filters[i.CONTENT_TYPE_PHOTO]=1,n.filters[i.CONTENT_TYPE_ILLUSTRATION]=0,n.filters[i.CONTENT_TYPE_VECTOR]=0)),n}function f(e,t,n){return!(!e[i.SCORING]||void 0===e[i.SCORING][t]||e[i.SCORING][t]===n)}function _(n,a){var i,r,o=n.pagination,c=n.page.filter_asset_type,u=e.extend(!0,{},n.filters,h(n)),f="templates"===c,_="3d"===c,m=s.isVisualSearchActive(),E=m&&(f||_);return a=a||{},"get_facets"in a||(a.get_facets=t.get(n,"view.metadata.filtersPanel.isVisible",!1)?1:0),E&&(a=s.resetFindSimilarFilters(a)),d(u),r=e.param(e.extend({},u,a||{})),p(u),i=e.extend({},u,{limit:t.get(l,"search_params.limit")},a),{pagination:o,assetType:c,searchParams:i,urlQuery:r,filters:u}}function m(e,t){var n=t.filters,a=n[i.CONTENT_TYPE_ILLUSTRATION]||n[i.CONTENT_TYPE_PHOTO]||n[i.CONTENT_TYPE_VECTOR],s=t.k,r=!n.is_editorial,o=y.has(l.locale_code.toLowerCase()),c=e.page.filter_asset_type,u="all"==c||"images"==c;return a&&s&&r&&o&&u}function E(e,t){return function(i,r){var o=r(),l=_(o,t);m(o,l.searchParams)?i({isHistoryNavigationSearch:e,newUrlQuery:l.urlQuery,promise:a.fetchQuerySuggestions(l.searchParams),searchFilters:l.searchParams,searchPagination:l.pagination,assetType:l.assetType,type:n.GET_QUERY_SUGGESTIONS_RESULTS}).then(function(e){s.handleQuerySuggestionsAsynchronous(e.result)}):i({type:n.CLEAR_QUERY_SUGGESTIONS})}}function g(e,t,i){return function(r,o){var l=_(o(),t);i=i||!1,r({isHistoryNavigationSearch:e,newUrlQuery:l.urlQuery,promise:a.fetchSearchResults(l.searchParams),searchFilters:l.searchParams,searchPagination:l.pagination,type:n.GET_SEARCH_RESULTS,assetType:l.assetType,forceSearchRoute:i}).fail(function(e){500===e.error.status&&s.showSearchErrorAlert()}).then(v(l.filters.k)).then(function(){s.handleDunamisSuccessTracking(),u.initVideoAnalyticEvents()})}}function v(e){return function(t){o.isObject(t)&&t.result&&o.isObject(t.result.items)&&Object.keys(t.result.items).length>0&&!t.result.suggest_used&&s.addRecentSearch(e)}}function b(){return{type:n.SHOW_RECENT_SEARCHES}}function T(){return{type:n.HIDE_RECENT_SEARCHES}}function I(){return{type:n.SET_ASSET_TYPE_TO_PREMIUM}}function S(e){return{value:e,type:n.UPDATE_ASSET_ID}}var y=new Set(["en_us","ee","gr_en","lv","lt","hu","mt","ro","si","sk","fi","bg","au","nz","th","hk"]);return{getSearchResults:g,hideRecentSearches:T,processFilters:d,showRecentSearches:b,getQuerySuggestionsResults:E,getSearchDispatchData:_,shouldRequestQuerySuggestions:m,isAestheticFilterEnabled:f,processAestheticFilters:p,addRecentSearchCallback:v,setAssetTypeToPremium:I,processCopySpaceFilter:h,updateAssetID:S}}),define("hbs!templates/search/thumbsPreview",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return null!=(i=t.each.call(e,null!=e?e.thumbs:e,{name:"each",hash:{},fn:this.program(2,a,0),inverse:this.noop,data:a}))?i:""},2:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n.thumbPreview,e,{name:"thumbPreview",hash:{src:null!=e?e.src:e,max_find_similar:(i=a&&a.root)&&i.max_find_similar,id:null!=e?e.id:e,alt:null!=e?e.alt:e},data:a,indent:"        ",helpers:t,partials:n}))?i:""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.thumbs:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:""},usePartial:!0,useData:!0})}),define("hbs!templates/search/thumbPreview",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return"js-show-tooltip-on-hover"},3:function(e,t,n,a){return"opacity-half"},5:function(e,t,n,a){return"inactive-"},7:function(e,t,n,a){return"transparent-overlay"},9:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n.thumbPreviewInactiveTooltip,e,{name:"thumbPreviewInactiveTooltip",hash:{max_find_similar:null!=e?e.max_find_similar:e},data:a,indent:"    ",helpers:t,partials:n}))?i:""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div class="container-relative container-inline-block thumb-badge '+(null!=(i=t.if.call(e,null!=e?e.inactive:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'" data-t="thumb-badge">\n    <div class="'+(null!=(i=t.if.call(e,null!=e?e.inactive:e,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+'">\n        <div class="padding-left-small">\n            <span class="v-align margin-left-medium">\n                <a class="js-'+(null!=(i=t.if.call(e,null!=e?e.inactive:e,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+"thumb-badge-close container-inline-block no-font-size strong-white-overlay circle "+(null!=(i=t.if.call(e,null!=e?e.inactive:e,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.noop,data:a}))?i:"")+'" data-id="'+this.escapeExpression((s=null!=(s=t.id||(null!=e?e.id:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"id",hash:{},data:a}):s))+'">\n                    <span class="black-text">\n                        <i class="mti-icon icon-close"></i>\n                    </span>\n                </a>\n            </span>\n            <img alt="'+this.escapeExpression((s=null!=(s=t.alt||(null!=e?e.alt:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"alt",hash:{},data:a}):s))+'" class="thumb-badge__image" src="'+this.escapeExpression((s=null!=(s=t.src||(null!=e?e.src:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"src",hash:{},data:a}):s))+'"/>\n        </div>\n    </div>\n'+(null!=(i=t.if.call(e,null!=e?e.inactive:e,{name:"if",hash:{},fn:this.program(9,a,0),inverse:this.noop,data:a}))?i:"")+"</div>\n"},usePartial:!0,useData:!0})}),define("hbs!templates/search/thumbPreviewInactiveTooltip",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="container-absolute h-align js-inactive-tooltip" data-is-visible="false">\n    <div class="padding-top-large"></div>\n    <div class="menu container-relative">\n        <div class="menu__arrow menu__arrow--top menu__arrow--center"></div>\n        <div class="padding-left-large padding-right-large padding-top-small padding-bottom-small">\n            <p class="no-margin normal-whitespace thumb-badge__tooltip">\n                '+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"SEARCH::FIND_SIMILAR::TOOLTIP::We currently support a maximum of %s%s images%s for similarity search.",{name:"_",hash:{},data:a}),"<strong>",null!=e?e.max_find_similar:e,"</strong>",{name:"sprintf",hash:{},data:a}))?i:"")+"\n            </p>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("app/actions/filterActions",["jquery","page_config","app/actions/actionTypes","app/constants/assetTypeFilters","app/actions/searchActions","app/ajax/search","app/constants/searchFilters","app/utils/searchData"],function(e,t,n,a,i,s,r,o){"use strict";function l(t){var n=t&&t[r.PRICE],a={};n&&(n[r.PRICE_CLIENT_HIGH]?(n[r.PRICE_CLIENT_HIGH]=1,n[r.PRICE_CLIENT_LOW]=0):n[r.PRICE_CLIENT_LOW]?(n[r.PRICE_CLIENT_HIGH]=0,n[r.PRICE_CLIENT_LOW]=1):n[r.PRICE_CLIENT_ALL]&&(n[r.PRICE_CLIENT_HIGH]=0,n[r.PRICE_CLIENT_LOW]=0,n[r.PRICE_CLIENT_ALL]=0),a[r.PRICE_SERVER_LOW]=n[r.PRICE_CLIENT_LOW],a[r.PRICE_SERVER_MEDIUM]=n[r.PRICE_CLIENT_HIGH],a[r.PRICE_SERVER_HIGH]=n[r.PRICE_CLIENT_HIGH],t[r.PRICE]=e.extend({},n,a))}function c(e){var t=e&&e[r.FILTERS];t&&(t[r.VIDEO_IS_ALL]?(t[r.VIDEO_IS_4K]=0,t[r.VIDEO_IS_ALL]=void 0):t[r.VIDEO_IS_4K]&&(t[r.VIDEO_IS_4K]=1))}function u(e){var t=e&&e[r.FILTERS];t&&(t[r.RELEASES_ALL]?(t[r.INCLUDE_PEOPLE]=1,t[r.EXCLUDE_PEOPLE]=1,t[r.RELEASES_ALL]=0):t[r.EXCLUDE_PEOPLE]?(t[r.INCLUDE_PEOPLE]=0,t[r.EXCLUDE_PEOPLE]=1):t[r.INCLUDE_PEOPLE]&&(t[r.INCLUDE_PEOPLE]=1,t[r.EXCLUDE_PEOPLE]=0))}function d(e){var t={};switch(e){case r.ILLUSTRATIVE_INCLUDE:t[r.ILLUSTRATIVE]=r.ILLUSTRATIVE_INCLUDE;break;case r.ILLUSTRATIVE_EXCLUDE:t[r.ILLUSTRATIVE]=r.ILLUSTRATIVE_EXCLUDE;break;case r.ILLUSTRATIVE_ALL:t[r.ILLUSTRATIVE]=r.ILLUSTRATIVE_ALL}return{filters:t,type:n.UPDATE_ILLUSTRATIVE_FILTER}}function p(e){var t={};return 1===e&&(t[r.ISOLATED]=r.ISOLATED_ONLY),{filters:t,type:n.UPDATE_ISOLATED_FILTER}}function h(e){var t={};return 1===e&&(t[r.UNDISCOVERED]=r.UNDISCOVERED_ONLY),{filters:t,type:n.UPDATE_UNDISCOVERED_FILTER}}function f(e){e&&e[r.CATEGORY]===r.CATEGORIES_ALL&&(e[r.CATEGORY]="")}function _(e){return l(e),c(e),u(e),f(e),d(e),{filters:e||{},type:n.UPDATE_SEARCH_FILTERS}}function m(e){var t={};return t[r.CONTENT_TYPE_IMAGE]=1,t[r.CONTENT_TYPE_VIDEO]=o.shouldShowAssetTypesFilterVideo(e)?1:0,t[r.CONTENT_TYPE_3D]=o.shouldShowAssetTypesFilter3d(e)?1:0,t[r.CONTENT_TYPE_TEMPLATE]=o.shouldShowAssetTypesFilterTemplates(e)?1:0,t}function E(e,t){var a={},i=e[r.CONTENT_TYPE_ALL],s=e[r.CONTENT_TYPE_IMAGE],o=e[r.CONTENT_TYPE_VIDEO],l=e[r.CONTENT_TYPE_3D],c=e[r.CONTENT_TYPE_TEMPLATE];return a[r.CONTENT_TYPE_IMAGE]=0,a[r.CONTENT_TYPE_VIDEO]=0,a[r.CONTENT_TYPE_3D]=0,a[r.CONTENT_TYPE_TEMPLATE]=0,s?a[r.CONTENT_TYPE_IMAGE]=1:o?a[r.CONTENT_TYPE_VIDEO]=1:l?a[r.CONTENT_TYPE_3D]=1:c?a[r.CONTENT_TYPE_TEMPLATE]=1:i&&(a=m(t)),{filters:a,all:i,type:n.UPDATE_ASSET_TYPE_FILTER}}function g(e){return{filters:m(e),type:n.CLEAR_ASSET_TYPE_BREADCRUMB}}function v(t,i){var s=e.extend({},t);return i!==a.IMAGES&&(s[r.CONTENT_TYPE_IMAGE]=1,s[r.CONTENT_TYPE_VIDEO]=0,s[r.CONTENT_TYPE_TEMPLATE]=0,s[r.CONTENT_TYPE_3D]=0),{filters:s,type:n.UPDATE_IMAGE_SUBCATEGORY_FILTER}}function b(e,t){return{filter:{key:e,value:t},type:n.CLEAR_BREADCRUMB_FILTER}}function T(e){return{data:e||{},type:n.CLEAR_SEARCH_FILTERS}}function I(){return function(t,a){var r,o=a();r=e.extend({},o.filters),i.processFilters(r),i.processAestheticFilters(r),t({promise:s.fetchSearchFacets(r),type:n.OPEN_FILTERS_PANEL})}}function S(){return{type:n.CLOSE_FILTERS_PANEL}}function y(e,t){return{frameRates:e,areAllSelected:t,type:n.UPDATE_FRAME_RATE_FILTER}}function A(e){return{shotSize:e,type:n.UPDATE_SHOT_SIZE_FILTER}}function O(e){return{shotAngle:e,type:n.UPDATE_SHOT_ANGLE_FILTER}}function R(e,t){return{min:void 0!==e?e:r.VIDEO_DURATION_DEFAULT_MIN,max:void 0!==t?t:r.VIDEO_DURATION_DEFAULT_MAX,type:n.UPDATE_DURATION_FILTER}}function C(e){return{value:e[r.COPY_SPACE_ALL]?r.COPY_SPACE_ALL:"",type:n.UPDATE_COPY_SPACE_FILTER}}function L(e){var t,a=e[r.COPY_SPACE_MANUFACTURED],i=e[r.COPY_SPACE_NATURAL];return t=i&&a?r.COPY_SPACE_ALL:a?r.COPY_SPACE_MANUFACTURED:i?r.COPY_SPACE_NATURAL:"",{value:t,type:n.UPDATE_COPY_SPACE_FILTER}}function D(e,t,a,i){var s={type:n.UPDATE_SIZE_FILTER,value:{}};return e===r.SIZE_PIXELS?(s[r.SIZE]=r.SIZE_PIXELS,t&&(s.value[r.SIZE_PIXELS_WIDTH_MIN]=t),a&&(s.value[r.SIZE_PIXELS_HEIGHT_MIN]=a)):e===r.SIZE_MEGA_PIXELS&&(s[r.SIZE]=r.SIZE_MEGA_PIXELS,i&&(s.value[r.SIZE_MEGA_PIXELS_MIN]=i)),s}return{clearAssetTypeBreadcrumb:g,clearBreadcrumbFilter:b,clearSearchFilters:T,closeFiltersPanel:S,openFiltersPanel:I,updateAssetTypeFilter:E,toggleCopySpaceFilter:C,updateCopySpaceFilterType:L,updateDurationFilter:R,updateImageSubcategoryFilter:v,updateFrameRateFilter:y,updateShotSizeFilter:A,updateShotAngleFilter:O,updateSearchFilters:_,updateSizeFilter:D,updateVideoSubcategory:c,updateIsolatedMapping:p,updateUndiscoveredMapping:h,updateIllustrativeMapping:d}}),define("app/actions/multiImageActions",["jquery","page_config","app/actions/actionTypes","app/constants/searchFilters","app/constants/assetTypeFilters","lodash","app/utils/searchData"],function(e,t,n,a,i,s,r){"use strict";function o(e,t){var n,i="",s=[];return e&&(n=t.toString(),n&&(s=n.split(a.SIMILAR_CONTENT_ID_SEPARATOR)),s.length>=a.MAX_FIND_SIMILAR_IMAGES&&s.shift(),s.push(e),i=s.join(a.SIMILAR_CONTENT_ID_SEPARATOR)),{similarContentId:i}}function l(e,i,s){return function(o,l){var c,u=l(),d=u.filters;return s=s||{},i=i||{},s[a.NATIVE_VISUAL_SEARCH]?(s[a.SIMILAR_CONTENT_ID]="",i[a.NATIVE_VISUAL_SEARCH]=s[a.NATIVE_VISUAL_SEARCH]):s[a.SIMILAR_CONTENT_ID]=e,s[a.FIND_SIMILAR_BY]=s[a.FIND_SIMILAR_BY]||"all",i[a.FIND_SIMILAR_BY]=s[a.FIND_SIMILAR_BY]||"all",!t.is_mobile&&r.isAestheticFilterSet(d)&&delete d.scoring,c={contentId:Number(e),multiImage:i,searchFilters:s||{},type:n.MULTI_IMAGE_ADD,isVideo:!!i&&i.isVideo,allFilters:d},o(c)}}function c(e){return function(t,a){return t({contentId:e,type:n.MULTI_IMAGE_REMOVE})}}function u(e,s,r){var o={type:n.MULTI_IMAGE_UPLOAD,src:e};if(!t.is_mobile){switch(r){case i.ALL:case i.PREMIUM:s[a.CONTENT_TYPE_IMAGE]=1,s[a.CONTENT_TYPE_PHOTO]=1,s[a.CONTENT_TYPE_ILLUSTRATION]=0,s[a.CONTENT_TYPE_VECTOR]=0,s[a.CONTENT_TYPE_VIDEO]=0,s[a.CONTENT_TYPE_TEMPLATE]=0,s[a.CONTENT_TYPE_3D]=0;break;case i.EDITORIAL:s[a.CONTENT_TYPE_IMAGE]=1,s[a.CONTENT_TYPE_VIDEO]=0;break;case i.IMAGES:s[a.CONTENT_TYPE_PHOTO]=1,s[a.CONTENT_TYPE_ILLUSTRATION]=0,s[a.CONTENT_TYPE_VECTOR]=0}o.filters=s,o.filter_asset_type=r}return o}function d(e,t){return{type:n.UPDATE_FIND_SIMILAR_BY,id:e,findSimilarBy:t}}return{multiImageAdd:l,multiImageRemove:c,multiImageUpload:u,updateFindSimilarBy:d,getNewSimilarIds:o}}),define("app/actions/historyActions",["jquery","page_config","app/constants/searchFilters","app/actions/actionTypes","lib/utils","lodash"],function(e,t,n,a,i,s){"use strict";function r(e){var t=e&&e[n.PRICE];t&&(t[n.PRICE_SERVER_HIGH]&&(t[n.PRICE_CLIENT_HIGH]=1),t[n.PRICE_SERVER_LOW]&&(t[n.PRICE_CLIENT_LOW]=1))}function o(){return function(t,n){var s=window.location,o=0===s.search.indexOf("?")?s.search.substr(1):s.search,l=n().history.paramHistory[o]||{},c=e.extend({},l),u=c.pagination,d=c.filters,p=c.assetType,h=c.title,f=c.url;r(d),t({pastKeyword:d?d.k:i.getQueryParam("k"),previousAssetType:p,previousFilters:d,previousPagination:u,previousTitle:h,previousUrl:f,shouldSkipUrl:!0,type:a.NAVIGATE_SEARCH_HISTORY})}}function l(){return function(t,n){var o,l,c,u,d,p,h,f=n(),_=s.get(f,"history.paramHistory",null);Object.keys(_).length>1&&(l=Object.keys(_).slice(-2,-1)[0],o=_[l],_=e.extend({},o),c=_.pagination,u=_.filters,d=_.assetType,p=_.title,h=_.url),r(u),t({type:a.ALERT_UNDO_ACTION,pastKeyword:u?u.k:i.getQueryParam("k"),previousAssetType:d,previousFilters:u,previousPagination:c,previousTitle:p,previousUrl:h,shouldSkipUrl:!1})}}return{navigateSearchHistory:o,undoAction:l}}),define("lib/licenseHistory/uiEvents",["vendor/backbone-events-standalone"],function(e){"use strict";return e.mixin({TAB_CHANGED:"license_history_tab_changed",UI_IS_LOADING:"license_history_ui_loading",SEARCH_BEGIN:"license_history_search_begin"})}),define("components/search/searchHelper",["jquery","lodash","page_config","i18n-config","app/client","app/actions/searchActions","app/utils/search","app/utils/routes","app/utils/searchData","lib/utils","lib/contentDetails","lib/window","hbs!templates/search/thumbsPreview","hbs!templates/search/thumbPreview","hbs!templates/search/thumbPreviewInactiveTooltip","app/constants/searchFilters","app/actions/filterActions","app/actions/multiImageActions","lib/analytics","lib/analytics/dunamis","app/stock-portal","app/actions/historyActions","app/constants/analytics","app/constants/assetTypeFilters","lib/licenseHistory/uiEvents"],function(e,t,n,a,i,s,r,o,l,c,u,d,p,h,f,_,m,E,g,v,b,T,I,S,y){"use strict";function A(){b.closeAlert()}function O(){var e=oe.getState(),a={items:{},details:{selected:null},filters:{filters:{"content_type:photo":0,"content_type:illustration":0,"content_type:zip_vector":0,"content_type:video":0,"content_type:template":0,"content_type:3d":0,"content_type:image":0,is_editorial:0,include_stock_enterprise:0},k:"",similar_content_id:null},page:{filter_asset_type:"",isUsingAjax:!1,isMultiImageFSCEnabled:!1}};return a.items=u.getContentDataDic()||{},a.filters.filters["content_type:photo"]=t.get(e,"filters.filters.content_type:photo",0),a.filters.filters["content_type:illustration"]=t.get(e,"filters.filters.content_type:illustration",0),a.filters.filters["content_type:zip_vector"]=t.get(e,"filters.filters.content_type:zip_vector",0),a.filters.filters["content_type:video"]=t.get(e,"filters.filters.content_type:video",0),a.filters.filters["content_type:template"]=t.get(e,"filters.filters.content_type:template",0),a.filters.filters["content_type:3d"]=t.get(e,"filters.filters.content_type:3d",0),a.filters.filters["content_type:image"]=t.get(e,"filters.filters.content_type:image",0),a.filters.filters.is_editorial=t.get(e,"filters.filters.is_editorial",0),a.filters.filters.include_stock_enterprise=t.get(e,"filters.filters.include_stock_enterprise",0),a.filters.k=t.get(e,"filters.k",""),a.filters.similar_content_id=t.get(e,"filters.similar_content_id",null),a.page.filter_asset_type=t.get(e,"page.filter_asset_type",""),a.page.isUsingAjax=t.get(n,"isUsingAjax",!1),a.page.isMultiImageFSCEnabled=t.get(n,"isMultiImageFSCEnabled",!1),a.details=t.get(e,"details",{selected:null}),a}function R(e){return e[_.COLLECTION]?"collections":e[_.SERIE_ID]?"series":e[_.AUTHOR]?"portfolio":e[_.MODEL_ID]?"model":null}function C(e){return e.match(/^\/Member\/LicenseHistory/)}function L(){var t,n=oe.getState(),a=n.search,i=n.page.filter_asset_type,s=a.facets&&a.facets.asset_type?a.facets.asset_type:{},r=s&&s.video?s.video:0,o=v.constants;r>0&&(t=o.ASSET_TYPE_LINK_VIDEO),t&&i===S.ALL&&v.track(o.VISUAL_SEARCH.IMPRESSIONS,t,{},e("body"))}function D(t,s){var r,o,l,u="",d=[],m=i.getInstance().getState(),E=m.view.multiImage,g=[],v=[];if(t){for(d=t.toString().split(_.SIMILAR_CONTENT_ID_SEPARATOR),o=d.length-1;o>=0;o--)r=Number(d[o]),(u=c.getValueFromArrayById(E.metadata,"contentId",r))&&(g.push({alt:u.title,id:r,src:u.thumbnail}),n.isStockPanelEnabled&&!s?(l=ee(u),v={similarContentId:t,imgUrl:u.content_url,imgThumbnailUrl:u.thumbnail_240,hideComposition:l,findSimilarBy:u.findSimilarBy||m.filters.find_similar_by},b.renderFindSimilarControlsPanel(v)):b.renderFindSimilarControlsPanel());e(re).html(p({max_find_similar:a.gettext("SEARCH::FIND_SIMILAR::TOOLTIP::MAX_IMAGES::two"),thumbs:g},{partials:{thumbPreview:h,thumbPreviewInactiveTooltip:f}}))}else N()}function N(){e(re).html("")}function P(){return oe.getState().filters[_.SIMILAR_CONTENT_ID]||""}function M(e){return!(e&&e.length>1024)}function w(){return oe.getState().filters[_.COLLECTION]}function x(e){var a={thumbnail:e.content_thumb_url||t.get(e,"src",""),thumbnail_240:e.thumbnail_url||t.get(e,"src",""),title:e.title||"",content_url:e.content_url,contentId:e.content_id};return n.is_mobile||(a.isVideo=e.is_video),a}function k(){var n,a,i=oe.getState(),s=null,r=t.get(i,"history.paramHistory",null);return r&&Object.keys(r).length>1&&(a=Object.keys(r).slice(-2,-1)[0],n=r[a],r=e.extend({},n),s=r.url+"?"+a),s}function F(e){var t=o.getSearchRoute(e);return void 0===t&&(t="/search"),n.base_url+t}function U(e){var t=e.assetType,n=e.keywords,a=F(t);return se.validateKeyword(n)&&(a=encodeURI(a+"?k="+n)),a}function H(){j(),A()}function j(){se.performActionAndSearch(T.undoAction(),!1,{search_page:c.getQueryParam("search_page")})}function V(){var e={name:"IncompatibleFiltersAlert",alertType:"undo",alertBody:{id:"alert.alertBody.fscIncompatibleFiltersApplied",defaultMessage:"Some filters you selected are unavailable when performing a Find Similar or Visual Search and have been removed."}};b.renderAlert(e)}function Y(){var e={name:"IncompatibleFSCCompositionAlert",alertType:_.ALERT_ACTION_UNDO,alertBody:{id:"alert.alertBody.fscIncompatibleCompositionApplied",defaultMessage:"Find Similar Composition is unavailable when searching for Video assets and has been removed."}};b.renderAlert(e)}function G(e){var t={name:"IncompatibleAssetAlert",alertType:e,alertBody:{id:"alert.alertBody.fscIncompatibleAsset3DApplied",defaultMessage:"Find Similar is unavailable when searching for 3D assets. To search with this image, please select a different content type."}};b.renderAlert(t)}function B(e){var t={name:"IncompatibleAssetAlert",alertType:e,alertBody:{id:"alert.alertBody.fscIncompatibleAssetTemplatesApplied",defaultMessage:"Find Similar is unavailable when searching for Template assets. To search with this image, please select a different content type."}};b.renderAlert(t)}function q(e){if(!e)return!1;var t=e.toString();return(se.getSimilarContentId().toString().split(_.SIMILAR_CONTENT_ID_SEPARATOR)||[]).indexOf(t)>-1}function W(){var e=oe.getState(),n="templates"===t.get(e,"page.filter_asset_type",""),a=1===l.getEnabledAssetContentTypeFilters(e).length&&!!t.get(e,"filters.filters.content_type:template",!1);return n||a}function K(){var e=oe.getState(),n="3d"===t.get(e,"page.filter_asset_type",""),a=1===l.getEnabledAssetContentTypeFilters(e).length&&!!t.get(e,"filters.filters.content_type:3d",!1);return n||a}function z(){return W()||K()}function Q(t){var n=e(t.currentTarget).data("id").toString(),a={},i=oe.getState().filters[_.NATIVE_VISUAL_SEARCH],s={},r=v.constants,o=document.querySelector('input[name="fsc-options-'+n+'"]:checked'),l=o?o.value:"",c=r.VISUAL_SEARCH.CLOSE_VISUAL_SEARCH_TILE;localStorage.getItem(_.FSC_IMAGE)&&localStorage.removeItem(_.FSC_IMAGE),i===n?a[_.NATIVE_VISUAL_SEARCH]="":(oe.dispatch(E.multiImageRemove(n)),a[_.SIMILAR_CONTENT_ID]=P()),a[_.FIND_SIMILAR_BY]="",l&&(s[r.VISUAL_SEARCH.FIND_SIMILAR_BY]=l,a[r.SEARCH_TYPE]=c,v.track(r.CLICK,c,s,e("body")),v.track(r.SEARCH_BEGIN,c,s,e("body"))),se.performSearch(!1,a)}function Z(e){var n=_.FILTERS+"."+_.KEYWORD,a=oe.getState(),i=t.get(a,n);!t.isEqual(i,e)&&l.isFindSimilarControlsSearch(a)&&b.renderFindSimilarControlsPanel()}function X(e){return e[_.SIMILAR_CONTENT_ID]="",e[_.SERIE_ID]="",e}function $(e){return e[_.SIMILAR_CONTENT_ID]="",e[_.MODEL_ID]="",e}function J(e){var t=oe.getState(),n=t.details&&t.details.selected;return n&&n===e?t.details[n]:u.getContentData(e)}function ee(e){var n=oe.getState(),a=t.get(e,"is_video",!1)||t.get(e,"isVideo",!1),i="videos"===t.get(n,"page.filter_asset_type",""),s=1===l.getEnabledAssetContentTypeFilters(n).length&&!!t.get(n,"filters.filters.content_type:video",!1);return a||i||s}function te(){return(t.get(oe.getState().filters,_.FIND_SIMILAR_BY,"").length?t.get(oe.getState().filters,_.FIND_SIMILAR_BY):I.FSC_OPTIONS.FSC_OPTION_ALL)===I.FSC_OPTIONS.FSC_OPTION_COMPOSITION}function ne(e){var n=oe.getState();return t.get(n,["details",e,"is_vector"],!1)}function ae(){var e=d.getLocation("pathname");return(e.includes("/Member/LicenseHistory")||e.includes("/Member/EnterpriseReport"))&&n.isLicenseHistorySearchUIEnabled}function ie(e){y.trigger(y.SEARCH_BEGIN,e)}var se,re=".js-thumbs-container",oe=i.getInstance(),le=function(e,t,a){var i,r=oe.getState().pagination,o=t||{};se.closeAlertHandler(),o.search_page=o.search_page?o.search_page:r.page,i=s.getSearchResults(e,o,a),n.isQISAsyncEnabled&&oe.dispatch(s.getQuerySuggestionsResults(e,o,a)),oe.dispatch(i),c.scrollToTop()},ce=function(e){var t=!1;return e.facets&&e.facets.asset_type&&(t=!0),t};return se={thumbPreviewSelector:re,performSearch:le,togglePreviewThumbs:D,removePreviewThumb:N,getSimilarContentId:P,performActionAndSearch:function(e,t,n,a){t=t||!1,n=n||{},oe.dispatch(e),le(t,n,a)},getCollectionId:w,getMultiImageMetadata:x,showIncompatibleFiltersAlert:V,idExistsInSimilarContent:q,clearFilters:function(e){var n=oe.getState();se.performActionAndSearch(m.clearSearchFilters({filter_asset_type:t.get(n,"page.filter_asset_type",""),similar_content_id:t.get(n,"filters.similar_content_id",""),native_visual_search:t.get(n,"filters.native_visual_search",""),serie_id:t.get(n,"filters.serie_id",""),model_id:t.get(n,"filters.model_id","")}),!1,e)},handleFindSimilarCloseClick:Q,renderFindSimilarControlsOnKeywordChange:Z,undoClickHandler:H,closeAlertHandler:A,getSelectedContentData:J,shouldHideFscComposition:ee,shouldRemoveFSCTile:z,getPreviousUrl:k,resetSeeMoreSeriesFilters:X,resetSeeMoreModelFilters:$,showIncompatibleFSCCompositionAlert:Y,isFSCCompositionOptionSelected:te,isFSCIncompatible3DSet:K,isFSCIncompatibleTemplateSet:W,showIncompatible3DAssetAlert:G,showIncompatibleTemplatesAssetAlert:B,getSearchUrlForAssetType:F,getSearchUrlWithQueryParams:U,getActiveSearchPill:R,getVisualSearchModalData:O,isInLicenseHistoryContext:C,validateKeyword:M,isMoreFromSeriesVector:ne,shouldUpdateAssetTypeFacets:ce,trackDisplayedSrpViewLinks:L,shouldSearchInLicenseHistory:ae,performSearchInLicenseHistory:ie}}),define("hbs!templates/detailPanel/vectorDownloadSettings",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'    <div class="margin-top-medium container-table">\n        <div class="container-table-row">\n            <div class="text-small grey dove-text">\n                <span data-t="vector-download-choice-text">\n'+(null!=(i=t.if.call(e,null!=e?e.isLicensed:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.program(7,a,0),data:a}))?i:"")+(null!=(i=t.unless.call(e,null!=e?e.vectorDownloadChoice:e,{name:"unless",hash:{},fn:this.program(12,a,0),inverse:this.noop,data:a}))?i:"")+'                </span>\n                <span class="grey bon-jour-text margin-left-xsmall">|</span>\n                <button class="js-vector-download-settings-button" data-t="vector-download-settings-button" data-ingest-clicktype="vector-download-settings">\n                    <i class="mti-icon icon-settings"></i>\n                    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"DETAIL::PANEL::BUTTON::Settings",{name:"_",hash:{},data:a}))+"\n                </button>\n            </div>\n        </div>\n    </div>\n\n"+(null!=(i=t.if.call(e,null!=e?e.shouldShowVectorDownloadSettingsModal:e,{name:"if",hash:{},fn:this.program(14,a,0),inverse:this.noop,data:a}))?i:"")},2:function(e,t,n,a){var i;return(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"vector",logic:"eq",value:null!=e?e.vectorDownloadChoice:e},fn:this.program(3,a,0),
inverse:this.noop,data:a}))?i:"")+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"jpeg",logic:"eq",value:null!=e?e.vectorDownloadChoice:e},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")},3:function(e,t,n,a){return"                            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"DETAIL::PANEL::Download File Type: Vector",{name:"_",hash:{},data:a}))+"\n"},5:function(e,t,n,a){return"                            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"DETAIL::PANEL::Download File Type: JPEG",{name:"_",hash:{},data:a}))+"\n"},7:function(e,t,n,a){var i;return(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"vector",logic:"eq",value:null!=e?e.vectorDownloadChoice:e},fn:this.program(8,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"jpeg",logic:"eq",value:null!=e?e.vectorDownloadChoice:e},fn:this.program(10,a,0),inverse:this.noop,data:a}))?i:"")},8:function(e,t,n,a){return"                            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"DETAIL::PANEL::License File Type: Vector",{name:"_",hash:{},data:a}))+"\n"},10:function(e,t,n,a){return"                            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"DETAIL::PANEL::License File Type: JPEG",{name:"_",hash:{},data:a}))+"\n"},12:function(e,t,n,a){return"                        "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"DETAIL::PANEL::Vector and JPEG files included with both licenses",{name:"_",hash:{},data:a}))+"\n"},14:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["components/vectorDownloadSettingsModal"],e,{name:"components/vectorDownloadSettingsModal",data:a,indent:"        ",helpers:t,partials:n}))?i:""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=(t["if-all-true"]||e&&e["if-all-true"]||t.helperMissing).call(e,null!=e?e.isVectorJpegEnabled:e,null!=e?e.isVector:e,{name:"if-all-true",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:""},usePartial:!0,useData:!0})}),define("hbs!templates/components/vectorDownloadSettingsModal",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return'                                checked="checked"\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="mti-modal modal--with-header" data-t="vector-download-settings-modal">\n    <div class="modal__body text-sregular">\n        <i\n            class="modal__close mti-icon icon-close js-vector-download-close-button"\n            data-t="vector-download-settings-close-btn"\n            data-ingest-clicktype="vector-download-settings-modal-close"\n        ></i>\n        <div class="modal__header">\n            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::SETTINGS::Vector Download Settings",{name:"_",hash:{},data:a}))+'\n        </div>\n        <div class="modal__content grey heavy-metal-text left-align">\n            <div class="padding-medium">\n                <div class="margin-bottom-medium">\n                    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::SETTINGS::What file type do you want to download?",{name:"_",hash:{},data:a}))+'\n                </div>\n                <div class="margin-bottom-small">\n                    <label class="switch grey heavy-metal-text" data-ingest-clicktype="vector-download-settings-modal-always-vector">\n                        <input\n                            type="radio"\n                            name="vector_download_choice"\n                            data-t="vector-download-settings-vector-radio"\n                            class="js-vector-download-option"\n                            value="vector"\n'+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"vector",logic:"eq",value:null!=e?e.vectorDownloadChoice:e},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+"                        />\n                        <strong>\n                            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::SETTINGS::Always download vector file type",{name:"_",hash:{},data:a}))+'\n                        </strong>\n                    </label>\n                </div>\n                <div class="margin-bottom-small">\n                    <label class="switch grey heavy-metal-text" data-ingest-clicktype="vector-download-settings-modal-always-jpeg">\n                        <input\n                            type="radio"\n                            name="vector_download_choice"\n                            data-t="vector-download-settings-jpeg-radio"\n                            class="js-vector-download-option"\n                            value="jpeg"\n'+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"jpeg",logic:"eq",value:null!=e?e.vectorDownloadChoice:e},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+"                        />\n                        <strong>\n                            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::SETTINGS::Always download JPEG file type",{name:"_",hash:{},data:a}))+'\n                        </strong>\n                    </label>\n                </div>\n                <div>\n                    <label class="switch grey heavy-metal-text" data-ingest-clicktype="vector-download-settings-modal-always-ask">\n                        <input\n                            type="radio"\n                            name="vector_download_choice"\n                            data-t="vector-download-settings-always-ask-radio"\n                            class="js-vector-download-option"\n                            value=""\n'+(null!=(i=t.unless.call(e,null!=e?e.vectorDownloadChoice:e,{name:"unless",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+"                        />\n                        <strong>\n                            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::SETTINGS::Ask me every time",{name:"_",hash:{},data:a}))+'\n                        </strong>\n                    </label>\n                    <div class="text-small padding-left-large">\n                        '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::SETTINGS::Whenever you download a licensed vector image, well ask you which file type youd like to download.",{name:"_",hash:{},data:a}))+'\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="modal__footer">\n            <button class="button button--dialog js-vector-download-save" data-t="vector-download-settings-save-btn" data-ingest-clicktype="vector-download-settings-modal-save">\n                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::SETTINGS::Save",{name:"_",hash:{},data:a}))+"\n            </button>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("components/vectorDownloadSettings",["jquery","page_config","app/client","app/actions/detailsActions","app/constants/localStorage","app/utils/observer","lib/contentDetails","components/search/searchHelper","hbs!templates/detailPanel/vectorDownloadSettings","hbs!templates/components/vectorDownloadSettingsModal"],function(e,t,n,a,i,s,r,o,l,c){"use strict";function u(){return e('input[name="'+v+'"]:checked').val()}function d(){return e('input[name="'+b+'"]:checked').length}function p(e){var n=window&&window.localStorage,a=n&&n.getItem(i.VECTOR_DOWNLOAD_CHOICE_KEY);return e&&t.isVectorJpegEnabled&&!a}function h(e,n){return t.isVectorJpegEnabled&&"jpeg"===e?n+"?vector_jpeg=true":n}function f(e,t){var n=t.details.selected,a=e.page,i=t.page;return!!n&&(i.shouldShowVectorDownloadSettingsModal!==a.shouldShowVectorDownloadSettingsModal||i.vectorDownloadChoice!==a.vectorDownloadChoice)}function _(n,a){var i=a.details.selected,s=e(".js-vector-download-settings");if(s.length>0&&f(n,a)){var u,d,p,h,_=g.getState().page;d=_.shouldShowVectorDownloadSettingsModal,u=_.vectorDownloadChoice,p=r.isVector(i)||o.isMoreFromSeriesVector(i),h=r.isLicensed(i),s.html(l({isVector:p,isVectorJpegEnabled:t.isVectorJpegEnabled,vectorDownloadChoice:u,shouldShowVectorDownloadSettingsModal:d,isLicensed:h},{partials:{"detailPanel/vectorDownloadSettings":l,"components/vectorDownloadSettingsModal":c}}))}}function m(){e("body").on("click",T,function(){var e=u();g.dispatch(a.saveVectorDownloadPreference(e))}).on("click",I,function(){g.dispatch(a.closeVectorDownloadSettings())})}function E(){S||(m(),S=!0)}var g=n.getInstance(),v="vector_download_choice",b="vector_download_choice_set_as_default",T=".js-vector-download-save",I=".js-vector-download-close-button",S=!1;return t.isVectorJpegEnabled&&(e(document).ready(E),s.listen(_)),{init:E,getVectorDownloadChoiceValue:u,isVectorDownloadChoiceSetAsDefaultChecked:d,shouldShowVectorDownloadChoiceModal:p,getVectorDownloadUrl:h,shouldRenderVectorDownloadSettings:f}}),define("lib/accessRequest",["i18n-config","lib/ajax","lib/licenseType","page_config"],function(e,t,n,a){"use strict";var i=["ACCESS_REQUEST_MODAL_ID_HAS_NO_STOCK","ACCESS_REQUEST_MODAL_ID_HAS_STOCK","ACCESS_REQUEST_MODAL_ID_HAS_STOCK_EMAIL"],s=e.gettext("ACCESS_REQUEST_MODAL::TITLE::Access request"),r=e.gettext("ACCESS_REQUEST_MODAL::CTA::Send access request"),o={ACCESS_REQUEST_MODAL_ID_HAS_NO_STOCK:e.gettext("ACCESS_REQUEST_MODAL::You cannot license this asset as you currently do not have access to Adobe Stock. Please confirm your request and our team will be in contact."),ACCESS_REQUEST_MODAL_ID_HAS_STOCK:e.gettext("ACCESS_REQUEST_MODAL::You cannot license this asset as you have not yet been granted access to Adobe Stock. Please confirm your request and our team will be in contact."),ACCESS_REQUEST_MODAL_ID_HAS_STOCK_EMAIL:e.gettext("ACCESS_REQUEST_MODAL::You cannot license this asset as you have not yet been granted access to Adobe Stock. Please confirm your request and a notification will be sent to your company's admin."),ACCESS_REQUEST_MODAL_ID_BANNER_HAS_STOCK_EMAIL:e.gettext("ACCESS_REQUEST_MODAL::Please confirm your request and a notification will be sent to your company's admin."),ACCESS_REQUEST_MODAL_ID_BANNER_HAS_NO_STOCK_EMAIL:e.gettext("ACCESS_REQUEST_MODAL::Please confirm your request and our team will be in contact.")};return{ACCESS_REQUEST_ORIGIN_BANNER_VALUE:0,ACCESS_REQUEST_ORIGIN_LICENSE_BUTTON_VALUE:1,isAccessRequestErrorKey:function(e){return i.includes(e)},getAccessRequestModalData:function(e){return{body:o[e]||"",subject:s,button_label:r,icon_close:!0}},sendRequest:function(e){return t.post(a.base_url+"/Ajax/Member/Stock/RequestAccess",{accessRequestOrigin:e})}}}),define("lib/organization",["i18n","i18n-config","lib/licenseType","viewHelpers/numberFormatI18n","page_config"],function(e,t,n,a,i){"use strict";function s(e){var t=E;return e.license_type_id===n.LICENSE_TYPE_ID_AGENCY_STANDARD_CREDITS||e.license_type_id===n.LICENSE_TYPE_ID_CREDITS_CORE?t=v:e.enterprise_offer.type===m&&(t=g),t}function r(n,i){return n===v?e.sprintf(t.ngettext("PRICING::SERVICE::CCE::%s Image","PRICING::SERVICE::CCE::%s Images",i),a.format(i)):n===g?e.sprintf(t.ngettext("PRICING::SERVICE::CCE::%s Premium Credit","PRICING::SERVICE::CCE::%s Premium Credits",i),a.format(i)):e.sprintf(t.ngettext("PRICING::SERVICE::CCE::%s Credit","PRICING::SERVICE::CCE::%s Credits",i),a.format(i))}function o(e){var t,n;return e.is_not_allowed_by_admin?l:(t=e.enterprise_offer.license_type_ids.indexOf(e.license_type_id)<0,n=s(e),n===v?t?e.enterprise_offer.type===m?f:p:c:n===g?t?_:d:t?h:u)}var l="CONTENT_TYPE_DENIED_BY_ADMIN",c="OFFER_NOT_ENOUGH_IMAGES",u="OFFER_NOT_ENOUGH_CREDITS",d="OFFER_NOT_ENOUGH_PREMIUM_CREDITS",p="OFFER_ENTERPRISE_NO_IMAGES",h="OFFER_ENTERPRISE_NO_CREDITS",f="OFFER_SPECIALIST_NO_IMAGES",_="OFFER_SPECIALIST_NO_PREMIUM_CREDITS",m=3,E=1,g=2,v=3,b={OFFER_ENTERPRISE_NO_CREDITS:t.gettext("MODAL::PURCHASE::CREDIT::You cannot license this asset type with your image quota. Please contact your administrator to upgrade you current plan."),OFFER_SPECIALIST_NO_PREMIUM_CREDITS:t.gettext("MODAL::PURCHASE::CREDIT::You cannot license this asset type with your image quota. Please contact your administrator to upgrade you current plan."),OFFER_ENTERPRISE_NO_IMAGES:t.gettext("MODAL::PURCHASE::CREDIT::You cannot license this asset type with your credit quota. Please contact your administrator to add images to your account."),OFFER_NOT_ENOUGH_CREDITS:t.gettext("MODAL::PURCHASE::CREDIT::You don't have enough credits to license this asset. Please contact your administrator to add credits to your account."),OFFER_NOT_ENOUGH_IMAGES:t.gettext("MODAL::PURCHASE::CREDIT::You have reached your image quota. Please contact your administrator to increase your image allowance."),OFFER_NOT_ENOUGH_PREMIUM_CREDITS:t.gettext("MODAL::PURCHASE::CREDIT::You don't have enough Premium Credits to license this asset. Please contact your administrator to add more Premium Credits to your account."),OFFER_SPECIALIST_NO_IMAGES:t.gettext("MODAL::PURCHASE::CREDIT::You cannot license this type of asset with your premium credits quota. Please contact your administrator to upgrade your current plan"),CONTENT_TYPE_DENIED_BY_ADMIN:t.gettext("CONTENT::ERROR::You don't have the permission to license this type of asset. Please contact your administrator to extend your licensing rights."),ENTERPRISE_UPGRADE_ASSET:t.gettext("PURCHASE::ERROR::You cannot license this asset type with your current plan. Please contact your administrator to upgrade your plan."),WARN_CONTENT_TYPE_DENIED_BY_ADMIN:t.gettext("CONTENT::ERROR::Please note, this type of asset is not included in your current plan. Therefore you are unable to license this asset unless your administrator upgrades your licensing permissions."),ENTERPRISE_TRIAL_NO_LICENSES:t.gettext("PURCHASE::ERROR::Sorry, all the licenses included in your trial have been used by your enterprise."),ENTERPRISE_OVERAGE_DISABLED_NO_LICENSES:t.gettext("MODAL::PURCHASE::CREDIT::Sorry, your organization's quota has been reached. Please contact your administrator if you need to license more Stock assets."),ENTERPRISE_QUOTA_UNAVAILABLE:t.gettext("MODAL::PURCHASE::CREDIT::You cannot license this asset type with your current quota. Please contact your administrator to upgrade your current plan.")};return{ERROR_KEY_CONTENT_TYPE_DENIED_BY_ADMIN:l,ERROR_KEY_WARN_CONTENT_TYPE_DENIED_BY_ADMIN:"WARN_CONTENT_TYPE_DENIED_BY_ADMIN",OFFER_ENTERPRISE_ID:1,OFFER_ENTERPRISE_PLUS_ID:2,OFFER_SPECIALIST_PLUS_ID:m,OFFER_PRICE_UNITS_TYPE_IMAGES:v,OFFER_PRICE_UNITS_TYPE_CREDITS:E,OFFER_PRICE_UNITS_TYPE_PREMIUM_CREDITS:g,ERROR_KEY_ENTERPRISE_UPGRADE_ASSET:"ENTERPRISE_UPGRADE_ASSET",ERROR_KEY_ENTERPRISE_QUOTA_UNAVAILABLE:"ENTERPRISE_QUOTA_UNAVAILABLE",ERROR_KEY_ENTERPRISE_TRIAL_NO_LICENSES:"ENTERPRISE_TRIAL_NO_LICENSES",ERROR_KEY_ENTERPRISE_OVERAGE_DISABLED_NO_LICENSES:"ENTERPRISE_OVERAGE_DISABLED_NO_LICENSES",getOutOufQuotaErrorData:function(e,t){var n="ENTERPRISE_NO_LICENSES";return e.is_organization_out_of_quota?n=e.is_cce_trial?"ENTERPRISE_TRIAL_NO_LICENSES":"ENTERPRISE_OVERAGE_DISABLED_NO_LICENSES":e.enterprise_offer&&(n=o(e)),{reason:n}},getErrorMessageByKey:function(e){return b[e]},isOrganizationErrorKey:function(e){return e in b},getOrganizationErrorData:function(e){var t=this.getErrorMessageByKey(e),n={};return t&&(n.body=t,i.isPhoenixEnabled&&"WARN_CONTENT_TYPE_DENIED_BY_ADMIN"===e&&(n.warning=!0)),n},getOfferPriceUnitsType:s,getOfferPriceUnitsWithLabel:r,getNotEnoughQuotaErrorKeyByQuotaType:function(e){var t;switch(e){case"images":t=c;break;case"premium_credits":t=d;break;default:t=u}return t}}}),define("lib/videoUtils",["jquery","lib/contentDetails","lib/member","lib/license","app/constants/searchFilters","lodash","page_config","lib/utils"],function(e,t,n,a,i,s,r,o){"use strict";return{showVideoType:function(){for(var a=t.getContentDataDic(),i=document.querySelectorAll(".js-search-result-cell"),s=0,r=i.length;s<r;s++){var o=e(i[s]),l=o.attr("data-content-id"),c=a[l].possible_licenses;if(a[l].is_video){var u=o.find(".video_4k");o.find(".video_hd").removeClass("hidden"),c.indexOf(4)>=0&&(!n.isDefaultEntitlementCCE()||n.hasCreditsModel()||n.hasAgencyModel())&&u.removeClass("hidden")}}},showVideoFormatLicensed:function(t,n){var i=e(".js-search-result-cell[data-content-id="+t+"]"),s=i.find(".format .video_4k"),r=i.find(".format .video_hd");4===a.getLicenseIdByLicenseAbbr(n)?(s.removeClass("hidden"),r.addClass("hidden")):(s.addClass("hidden"),r.removeClass("hidden"))},showTabFormatLicensed:function(t,n){var i=e(".js-details[data-content_id="+t+"]").find(".ui-tabs"),s=a.getLicenseIdByLicenseAbbr(n);s&&(i.find(".nav__item").removeClass("active"),i.find(".nav__tab").removeClass("active"),i.find("[data-tab="+s+"]").addClass("active"))},applySourceCompatibility:function(){e(".js-source-compatibility-video").on({mouseover:function(t){var n=e(this);n.append(e("<source></source>").attr({src:n.attr("xsrc"),type:"video/mp4"})),n.off("mouseover")}})},isVideoFormat4K:function(e){var t;return t=s.get(e,"is_video")&&Array.isArray(s.get(e,"possible_licenses"))&&e.possible_licenses.indexOf(a.LICENSE_ID_4K)>=0,t||!1},getVideoLicenseFilter:function(e){var t;switch(e){case i.VIDEO_IS_4K:case a.LICENSE_ID_4K:t=a.LICENSE_ID_4K;break;default:t=a.LICENSE_ID_HD}return t},getActiveVideoFilter:function(e,t){var n=e.getState(),a=r.isPhoenixEnabled,l=o.arrayToHashMap(s.get(n,"content",[]),"content_id");return t&&a?l[t].selectedLicenseId:s.get(n,"filters.filters."+i.VIDEO_IS_4K)?i.VIDEO_IS_4K:i.VIDEO_IS_ALL},setDataVideo:function(e,t){var n=!!e.possible_data_video&&e.possible_data_video[t];return n&&(e.content_original_width=n.video_width,e.content_original_height=n.video_height,e.video_content_length=n.video_content_length,e.video_bitrate_in_kbps=n.video_bitrate_in_kbps,e.video_content_type=n.video_content_type,e.video_codec=n.video_codec),e}}}),define("hbs!templates/toastNotifications",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="alert '+this.escapeExpression((i=null!=(i=t.status_class||(null!=e?e.status_class:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"status_class",hash:{},data:a}):i))+'">\n    <i class="js-notification-close alert__close mti-icon icon-close"></i>\n    <i class="mti-icon icon-preview"></i>\n    <span>'+this.escapeExpression((i=null!=(i=t.message||(null!=e?e.message:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"message",hash:{},data:a}):i))+"</span>\n</div>\n"},useData:!0})}),define("lib/toastNotifications",["jquery","hbs!templates/toastNotifications"],function(e,t){"use strict";function n(n,a){var i,s=a.wrapper||e(c),r=a.status||l,u=a.hasOwnProperty("delay")?a.delay:o;0!==s.length&&(i=t({status_class:"alert--"+r,message:n}),s.html(i),s.attr("data-is-hidden","false"),s.find(".js-notification-close").click(function(){s.attr("data-is-hidden","true")}),u&&setTimeout(function(){s.attr("data-is-hidden","true")},u))}function a(t,a){n(t,e.extend(a,{status:"success"}))}function i(t,a){n(t,e.extend(a,{status:"error"}))}function s(t,a){n(t,e.extend(a,{status:"info"}))}function r(t,a){var a=a||{},i=a.wrapper||e(".js-fixed-bottom-notification");i.length||(i=e('<div class="js-fixed-bottom-notification container-fixed to-the-bottom maximum-in-front margin-bottom-medium" data-is-hidden="true"></div>'),i.css({left:"50%",transform:"translateX(-50%)"}),e("body").append(e('<div class="motmot"/>').append(i))),a.wrapper=i,n(t,a)}var o=3e3,l="info",c=".js-inline-notification-wrapper";return{showSuccessMessage:a,showErrorMessage:i,showInfoMessage:s,showFixedBottomNotification:r}}),define("hbs!templates/thumbnailLicensedBadge",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return" badge-truncate badge-truncate--licensed"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div\n    class="image-licensed-badge-v2 js-image-licensed-badge js-badge-with-tooltip'+(null!=(i=(t["if-or"]||e&&e["if-or"]||t.helperMissing).call(e,null!=e?e.isPremium:e,null!=e?e.isEditorial:e,null!=e?e.isIllustrative:e,{name:"if-or",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+' badge-with-tooltip badge-with-tooltip--v2"\n    data-t="license-badge-checkmark-section"\n>\n    <span data-t="license-badge-checkmark-text">\n        <div class="badge--icon">\n            <i class="icon-checkmark thumbnail-badge-icon" data-t="license-badge-checkmark-icon"></i>\n        </div>\n        <div class="badge--text js-badge-text">\n            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"LIBRARIES::STATE::Licensed",{name:"_",hash:{},data:a}))+'\n        </div>\n    </span>\n    <div class="js-tooltip-holder">\n'+(null!=(i=this.invokePartial(n.badgeTooltip,e,{name:"badgeTooltip",hash:{tooltip_data:null!=e?e.license_transfer_tooltip_data:e,dataT:"image-licensed-tooltip-container"},data:a,indent:"        ",helpers:t,partials:n}))?i:"")+'    </div>\n    <div class="tooltip-triangle js-tooltip-triangle"></div>\n</div>\n'},usePartial:!0,useData:!0})}),define("quickerCheckout/analytics/dunamis/dunamisUtils",["lodash","lib/analytics/dunamis"],function(e,t){"use strict";function n(e){var t;switch(e){case"facebook":t="sign-in-fb";break;case"google":t="sign-in-google";break;default:t="continue"}return t}function a(n,a,i,s,r){var o=t.constants,l=e.get(r,"finding_method"),c=e.get(r,"selection_method");l&&(i[o.PROPERTIES.CHECKOUT.FINDING_METHOD]=l),c&&(i[o.PROPERTIES.CHECKOUT.SELECTION_METHOD]=c),t.track(n,a,i,s)}function i(t){if(!e.isObject(t))throw Error("state must be an object");return{currency:e.get(t,"pricing.price.currency"),eventSubcategory:t.id,offerId:t.offering_id,orderId:t.order_id,orderNumber:t.order_number,productKey:t.product_key,promoType:e.get(t,"plan_information.promo_type"),pricingSubtotal:e.get(t,"pricing.template_text.subtotal"),pricingTax:e.get(t,"pricing.template_text.tax"),pricingTotal:e.get(t,"pricing.template_text.total")}}return{getDunamisSubtypeFromSocialProvider:n,trackWrapper:a,getEventDataFromState:i}}),define("quickerCheckout/analytics/dunamis/events/dunamisErrorEvent",["lib/analytics/dunamis","lodash","page_config","quickerCheckout/analytics/dunamis/dunamisUtils"],function(e,t,n,a){"use strict";function i(n,i,s,r,o){var l,c;t.isObject(n)||(n={errorType:"TypeError",errorDesc:"eventData object was undefined"}),l=r||"error",i=i||"Not specified",s=s||"Not specified",c={"event.error_code":n.errorCode,"event.error_type":n.errorType,"event.error_desc":n.errorDesc,"stk.case_code":n.errorCaseCode},c[e.constants.EVENT_WORKFLOW_PROPERTY]=e.constants.STOCK_CHECKOUT,c[e.constants.EVENT_SUBCATEGORY_PROPERTY]=s,a.trackWrapper(l,i,c,null,o)}function s(e){return t.isObject(e)||(e={name:"TypeError",message:"errorObject was undefined"}),{errorCode:e.error_code||e.errorCode,errorType:e.name||e.error_type||e.errorType,errorDesc:e.message||e.error_message||e.errorMessage,errorCaseCode:e.case_code||e.caseCode||n.x_request_id}}return{send:i,getEventDataFromErrorObject:s}}),define("quickerCheckout/analytics/dunamis/dunamisCatchWrapper",["lodash","quickerCheckout/analytics/dunamis/events/dunamisErrorEvent"],function(e,t){"use strict";function n(t,n,i){if(e.isFunction(t))try{t()}catch(e){a(e,n,i)}}function a(e,n,a){t.send(t.getEventDataFromErrorObject(e),n,a)}return{execFunction:n,defaultErrorHandler:a}}),define("app/utils/dunamis/dunamisAdminPurchaseFMF",["lib/analytics/dunamis","quickerCheckout/analytics/dunamis/dunamisCatchWrapper"],function(e,t){"use strict";function n(n,a){t.execFunction(function(){var t={},i=e.constants,s=a?e.constants.CLICK:e.constants.VISIT;t[i.EVENT_WORKFLOW_PROPERTY]=i.STOCK_CHECKOUT,t[i.EVENT_SUBCATEGORY_PROPERTY]=i.ADMIN_CANNOT_PURCHASE_FMF,e.track(s,n,t)},"error-admin-purchase-fmf","admin-purchase-fmf-modal")}return{send:n}}),define("lib/analytics/dunamisCustomEvent",["lib/analytics/dunamis","quickerCheckout/analytics/dunamis/dunamisCatchWrapper"],function(e,t){"use strict";function n(n,a,i,s){t.execFunction(function(){var t=e.constants,i={},s=t.VISIT,r=t.PAGE_VIEW;i[t.EVENT_WORKFLOW_PROPERTY]=n,i[t.EVENT_SUBCATEGORY_PROPERTY]=a,e.track(s,r,i)},i,s)}function a(n,a,i,s){t.execFunction(function(){var t={},i=e.constants;t[i.EVENT_WORKFLOW_PROPERTY]=n,t[i.EVENT_SUBCATEGORY_PROPERTY]=a,e.track(i.LANDING,i.PAGE_LANDING,t)},i,s)}return{sendDunamisPageView:n,sendDunamisPageLanding:a}}),define("hbs!templates/motMotModal/message",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'            <div class="modal__header">\n                <div class="center-align">\n                <span class="grey dove-text">\n                    '+this.escapeExpression((i=null!=(i=t.title||(null!=e?e.title:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"title",hash:{},data:a}):i))+"\n                </span>\n                </div>\n            </div>\n"},3:function(e,t,n,a){var i;return'                            <div class="grey dove-text text-up">\n                                '+this.escapeExpression((i=null!=(i=t.messageHeader||(null!=e?e.messageHeader:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"messageHeader",hash:{},data:a}):i))+"\n                            </div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div data-t="motmot-modal-message" class="mti-modal modal--large modal--with-header animated fade-in">\n    <div class="modal__body">\n        <i class="modal__close mti-icon icon-close js-motmot-modal-close"></i>\n'+(null!=(i=t.if.call(e,null!=e?e.title:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'\n        <div class="modal__content">\n            <div class="container-smedium-height-max overflow-y-scroll">\n                <div class="padding-xlarge">\n                    <div class="padding-large">\n'+(null!=(i=t.if.call(e,null!=e?e.messageHeader:e,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+'\n                        <div class="padding-top-medium">\n                            <span class="grey mountain-mist-text">\n                                '+this.escapeExpression((s=null!=(s=t.message||(null!=e?e.message:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"message",hash:{},data:a}):s))+"\n                            </span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/motMotModal/usingPartial",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return(null!=(i=t.if.call(e,null!=e?e.title:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.noop,data:a}))?i:"")+'\n            <div class="modal__content">\n                <div class="js-motmot-modal-partial">\n'+(null!=(i=this.invokePartial(n.modalContent,e,{name:"modalContent",data:a,indent:"                    ",helpers:t,partials:n}))?i:"")+"                </div>\n            </div>\n\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.params:e)?i.footer:i,{name:"if",hash:{},fn:this.program(4,a,0),inverse:this.noop,data:a}))?i:"")+"\n"},2:function(e,t,n,a){var i;return'                <div class="modal__header">\n                    <div class="center-align">\n                        <span class="grey dove-text">\n                            '+this.escapeExpression((i=null!=(i=t.title||(null!=e?e.title:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"title",hash:{},data:a}):i))+"\n                        </span>\n                    </div>\n                </div>\n"},4:function(e,t,n,a){var i;return'                <div class="modal__footer">\n'+(null!=(i=this.invokePartial(n.modalFooter,e,{name:"modalFooter",data:a,indent:"                    ",helpers:t,partials:n}))?i:"")+"                </div>\n"},6:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n.modalContent,e,{name:"modalContent",data:a,indent:"            ",helpers:t,partials:n}))?i:""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="mti-modal modal--'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.params:e)?i.width:i,e))+' modal--with-header animated fade-in">\n    <div class="modal__body">\n        <i class="modal__close mti-large mti-icon icon-close js-motmot-modal-close" data-t="motmot-modal-close-button"></i>\n'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.params:e)?i.usingDefault:i,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(6,a,0),data:a}))?i:"")+"    </div>\n</div>\n"},usePartial:!0,useData:!0})}),define("hbs!templates/motMotModal/partials/migrationV2UpgradeCandidate",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="container-smedium-height-max">\n    <div class="row grey heavy-metal-text">\n        <div class="row padding-top-large padding-bottom-large">\n            <i class="mti-icon mti-4x icon-coin6 grey silver-sand-text"></i>\n        </div>\n        <p class="text-medium font-thin margin-top-xsmall">\n            '+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"MODAL::MIGRATIONV2::Buy an Adobe Stock plan and %ssave 33%%%s in your first year.",{name:"_",hash:{},data:a}),"<strong>","</strong>",{name:"sprintf",hash:{},data:a}))?i:"")+'\n        </p>\n        <p class="text-medium font-thin">\n            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::MIGRATIONV2::Alternatively, purchase a credit pack to access and license all asset types.",{name:"_",hash:{},data:a}))+'\n        </p>\n        <div class="row padding-top-xlarge padding-bottom-medium">\n            <div class="v-align-wrapper ">\n                <div class="c-align">\n                    <a href="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.properties:e)?i.button_uri:i,e))+'" class="button button--action js-fotolia-transfer-overage-ok">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::BUTTON::View all pricing options  >",{name:"_",hash:{},data:a}))+'</a>\n                </div>\n            </div>\n        </div>\n        <div class="padding-top-medium"></div>\n    </div>\n</div>\n'},useData:!0})}),define("components/motMotModal",["jquery","i18n-config","hbs!templates/motMotModal/message","hbs!templates/motMotModal/usingPartial","hbs!templates/motMotModal/partials/migrationV2UpgradeCandidate"],function(e,t,n,a,i){"use strict";var s,r=e("<div />",{class:"motmot"}),o=function(t){var n=e.Deferred();return r.html(t),e("body").append(r),r.on("click",".js-motmot-modal-close",function(){h(),n.resolve()}),n.promise()},l=function(e){return o(n(e))},c=function(t){var n,i={};if(t&&t.partial)return n={modalContent:t.partial},t.additionalPartials&&(n=e.extend(n,t.additionalPartials)),t.title&&(i.title=t.title),t.partialProperties&&(i.properties=t.partialProperties),i.params={footer:!1,usingDefault:!0,width:"large"},t.templateParams&&("undefined"!=t.templateParams.footer&&(i.params.footer=t.templateParams.footer),"undefined"!=t.templateParams.usingDefault&&(i.params.usingDefault=t.templateParams.usingDefault),t.templateParams.width&&(i.params.width=t.templateParams.width)),o(a(i,{partials:n}))},u=function(e,t){switch(s=document.activeElement,e){case"message":return this.showMessage(t);case"usingPartial":return c(t);case"usingTemplate":return d(t);default:throw new Error("Unregistered modal template: "+e)}},d=function(e){if(e&&e.template)return o(e.template(e.params))},p=function(e,t,n,a){var a=a||"click";r.find(e).off(a).on(a,function(){t(n)})},h=function(){r.remove(),s&&s.focus()}
;return{hide:h,registerEvent:p,show:u,showMessage:l,showUsingPartial:c,showUsingTemplate:d,MIGRATION_V2_UPGRADE_CANDIDATE:1,showModal:function(e){var n;switch(e){case 1:n={templateParams:{usingDefault:!0,width:"medium"},partial:i,title:t.gettext("MODAL::CREDIT::You don't have enough downloads available to license this asset."),partialProperties:{button_uri:"/Fotolia/Plans"}};break;default:throw new Error("Unknown modal id : "+e)}u("usingPartial",n)}}}),define("lib/modal-window",["i18n","jquery","page_config","Handlebars","lib/window","i18n-config","hbs!templates/badgeTooltip","hbs!templates/thumbnailBadges","hbs!templates/thumbnailBadge","hbs!templates/modalWindow/message","hbs!templates/modalWindow/confirmation","hbs!templates/modalWindow/partials/t2eMigrationContent","hbs!templates/modalWindow/partials/t2eMigrationFooter","hbs!templates/modalWindow/partials/t2eMigrationLinkReminderContent","hbs!templates/modalWindow/partials/t2eMigrationLinkReminderFooter","hbs!templates/modalWindow/saveToDevice","hbs!templates/modalWindow/cceFreeLicenseAgreementModal","hbs!templates/modalWindow/cceMultipleChoices","hbs!templates/modalWindow/multipleChoices","hbs!templates/modalWindow/extended","hbs!templates/modalWindow/openInMessage","hbs!templates/templatePreview","hbs!templates/modalWindow/welcomeBack","hbs!templates/modalWindow/teamfmf","hbs!templates/modalWindow/licenseRecordOptions","hbs!templates/components/bulkSelectionModal/tabsHeaderItem","hbs!templates/components/bulkSelectionModal/toolTipHintAdd","hbs!templates/components/bulkSelectionModal/toolTipHintRemove","hbs!templates/modalWindow/bulkLicenseRecordOptions","hbs!templates/modalWindow/licenseRecordDetailsFieldSet","hbs!templates/modalWindow/licenseRecordGroupAssets","hbs!templates/modalWindow/licensingDetailModal","hbs!templates/modalWindow/groupLicenseReferences","hbs!templates/modalWindow/numberFilesLicenseReferences","hbs!templates/modalWindow/licenseReferencesDetail","hbs!templates/modalWindow/fieldInputValidator","hbs!templates/modalWindow/licenseTypeDetail","hbs!templates/modalWindow/requiredPriceLabel","hbs!templates/modalWindow/fotoliaSubscription","hbs!templates/modalWindow/vectorDownloadChoice","hbs!templates/videoSvgPicto","components/licenseTransferFieldSet","components/licenseReferencesFieldSet","components/vectorDownloadSettings","lib/accessRequest","lib/ajax","lib/license","lib/organization","lib/utils","lib/videoUtils","lib/licenseType","lib/toastNotifications","app/client","app/actions/detailsActions","hbs!templates/thumbnailLicensedBadge","app/utils/dunamis/dunamisAdminPurchaseFMF","lib/analytics/dunamis","lib/uiEvents","lib/analytics/dunamisCustomEvent","lib/cookie","components/motMotModal"],function(e,t,n,a,i,s,r,o,l,c,u,d,p,h,f,_,m,E,g,v,b,T,I,S,y,A,O,R,C,L,D,N,P,M,w,x,k,F,U,H,j,V,Y,G,B,q,W,K,z,Q,Z,X,$,J,ee,te,ne,ae,ie,se,re){"use strict";function oe(){var e=le.find(".modal__body"),n=le.find(".modal__footer"),a=e[0].getBoundingClientRect(),i=Math.ceil(t(window).height()-a.height-a.top);e.css("padding-bottom",n.outerHeight()),n.css({transform:"translateY("+(i<0?i:0)+"px)",transition:"all .15s ease"})}var le,ce=$.getInstance(),ue=function(t){return t=t.trim(),t.length>45&&(t=t.substring(0,42)+"..."),de({subject:e.sprintf(s.gettext('MODAL::Delete "%s"'),t),question:e.sprintf(s.gettext('MODAL::Are you sure you want to delete "%s"?'),t),notes:s.gettext("MODAL::This library will no longer be available to anyone who shares it.")})},de=function(e){return void 0===e&&(e={}),void 0===e.confirm_button_label&&(e.confirm_button_label=s.gettext("MODAL::Delete")),Re("confirmation",e)},pe=function(e){return void 0===e&&(e={}),Re("confirmation",e)},he=function(e){return void 0===e&&(e={}),void 0===e.subject&&(e.subject=s.gettext("CHECKOUT::You're Ready to Go!")),void 0===e.body&&(e.body=s.gettext("CHECKOUT::You now have access to a growing collection of millions of assets, conveniently integrated into Adobe Illustrator CC, Adobe InDesign CC, Adobe Photoshop CC, Adobe After Effects CC and Adobe Premiere Pro CC.")),void 0===e.button_label&&(e.button_label=s.gettext("PLANS::OK")),void 0===e.button_link&&(e.button_link="#"),Re("message",e)},fe=function(e,t,n,a){return Re("confirmation",{thumb_url:e,subject:t,question:n,extended_license:a})},_e=function(e){return void 0===e&&(e={}),void 0===e.subject&&(e.subject=s.gettext("MODAL::REBATE::Enjoy your free images!")),void 0===e.body&&(e.body=s.gettext("MODAL::REBATE::Your refund for the first month of your Adobe Stock subscription may take up to two weeks to appear on your credit card statement.")),void 0===e.button_label&&(e.button_label=s.gettext("MODAL::REBATE::Start Searching")),void 0===e.button_link&&(e.button_link="/"),Re("message",e)},me=function(t,n){return void 0===n&&(n={}),void 0===n.subject&&(n.subject=s.gettext("MODAL::REBATE::Rebate processing error")),void 0===n.body&&(n.body=e.sprintf(s.gettext("MODAL::REBATE::We are experiencing technical difficulties processing your rebate. Please contact customer support and reference this case code: %s"),t)),Re("message",n)},Ee=function(e){var t=ne.constants;return void 0===e&&(e={}),void 0===e.subject&&(e.subject=s.gettext("MODAL::SWITCH::ACCOUNT::Switch to personal account")),void 0===e.question&&(e.question=s.gettext("MODAL::SWITCH::ACCOUNT::To purchase this product, you must switch to your personal account. Do you want to switch to your personal account?")),void 0===e.confirm_button_label&&(e.confirm_button_label=s.gettext("MODAL::OK")),te.send(t.PAGE_VIEW,!1),Re("confirmation",e)},ge=function(e){return void 0===e&&(e={}),void 0===e.subject&&(e.subject=s.gettext("MODAL::CREDIT::Thank you for using Adobe Stock.")),void 0===e.body&&(e.body=s.gettext("MODAL::PURCHASE::CREDIT::You don't have enough images to license this asset. Please contact your administrator to add more images to your account.")),Re("message",e)},ve=function(){var e={body:s.gettext("API::LIBRARIES::We are experiencing technical difficulties. Please try again later.")};return Re("message",e)},be=function(){return Re("welcomeBack",{modalId:"welcome-back-modal",hiddenState:"false"})},Te=function(e,t){var n,a=[],i=z.map3DIdsToTypes[e["3D_type_id"]];return e.is_3D&&e.light_type&&e.light_type.length&&(e.light_type.forEach(function(e){"IBL"===e.toUpperCase()&&a.push(s.gettext("FILE::LIGHT::TYPES::Image-based Lights"))}),e.light_types=a.join(", ")),e.is_video&&Q.setDataVideo(e,t.license_id),e.possible_data_premium&&(n=e.possible_data_premium[t.license_id])&&(e.content_original_width=n.image_width,e.content_original_height=n.image_height),e.is_just_purchased=t.is_just_purchased,{content:e,content_is_3D_type_lights:i===z.threeDTypes.LIGHTS,content_is_3D_type_materials:i===z.threeDTypes.MATERIALS,license_type_label:t.license_type_label}},Ie=function(e,t){var n=Te(e,t);return n.disableLicenseTransferCheckbox=!0,n.modalId="license-transfer-modal",n.modal_title=s.gettext('ORGANIZATION::LICENSE_TRANSFER::Apply the "Transferred" license badge'),n.display_license_transfer=!0,n.button_label=s.gettext("MODAL::Confirm"),n.modalWithStickyFooter=!0,Re("licensingDetailModal",n)},Se=function(e,t,n){var a,i=Te(e,t);return t.required_quota_with_label?a=t.required_quota_with_label:t.required_quota&&(a=K.getOfferPriceUnitsWithLabel(K.getOfferPriceUnitsType(t),t.required_quota)),t.facing_price&&(a+=" ("+t.facing_price+")"),i.modalId="license-references-modal",i.required_quota=a,i.mandatory_license_references=t.mandatory_license_references,i.optional_license_references=t.optional_license_references,i.is_update_context=n,i.saved_license_references=null,i.display_license_references=t.requires_license_references,i.display_license_transfer=t.has_organization_license_transfer_enabled,n?(i.saved_license_references=t.saved_license_references,i.display_license_references=!0,i.modal_title=s.gettext("ORGANIZATION::REFERENCE::Update References"),i.button_label=i.modal_title,i.displayLicenseBadge=e.downloaded&&!e.display_as_unlicensed,i.displayLicenseTransferBadge=e.downloaded&&e.display_as_unlicensed,i.licenseTransfers=e.license_transfers):e.is_just_purchased?(i.modal_title=s.gettext("ORGANIZATION::REFERENCE::License this asset again?"),i.button_label=s.gettext("MODAL::License again")):(i.modal_title=s.gettext("FILE::Confirm Licensing"),i.button_label=s.gettext("MODAL::License")),i.modalWithStickyFooter=i.display_license_references,Re("licensingDetailModal",i)},ye=function(){var e={subject:s.gettext("MODAL::CREDIT::Thank you for using Adobe Stock."),question:s.gettext("MODAL::PURCHASE::CREDIT::Sorry, you cannot license the same stock asset multiple times. You already have a license for this asset, do you want to download the licensed file?")};return Re("additionalLicensingDisabled",e)},Ae=function(e,t){var n={modalId:"group-license-references-modal",content:e,number_selected:Object.keys(e).length,mandatory_license_references:t.mandatory_license_references,optional_license_references:t.optional_license_references};return Re("groupLicenseReferences",n)},Oe=function(e){return Re("fotoliaSubscription",e)},Re=function(e,a){var q,K,Q,Z,$,ue,de=t.Deferred(),pe=t("body"),he=ne.constants,fe=t('<div style="display: none;"></div>'),_e=function(){fe.remove(),le=null,t(window).off("resize",oe),pe.removeClass("overflow-hidden")};switch(e){case"preview":fe.html(T(a)),fe.find(".js-hide-modal").click(function(){fe.remove(),de.resolve()}),pe.keydown(function(e){27==e.keyCode&&(fe.remove(),de.resolve())});break;case"message":!a||a.button_link&&a.button_link!=i.getPath()||(a.button_link=null),void 0===a.button_label&&(a.button_label=s.gettext("MODAL::OK")),fe.html(c({message:a})),a.dunamis&&ie.sendDunamisPageView(a.dunamis.workflow,a.dunamis.subcategory,a.dunamis.errorName,a.dunamis.name),fe.find(".js-modal-window-dismiss-button").click(function(){ae.trigger(ae.DETAILS_PANEL.CLOSE),fe.remove(),de.resolve()});break;case"confirmation":void 0===a.cancel_button_label&&(a.cancel_button_label=s.gettext("MODAL::Cancel")),void 0===a.confirm_button_label&&(a.confirm_button_label=s.gettext("MODAL::OK")),fe.html(u({message:a})),fe.find(".js-modal-window-confirm-button").click(function(){a.extended_license&&!a.extended_license.is_video&&(a.content_type_id=a.extended_license.content_type_id,W.setDefaultLicenseId(a.extended_license.contentId,a)),z.safelyExecuteFunction(a.confirmCallback),fe.remove(),de.resolve(),te.send(he.SWITCH_PERSONAL_CONFIRM,!0)}),fe.find(".js-modal-window-cancel-button").click(function(){t("#select-licenses").prop("disabled",!1),fe.remove(),de.reject(),te.send(he.SWITCH_PERSONAL_CANCEL,!0)});break;case"saveToDevice":if(!a.asset_link)throw new Error("No asset link was given");switch(void 0===a.help_text&&(a.help_text=s.gettext("MODAL::Tap and hold the item below to save it to your device.")),a.asset_format){case"jpeg":a.display_image=!0;break;default:a.display_image=!1,a.help_text=s.gettext("MODAL::Only photos can be saved to mobile devices. You can save to a library, then download on your computer.")}fe.html(_({data:a})),fe.find(".js-modal-window-dismiss-button").click(function(){fe.remove(),de.resolve()});break;case"openInNoAcknowledgement":fe.html(b({base_url:n.base_url})),fe.find(".js-modal-window-dismiss-button").click(function(){fe.remove(),de.resolve()});break;case"multipleChoices":fe.html(g({message:a}));break;case"cceMultipleChoices":;fe.html(E({data:a,licenseTermsEditorialLink:n.base_url+"/enterprise-conditions#editorialUse"}));break;case"extendedConfirmation":fe.html(v({message:a})),fe.find(".js-modal-window-cancel-button").click(function(){t("#select-licenses").prop("disabled",!1),fe.remove(),de.reject()});break;case"welcomeBack":fe.html(I({data:a})),fe.find(".js-modal-window-dismiss-button").click(function(){fe.remove(),de.resolve()});break;case"alreadyMigratedAccount":a.use_links=!0,fe.html(u({message:a})),ie.sendDunamisPageView("fotolia-migration","error-account-already-migrated","account-already-migrated-error","account-already-migrated");break;case"fotoliaSubscription":fe.html(U({fotoliaSubscription:a})),fe.find(".js-hide-modal").click(function(){fe.remove(),de.resolve()}),pe.keydown(function(e){27==e.keyCode&&(fe.remove(),de.resolve())});break;case"teamfmf":a.button_link||(a.button_link="#"),a.button_label||(a.button_label=s.gettext("MODAL::OK")),fe.html(S({message:a})),fe.find(".js-modal-window-dismiss-button").click(function(){fe.remove(),de.resolve()}),fe.find(".js-modal-window-ok-button").click(function(){a.validation_needed?q.submit():(fe.remove(),de.resolve())}),q=fe.find('form[name="js-fmf-offer-phone"]'),K=q.find("#js-phone"),q.submit(function(e){var n,a=K.val().trim();z.isValidPhoneNumber(a)?(n=t("<input />",{type:"hidden",name:"fmf",value:1}),q.append(n)):(K.attr("data-field-is-valid","false"),q.find("#js-checkout-user-facing-errors").attr("data-state","shown"),e.preventDefault(),e.stopPropagation())});break;case"licensingDetailModal":fe.html(N({content:a.content,required_quota:a.required_quota,content_is_3D_type_materials:a.content_is_3D_type_materials,content_is_3D_type_lights:a.content_is_3D_type_lights,mandatory_license_references:a.mandatory_license_references,optional_license_references:a.optional_license_references,is_update_context:a.is_update_context,saved_license_references:a.saved_license_references,modal_title:a.modal_title,license_type_label:a.license_type_label,display_license_references:a.display_license_references,display_license_transfer:a.display_license_transfer,button_label:a.button_label,displayLicenseBadge:a.displayLicenseBadge,displayLicenseTransferBadge:a.displayLicenseTransferBadge,licenseTransfers:a.licenseTransfers},{partials:{badgeTooltip:r,thumbnailBadges:o,thumbnailBadge:l,"modalWindow/licenseReferencesDetail":w,"modalWindow/fieldInputValidator":x,"modalWindow/licenseTypeDetail":k,"modalWindow/requiredPriceLabel":F,"modalWindow/licenseTransferFieldSet":V.template,"modalWindow/licenseReferencesFieldSet":Y.template,videoSvgPicto:j,thumbnailLicensedBadge:ee}})),t("body").addClass("overflow-hidden"),fe.find(".js-hide-modal").click(function(){_e(),de.reject()}),a.display_license_references&&(Z=new Y.init(fe)),a.display_license_transfer&&(Q=new V.init(fe,a.disableLicenseTransferCheckbox)),q=fe.find('form[name="js-licensing-form"]'),q.submit(function(e){var t=!0,n={};e.preventDefault(),e.stopPropagation(),a.display_license_references&&(t=Z.valid(),n.license_references=Z.data()),a.display_license_transfer&&(t=!!t&&Q.valid(),n.license_transfer=Q.data()),t&&(_e(),de.resolve(n))});break;case"groupLicenseReferences":fe.html(P({content:a.content,mandatory_license_references:!t.isEmptyObject(a.mandatory_license_references)&&a.mandatory_license_references,optional_license_references:!t.isEmptyObject(a.optional_license_references)&&a.optional_license_references,number_selected:a.number_selected},{partials:{"modalWindow/fieldInputValidator":x,"modalWindow/licenseReferencesFieldSet":Y.template,"modalWindow/numberFilesLicenseReferences":M}})),t("body").addClass("overflow-hidden"),fe.find(".js-hide-modal").click(function(){fe.remove(),t("body").removeClass("overflow-hidden"),de.reject()}),Z=new Y.init(fe),q=fe.find('form[name="js-group-license-references"]'),q.submit(function(e){e.preventDefault(),e.stopPropagation(),Z.valid()&&(fe.remove(),t("body").removeClass("overflow-hidden"),de.resolve(Z.data()))});break;case"licenseRecordOptions":$=n.isLicenseRecordMigrationEnabled?C:y,ue=!1,fe.html($(a,{partials:{"components/bulkSelectionModal/tabsHeaderItem":A,"modalWindow/numberFilesLicenseReferences":M,"modalWindow/licenseRecordDetailsFieldSet":L,"modalWindow/licenseRecordGroupAssets":D,"modalWindow/fieldInputValidator":x}})),pe.addClass("overflow-hidden"),fe.find(".js-hide-modal").click(function(){_e(),de.reject()});var me=fe.find(".js-modal-details-row"),Ee=!1;fe.find(".js-expand-record-details").click(function(){Ee?me.hide(250):me.show(250),Ee=!Ee,t(this).toggleClass("is_active")}),fe.find(".js-modal-asset-toggle-remove").click(function(){var e=t(this),n=fe.find(".js-modal-nb-assets"),i=fe.find(".js-license-reference-group-by"),s=e.attr("data-rel");a.assets[s].is_removed=!a.assets[s].is_removed,a.assets[s].is_removed?(fe.find(".js-modal-tr-"+s).addClass("is-removed"),e.attr("data-t","add-back-to-selection-button")):(fe.find(".js-modal-tr-"+s).removeClass("is-removed"),e.attr("data-t","remove-from-selection-button"));var r=Object.keys(a.assets).reduce(function(e,t){return e+=a.assets[t].is_removed?0:1},0),o=fe.find(".js-modal-button-license");r<1?(o.prop("disabled",!0),o.addClass("pointer-events-none")):o.hasClass("pointer-events-none")&&(o.prop("disabled",!1),o.removeClass("pointer-events-none")),n.html(M({number_selected:r})),i.html(D({groups:Object.keys(a.assets).reduce(function(e,t){var n=a.assets[t]||{};return!n.is_removed&&n.license_references.forEach(function(t){e[t.id]||(e[t.id]=t.label)}),e},{}),grouped_by_option:i.find(":selected").val()||0}))}),fe.on("mouseover",".js-modal-asset-toggle-remove",function(){var e=t(this),n=e.attr("data-rel"),i=fe.find(".js-modal-bulk-selection-tooltip");i.html(a.assets[n].is_removed?O:R),ue=!0;var s=e.positionRelativeTo(".js-modal-bulk-content-wrapper");i.removeClass("tooltip--top tooltip--secondary tooltip--bottom tooltip--error tooltip--primary"),i.addClass("tooltip--primary tooltip--top"),i.css({top:s.top-10,left:s.left+8}).attr("data-is-hidden",!1)}),fe.on("mouseout",".js-modal-icon-alert, .js-modal-asset-toggle-remove, .js-modal-asset-request-info-status",function(){ue=!1,fe.find(".js-modal-bulk-selection-tooltip").attr("data-is-hidden",!0)}),q=fe.find('form[name="js-license-record-options"]'),q.focus(),q.submit(function(e){if(e.preventDefault(),e.stopPropagation(),t("#licenseRecordName").val()){var n=q.serializeArray();t.isPlainObject(a.assets)&&!t.isEmptyObject(a.assets)&&(fe.find(".js-modal-button-license").attr("disabled",!0).attr("data-is-loading",!0),n.push({name:"assets",value:Object.keys(a.assets).reduce(function(e,t){return a.assets[t].is_removed||e.push(t),e},[])})),de.resolve(n,fe,_e)}});break;case"vectorDownloadChoice":fe.html(H(a)),fe.find(".js-vector-download-choice-download-btn").click(function(){var e=G.getVectorDownloadChoiceValue();G.isVectorDownloadChoiceSetAsDefaultChecked()&&ce.dispatch(J.saveVectorDownloadPreference(e)),fe.remove(),de.resolve(e)}),fe.find(".js-vector-download-choice-close-button").click(function(){fe.remove(),de.reject()});break;case"additionalLicensingDisabled":void 0===a.cancel_button_label&&(a.cancel_button_label=s.gettext("MODAL::Cancel")),void 0===a.confirm_button_label&&(a.confirm_button_label=s.gettext("MODAL::Download")),fe.html(u({message:a})),fe.find(".js-modal-window-confirm-button").click(function(){fe.remove(),de.resolve()}),fe.find(".js-modal-window-cancel-button").click(function(){fe.remove(),de.reject()});break;case"accessRequest":fe.html(c({message:a})),fe.find(".js-modal-window-dismiss-button").click(function(){ae.trigger(ae.DETAILS_PANEL.CLOSE),fe.remove(),de.resolve()}),fe.find(".js-modal-window-ok-button").click(function(){B.sendRequest(a.origin).then(function(e){X.showFixedBottomNotification(e.message,{status:"success"}),de.resolve()}).fail(function(e){X.showFixedBottomNotification(s.gettext("GENERIC::We weren't able to complete your request. Please try again"),{status:"error"}),de.reject()}).always(function(){ae.trigger(ae.DETAILS_PANEL.CLOSE),fe.remove()})});break;case"t2eMigration":var ge=function(){se(a.migration_modal_cookie,!0,{expires:180})},ve={templateParams:{usingDefault:!0,width:"medium",footer:!0},partial:d,title:a.title,partialProperties:{data:a},additionalPartials:{modalFooter:p}};re.show("usingPartial",ve),t(".js-motmot-modal-close").click(function(){ge(),fe.remove(),Re("t2eMigrationLinkReminder",{}),de.resolve()}),t("#modal-window-start-migration").click(function(){ge(),fe.remove(),i.setLocation(n.base_url+"/migration")});break;case"t2eMigrationLinkReminder":var ve={templateParams:{usingDefault:!0,width:"medium",footer:!0},partial:h,title:s.gettext("MIGRATION::In case you change your mind"),partialProperties:{data:{t2e_migration_url:n.base_url+"/migration"}},additionalPartials:{modalFooter:f}};re.show("usingPartial",ve),t("#js-t2e-modal-lin-reminder-continue").click(function(){fe.remove(),de.resolve()});break;case"cceFreeLicenseAgreementModal":fe.html(m(a)),fe.find(".js-modal-window-dismiss-button").click(function(){de.reject(),_e()}),fe.find(".js-modal-window-license-button").click(function(){de.resolve(a.assetData),_e()});break;default:throw new Error("Unregistered message template: "+e)}return pe.append(fe),fe.show(),a.modalWithStickyFooter&&(le=fe.find(".mti-modal"),le.on("scroll",oe),t(window).on("resize",oe),setTimeout(oe,250)),pe.find(".modal-window-canvas").removeClass("grey").first().addClass("grey"),de.promise()};return{show:Re,showSuccessfulPlanPurchaseMessage:he,showDeleteConfirmation:de,showLibraryDeleteConfirmation:ue,showBadgedModalConfirmationWithThumbnail:fe,showSuccessfulRebateMessage:_e,showFailedRebateMessage:me,showPurchaseVideoMessage:pe,showSwitchToPersonalMessage:Ee,showErrorPurchaseWithCredit:ge,showWelcomeBackModal:be,showLicensingDetailModal:Se,showLicenseTransferModal:Ie,showGroupLicenseReferencesModal:Ae,showFotoliaSubscriptionInfo:Oe,showAdditionalLicensingDisabledModal:ye,showTechnicalDifficultiesError:ve,isModalVisible:function(){return t("body").find(".modal-window-canvas").is(":visible")},displayOrganizationErrorModal:function(e){var t=K.getOrganizationErrorData(e);return this.showErrorPurchaseWithCredit(t)},displayAccessRequestModal:function(e,t){var n=B.getAccessRequestModalData(e);return n.origin=t,n.button_class="js-modal-window-ok-button",Re("accessRequest",n)},displayCCEFreeLicenseAgreement:function(e,t){return Re("cceFreeLicenseAgreementModal",{modalWithStickyFooter:!0,assetData:e,licenseTermsUrl:t||""})}}}),define("lib/libraryutil",[],function(){"use strict";return{findStockRendition:function(e){var t,n=this,a={rel:"rendition",type:"image/jpeg"},i={rel:"rendition",type:"image/png"},s=[];return e.representations?s=e.representations:e.representation&&(s=e.representation),t=n.findElementThatMeetsMultipleCriteria(s,a),t||(t=n.findElementThatMeetsMultipleCriteria(s,i)),t},findStockRepresentation:function(e){var t=this;return e.representations?t.findElement(e.representations,"rel","primary"):e.representation?t.findElement(e.representation,"rel","primary"):null},findStockSize:function(e){var t=this,n=null,a=t.findStockRepresentation(e),i=t.findStockRendition(e);return void 0!=a&&void 0!=a.width&&void 0!=a.height?n={width:Number(a.width),height:Number(a.height)}:void 0!=i&&void 0!=i.width&&void 0!=i.height&&(n={width:Number(i.width),height:Number(i.height)}),n},findElement:function(e,t,n){if(e instanceof Array){for(var a in e)if(e[a].hasOwnProperty(t)&&-1!=e[a][t].indexOf(n))return e[a]}else if(e.hasOwnProperty(t)&&e[t]==n.indexOf(n)!=-1)return e;return null},findElementThatMeetsMultipleCriteria:function(e,t){if(e instanceof Array){for(var n in e)if(this.doesElementMeetAllCriteria(e[n],t))return e[n]}else if(this.doesElementMeetAllCriteria(e,t))return e;return null},doesElementMeetAllCriteria:function(e,t){var n;for(var a in t)if(n=t[a],!e.hasOwnProperty(a)||-1==e[a].indexOf(n))return!1;return!0},removeAudioElementsFromLibrary:function(e){var t;return t=e.filter(function(e){return!e.isAudio}),{libraryElements:t,nbElementsRemoved:e.length-t.length}},transformMelvilleElement:function(e){var t=this,n={created_date:"created",modified_date:"modified"},a=t.applyMapping(e,n);return a.representations&&(a.representations=a.representations.map(function(e){var n={};e.linkurl?n.linkurl="href":e.storage_href?n.storage_href="href":e.path&&(n.path="href");var a=Object.assign({linktype:"type",relationship:"rel",is_external_link:"external-link"},n);return t.applyMapping(e,a)})),a},applyMapping:function(e,t){return Object.keys(e).reduce(function(n,a){var i={};return i[t[a]||a]=e[a],Object.assign(n,i)},{})}}}),define("models/AssetLibraryItem",["lib/libraryutil"],function(e){"use strict";function t(e,t){if(void 0==e.stock_id)return null;var n,a=e.stock_id,i=e.content_id,s=-1==a.indexOf(",")?32:a.indexOf(","),r=a.substr(0,s),o=Math.floor(i/100);return o=String("00000000"+o).slice(-8),o=o.substr(0,2)+"/"+o.substr(2,2)+"/"+o.substr(4,2)+"/"+o.substr(6,2),n="https://v.ftcdn.net/"+o+"/240_F_"+i+"_"+r,t&&(n+="_ST"),n+=".mp4"}return function(n,a,i,s,r){this.name=a.name,this.id=a.id,this.modified=a.modified,this.imageUrl=i,this.rendition=e.findStockRendition(a),this.licensed=!1,this.parentLibraryId=n,this.representations=a.representations;var o=e.findStockRepresentation(a);if(o&&void 0!=o["adobestock#trackingdata"]){this.content_id=o["adobestock#trackingdata"].content_id,void 0!=o["adobestock#trackingdata"].license&&(this.licensed=o["adobestock#trackingdata"].license),void 0!=o["adobestock#trackingdata"].license_bookmark&&(this.license_bookmark=parseInt(o["adobestock#trackingdata"].license_bookmark,10));var l=o["adobestock#trackingdata"];this.isVideo="application/vnd.adobe.element.video+dcx"===a.type,this.isMOGRTS="application/vnd.adobe.element.graphic+dcx"===a.type,this.isAudio="application/vnd.adobe.element.audio+dcx"===a.type,(this.isVideo||this.isMOGRTS)&&(this.videoUrl=t(l,this.isVideo),o["video#data"]&&(this.duration=o["video#data"].duration))}this.content_original_width=s,this.content_original_height=r,this.dimensions={width:s,height:r}}}),define("lib/librariesV2",["jquery","lodash","page_config","lib/cookie","lib/member","lib/analytics/dunamis","lib/modal-window","lib/window","lib/libraryutil","models/AssetLibraryItem","app/constants/index","app/constants/mediaTypes"],function(e,t,n,a,i,s,r,o,l,c,u,d){"use strict";function p(){return window.__stock_portal_exports__.packages.coreClientCCLibraries}function h(){return{deviceId:"AdobeStock-"+a(N),device:navigator.userAgent,app:n.SUSI.CLIENT_ID}}function f(){return{"X-Request-Id":n.x_request_id}}function _(){return{"x-user-token":"Bearer "+T,"X-adobe-app-id":n.ans_app_id,"X-api-key":n.SUSI.CLIENT_ID}}function m(){var t=document.createElement("a");t.href=S;var a=t.protocol+"//"+t.host+"/libs/granite/csrf/token.json",i={Authorization:"Bearer "+T,"X-api-key":n.SUSI.CLIENT_ID};return e.ajax({url:a,type:"GET",headers:Object.assign(i,f())}).then(function(e){return e.token})}function E(t){var n=e.Deferred(),a=f();return t?m().then(function(e){a["CSRF-Token"]=e,n.resolve(a)}):n.resolve(a),n.promise()}function g(e,t){return n.isStorageTokenEnabled||i.checkAccessToken(e,t)}function v(){return i.fetchLibrariesToken().then(function(e){T=e}).fail(function(e){T=null})}function b(e,t){return e=e||{},v().then(function(){if(n.isTeamLibrariesEnabled&&t&&t.addOrgId)return i.fetchStorageRepositoryInfo(T)}).then(function(t){return t&&t.organizationId&&(e.orgId=t.organizationId),E(y)}).then(function(t){var a={accessToken:T,baseUrl:n.libraries_service_url_v2,clientId:n.SUSI.CLIENT_ID,extraHeaders:t};return Object.assign({},a,e)})}var T=i.fetchAccessToken(),I=i.getPrivateCloudUrlForLibraries(),S=t.get(I,"libraryServiceURL",n.libraries_service_url_v2),y=t.get(I,"isPrivateCloud",!1),A=t.get(I,"privateCloudId",""),O=t.get(I,"storageHost",n.libraries_storage_host),R={},C=n.libraries_use_stock_thumbnails,L=n.libraries_stock_base_url,D="application/vnd.adobe.library.link+dcx",N="isid";return{getLibrariesClient:p,refreshAccessToken:function(){T=i.fetchAccessToken()},getLibraries:function(t){var n=e.Deferred();if(!g(n,T))return n.reject(new Error("Invalid access token"));var a=!1,i={parameters:t},s={addOrgId:!0};t&&(a=t.owner===p().LIBRARIES_OWNER_PUBLIC,i.withRenditionGrid=t.withRenditionGrid);var r=a?p().getPublicLibraries:p().getPaginatedLibraries;return b(i,s).then(function(e){r(e).then(function(e){n.resolve({totalCount:e.total_count,libraries:e.libraries.sort(function(e,t){return e.name.localeCompare(t.name)})})},function(e){n.reject(e)})}).fail(function(e){n.reject(e)}),n},getLibraryById:function(t){var n=e.Deferred();if(!g(n,T))return n.reject(new Error("Invalid access token"));var a={libId:t},i={addOrgId:!0},s=R[t];return s&&"pending"===s.state()?s:(R[t]=n,b(a,i).then(function(e){p().getLibraryById(e).then(function(e){n.resolve(e)},function(e){e.response&&404==e.response.status?n.resolve(null):n.reject(e)})}).fail(function(e){n.reject(e)}),n)},getLibraryByName:function(t){var n=e.Deferred();if(!g(n,T))return n.reject(new Error("Invalid access token"));var a={name:t},i={addOrgId:!0},s=R[t];return s&&"pending"===s.state()?s:(R[t]=n,b(a,i).then(function(e){p().getLibrariesByName(e).then(function(e){var t;e&&e.libraries&&e.libraries.length&&(t=e.libraries.find(function(e){return!e.readOnly})),t?n.resolve(t):n.resolve(null)},function(e){e.response&&404==e.response.status?n.resolve(null):n.reject(e)})}).fail(function(e){n.reject(e)}),n)},createLibrary:function(t){var n=e.Deferred();return g(n,T)?(b({libName:t}).then(function(e){p().createLibrary(e).then(function(e){n.resolve(e)},function(e){n.reject(e)})}).fail(function(e){n.reject(e)}),n):n.reject(new Error("Invalid access token"))},deleteLibrary:function(t){var n=e.Deferred();return g(n,T)?(b({id:t}).then(function(e){p().deleteLibrary(e).then(function(){n.resolve(t)},function(e){n.reject(e)})}).fail(function(e){n.reject(e)}),n):n.reject(new Error("Invalid access token"))},renameLibrary:function(t,n){var a=e.Deferred();return g(a,T)?(b({libId:t,newLibName:n}).then(function(e){p().renameLibrary(e).then(function(e){a.resolve(e)},function(e){a.reject(e)})}).fail(function(e){a.reject(e)}),a):a.reject(new Error("Invalid access token"))},isStockElement:function(e){return e.representations&&Array.isArray(e.representations)&&e.representations.some(function(e){return null!=e["adobestock#trackingdata"]})},getLibraryElements:function(t,n){var a=e.Deferred(),i=this,s=n&&n.owner===p().LIBRARIES_OWNER_PUBLIC;if(!g(a,T))return a.reject(new Error("Invalid access token"));var r={libraryId:t,parameters:n,isPublicLibrary:s},o=s?p().getLibraryElements:p().getPaginatedLibraryElements;return b(r).then(function(e){o(e).then(function(e){var n=e.elements.filter(i.isStockElement).map(function(e){var n=l.transformMelvilleElement(e),a=i.generateRenditionByHeight(n,240);return new c(t,n,a.url,a.width,a.height)});a.resolve(n)},function(e){a.reject(e)})}).fail(function(e){a.reject(e)}),a},getLibraryThumbnails:function(t){var n=e.Deferred(),a=function(e){return e.replace(/cc-api-storage-stage.adobe.io/g,"cc-api-storage-creativesdk-stage.adobe.io").replace(/cc-api-storage.adobe.io/g,"cc-api-storage-creativesdk.adobe.io")},i=[];if(t.renditionGrid){if(t.renditionGrid.main&&"href"===t.renditionGrid.main.type&&t.renditionGrid.main.rendition){var s=t.renditionGrid.main.rendition.replace(/size=\d+/g,"size=400");i.push(a(s))}t.renditionGrid.tiles&&t.renditionGrid.tiles.length&&(i=i.concat(t.renditionGrid.tiles.filter(function(e){return"href"===e.type}).map(function(e){return a(e.rendition)})))}return n.resolve(i,t.id,t.totalCount),n},libraryContains:function(t,n){var a=e.Deferred();return g(a,T)&&t&&"desktop"!==t?(b({libraryId:t,assetId:n}).then(function(e){p().libraryContainsAsset(e).then(function(e){e.total_items>0?a.resolve(e.elements[0]):a.resolve(null)},function(e){a.reject(e)})}).fail(function(e){a.reject(e)}),a):a.reject(new Error("Invalid access token"))},deleteLibraryElement:function(t,n){var a=e.Deferred();return g(a,T)?(b({libraryId:t,elementId:n}).then(function(e){p().deleteLibraryElement(e).then(function(){a.resolve(n)},function(e){a.reject(e)})}).fail(function(e){a.reject(e)}),a):a.reject(new Error("Invalid access token"))},createDataForReferences:function(t){
var a,i,r,o,l,c=this,p=s.getDunamisContextGuid(),h=t.contentId,f=t.instanceId,_=t.state,m=t.license,E=t.licenseId,g=t.name,v=t.mimeType,b=c.fixUrlForLibraries(t.compMeta.url),T=t.compMeta.width,I=t.compMeta.height,S=t.licenseMeta.url,y=t.licenseMeta.width,A=t.licenseMeta.height,O=t.thumbnailMeta.url,R=t.thumbnailMeta.width,C=t.thumbnailMeta.height,L=t.contentLength,N=t.framerate,P=t.duration,M=t.resolution,w=t.librariesMetadata3d,x=t.licenseBookmark;return-1!=v.indexOf("video")?(a=d.VIDEO_ELEMENT,T=y,I=A):v===d.ILLUSTRATOR_TEMPLATE||v===d.INDESIGN_TEMPLATE||v===d.PHOTOSHOP_TEMPLATE?a=d.TEMPLATE_ELEMENT:v===d.EUCLID_MODELS?(a=d.MODEL_3D_ELEMENT,i=!0):v===d.EUCLID_MATERIALS?(a=d.MATERIAL_3D_ELEMENT,i=!0):v===d.EUCLID_LIGHTS?(a=d.LIGHTS_3D_ELEMENT,i=!0):a=v===d.AFTEREFFECTS_TEMPLATE||v===d.PREMIER_TEMPLATE?d.MOGRT:d.IMAGE_ELEMENT,o={type:a},null!=g&&(o.name=g),null!=m?(S=c.fixUrlForLibraries(S),a===d.MOGRT?(l=n.api_gateway_url+u.routes.DOWNLOAD_API+h+"/"+E,o.representations=[{is_external_link:!0,relationship:"primary",width:y,height:A,type:D,linktype:v,linkurl:l,"adobestock#trackingdata":{content_id:String(h),stock_id:String(f),license:m,state:_,context_guid:p}},{relationship:"rendition",type:d.JPEG,storage_href:O,width:R,height:C},{relationship:"rendition",type:d.PNG,storage_href:l+"?"+e.param({format:"png"}),width:R,height:C},{relationship:"alternate",is_external_link:!0,type:D,linktype:d.MOGRT_JSON,linkurl:l+"?"+e.param({format:"json"}),"adobestock#trackingdata":{content_id:String(h),stock_id:String(f),license:m,state:_,context_guid:p}}]):a===d.TEMPLATE_ELEMENT||i?o.representations=[{is_external_link:!0,relationship:"primary",width:y,height:A,type:D,linktype:v,linkurl:S,"adobestock#trackingdata":{content_id:String(h),stock_id:String(f),license:m,state:_,context_guid:p}},{relationship:"rendition",type:"image/jpeg",storage_href:O,width:R,height:C}]:o.representations=[{is_external_link:!0,relationship:"primary",width:y,height:A,type:D,linktype:v,linkurl:S,"adobestock#trackingdata":{content_id:String(h),stock_id:String(f),license:m,state:_,context_guid:p}},{is_external_link:!0,relationship:"rendition",width:T,height:I,type:D,linktype:v,linkurl:b,"adobestock#trackingdata":{content_id:String(h),stock_id:String(f),state:"not_purchased",context_guid:p}},{relationship:"rendition",type:"image/jpeg",storage_href:O,width:R,height:C}]):(o.representations=[{is_external_link:!0,relationship:"primary",width:T,height:I,type:D,linktype:v,linkurl:b,"adobestock#trackingdata":{content_id:String(h),stock_id:String(f),state:"not_purchased",context_guid:p}},{relationship:"rendition",type:"image/jpeg",storage_href:O,width:R,height:C}],n.isLibrariesLicenseBookmarkEnabled&&(o.representations[0]["adobestock#trackingdata"].license_bookmark=x)),-1!=v.indexOf("video")&&(null!=L&&(o.representations[0]["content-length"]=L),r={framerate:N,duration:P,resolution:M},o.representations[0]["video#data"]=r,m&&(o.representations[1]["video#data"]=r)),i&&w&&(o.representations[0]["3d#data"]=w),o},fixUrlForLibraries:function(t){if(-1!=t.indexOf(".loc")||-1!=t.indexOf("adobestock.dev.stage.adobe.com")){var n=e("<a>",{href:t})[0];n.hostname="primary.stock.stage.adobe.com",t=n.href}var a=t.split("/");return"Download"!==a[3]&&(a.splice(3,1),t=a.join("/")),t=t.replace("/Download/Watermarked/","/Rest/Libraries/Watermarked/Download/"),t=t.replace("/Download/DownloadFileDirectly/","/Rest/Libraries/Download/")},getCCAcknowledgementThroughANS:function(t,n,a,i){var s=e.Deferred(),o=this;a<4?e.ajax({url:t+"&page_size=10",type:"GET",contentType:"application/json",headers:_()}).then(function(e){for(var r=e.notifications.notification,l=!1,c=0;c<r.length;c++){if(r[c]["notification-id"]===n&&"received"==r[c].state){l=!0,s.resolve(e),o.sendOpenInAnalyticsData(i);break}}l||setTimeout(function(){o.getCCAcknowledgementThroughANS(t,n,a+1,i)},1e3)},function(e){s.reject(e)}):(r.show("openInNoAcknowledgement",{}),o.cancelOpenInANSMessage(t,n),o.sendOpenInAnalyticsData(i,{"event.error_type":"openin-no-ans-acknowledgement","event.error_desc":"timed out waiting for ans acknowledgement"}))},cancelOpenInANSMessage:function(t,n){var a=e.Deferred(),i={notifications:{notification:[{"notification-id":n,state:"CANCELED"}]}};e.ajax({url:t,type:"PUT",contentType:"application/json",data:JSON.stringify(i),headers:_()}).then(function(e){a.resolve(e)},function(e){a.reject(e)})},sendOpenInAnalyticsData:function(t,a){var i=e.Deferred(),s=new Date,r=s.toISOString(),l=o.getSearchObject(),c={"event.dts_start":t.event_dts_start,"event.dts_end":r,"event.type":"openin","event.subtype":t.appAction.toLowerCase(),"event.category":"STOCK","event.subcategory":"openin-workflow","event.cloud_id":A||"","event.context_guid":t.contextGuid,"content.id":t.content_id,"content.status":t.license?"licensed":"free","ui.search_keyword":l.k,"consumer.name":t.appCode,"consumer.version":t.appVersion,"stock_openin.element_id":t.elementId};a&&(c=Object.assign(c,a)),e.ajax({url:n.base_url+"/Ajax/Ingest/LogEvent",type:"POST",data:{event:JSON.stringify(c)}}).then(function(e){i.resolve(e)},function(e){i.reject(e)})},createANSNotificationMessage:function(t,a,r,l,c,u){var p=e.Deferred(),h=this,f=o.getSearchObject(),m="";m=r&&-1!=r.indexOf("video")?d.VIDEO_ELEMENT:r===d.ILLUSTRATOR_TEMPLATE||r===d.INDESIGN_TEMPLATE||r===d.PHOTOSHOP_TEMPLATE?d.TEMPLATE_ELEMENT:d.IMAGE_ELEMENT;var E="",g="",v="";u&&"OpenInPs"===u?(g="PHXS",E="17.0"):u&&"OpenInId"===u?(g="IDSN",E="11.4.0"):u&&"OpenInAi"===u?(g="ILST",E="20.0.0"):u&&"OpenInPr"===u?(g="PPRO",E="10.3"):u&&"OpenInAe"===u&&(g="AEFT",E="13.8.0"),t&&a&&(v="cloud-asset://"+O+"/assets/adobe-libraries/"+t+";node="+a);var b=s.getDunamisContextGuid(),T=new Date,I={appCode:g,appVersion:E,contextGuid:b,elementId:a,content_id:l,event_dts_start:T.toISOString(),appAction:u,license:c},S={protocolVersion:"1",appCode:g,appVersion:E,elementType:m,elementRef:v,context_guid:b,search_keyword:f.k||""};A&&(S.cloudID=A);var y={notifications:{notification:[{"user-id":i.getGuid(),type:"com.adobe.designlibrary.v1","sub-type":"stock.open.request",priority:"20",state:"NEW",payload:JSON.stringify(S)}]}},R=n.ans_endpoint_url;e.ajax({url:R,type:"POST",contentType:"application/json",data:JSON.stringify(y),headers:_()}).then(function(e){var t=e.notifications.notification[0]["notification-id"];t&&h.getCCAcknowledgementThroughANS(R,t,0,I),p.resolve(e)},function(e){h.sendOpenInAnalyticsData(I,{"event.error_type":"openin-ans-request-failed","event.error_desc":"ans service error"}),p.reject(e)})},generateRenditionByHeight:function(e,t){var a=this,i=a.useStockThumbnails(e),s=l.findStockRendition(e);if(null==i&&s){var r=t,o=l.findStockSize(e);if(i={width:320,height:240},null!=o){var c=o.height,u=o.width;u>c&&(r=u*t/c,r=r.toFixed()),i.width=Math.round(o.width/o.height*240)}i.url=s.href+"/:rendition;size="+r+";version=0?accept=image/jpeg&api_key="+n.SUSI.CLIENT_ID+"&user_token="+T}return i},useStockThumbnails:function(e){var t=null,n=l.findStockRepresentation(e),a=l.findStockRendition(e);if(C&&n&&void 0!==n["adobestock#trackingdata"].stock_id&&n["adobestock#trackingdata"].stock_id.length>=32){var i,s;t={},i=-1==n["adobestock#trackingdata"].stock_id.indexOf(",")?n["adobestock#trackingdata"].stock_id.substr(0,32):n["adobestock#trackingdata"].stock_id.substr(0,n["adobestock#trackingdata"].stock_id.indexOf(",")),s=n["adobestock#trackingdata"].content_id;var r=Math.floor(Number(s)/100);r=String("00000000"+r).slice(-8),r=r.substr(0,2)+"/"+r.substr(2,2)+"/"+r.substr(4,2)+"/"+r.substr(6,2),t.url=L+"/jpg/"+r+"/240_F_"+s+"_"+i+".jpg",t.width=a&&a.width||320,t.height=a&&a.height||240}return t},addLibraryElementUsingReferences:function(t,n,a,i){var s=e.Deferred(),r=this,o=i||"async";return g(s,T)?(n&&(o="sync"),b({libraryClient:h(),libraryId:t,invocationMode:o,assetId:a.contentId,asset:r.createDataForReferences(a)}).then(function(e){p().addLibraryElement(e).then(function(e){if(n){var i=e&&e.id?e.id:null;r.getLibraryById(t).then(function(t){r.createANSNotificationMessage(t.originalId,i,a.mimeType,a.contentId,a.license,n),s.resolve(e)},function(e){s.reject(e)})}else s.resolve(e)},function(e){s.reject(e)})}).fail(function(e){s.reject(e)}),s):s.reject(new Error("Invalid access token"))},updateLibraryElementUsingReferences:function(t,n,a){var i=e.Deferred(),r=this;if(!g(i,T))return i.reject(new Error("Invalid access token"));var o={libraryClient:h(),asset:n,contextGuid:s.getDunamisContextGuid()},l={addOrgId:!0};return e.extend(o,a||{}),b(o,l).then(function(e){p().updateElementInAllLibraries(e).then(function(e){if(t){var a,s;e[0]&&e[0].parent_id&&(a=e[0].parent_id),e[0]&&e[0].id&&(s=e[0].id),a&&s&&r.getLibraryById(a).then(function(e){r.createANSNotificationMessage(e.originalId,s,n.mimetype,n.contentId,n.license,t)},function(e){i.reject(e)})}i.resolve({elements:e})},function(e){i.reject(e)})}).fail(function(e){i.reject(e)}),i},LIBRARY_DESKTOP_ID:"desktop"}}),define("lib/hbsBasicHelpersFunctions",["page_config","Handlebars"],function(e,t){"use strict";function n(t,n){var a=e[t];return n.fn||n.inverse?a?n.fn(this):n.inverse(this):a}function a(n,a){var i=n,s=[];return["class","target","data-k","data-t","download"].forEach(function(e){a.hash[e]&&s.push(e+'="'+t.escapeExpression(a.hash[e])+'"')}),a.hash["gotourl-localize"]&&e.base_url.length&&-1!==n.toLowerCase().indexOf("adobe.com/go/")&&(i=("/"===n.slice(-1)?n.slice(0,-1):n)+e.base_url.replace("/","_")),s.push('href="'+t.escapeExpression(i)+'"'),new t.SafeString("<a "+s.join(" ")+">")}function i(){return"</a>"}function s(e,n){var s,r;return s=e,n.hash.text&&(s=n.hash.text),r="",s&&(r=a(e,n)+t.escapeExpression(s)+i()),r}function r(e,t){return t||(t=15),e&&e.length>t&&(e=e.substr(0,t-"...".length)+"..."),e}return{featureFlag:n,linkOpenTag:a,linkCloseTag:i,linkBuilder:s,truncate:r}}),define("lib/librariesStore",["jquery","lib/ajax","lib/librariesV2","page_config","lib/uiEvents","lib/member","i18n-config","lib/localStorage","lib/error","lib/license","lib/utils","app/utils/error","lib/hbsBasicHelpersFunctions","lib/cookie","app/constants/cookies"],function(e,t,n,a,i,s,r,o,l,c,u,d,p,h,f){"use strict";function _(e){return"library"+e}var m={librariesByName:{},report:function(e,t){var n={component:"libraries",action:t};d.reportNewRelicError(e,n)},getLibraries:function(t,a){function o(e){var n=e&&e.libraries,o=e&&e.totalCount;!t||!u.shouldCreateDefaultLibrary(n)||p&&1!==a.page?n.length>=1&&!s.getDefaultCloudId()&&!s.getDefaultLibraryId()&&!s.getDefaultOpenInAppCode()?u.getLibraryByName(r.gettext("LIBRARY::MYLIBRARY::My Library")).then(function(e){e&&e.id&&u.saveDefaultLibrary(e,null,!1).then(function(){d.resolve({libraries:n,totalCount:o}),i.trigger(i.DEFAULT_LIBRARY_UPDATED,e.libraryUrn||e.id)})}):d.resolve({libraries:n,totalCount:o}):(u.setIsFirstLibraryCreating(),u.createLibrary(r.gettext("LIBRARY::MYLIBRARY::My Library")).then(function(e){s.getDefaultLibraryId()?d.resolve({libraries:[e],totalCount:1}):u.saveDefaultLibrary(e,null,!1).then(function(){d.resolve({libraries:[e],totalCount:1}),i.trigger(i.DEFAULT_LIBRARY_UPDATED,e.libraryUrn||e.id)})}))}function c(e){m.report(e,"librariesStore.getLibraries"),d.reject(l.errorMsg(r.gettext("GENERIC::Something Went Wrong"),r.gettext("LIBRARIES::Could not load libraries.")))}var u=this,d=e.Deferred(),p=a&&a.page>0;return n.getLibraries(a).done(function(e){!u.shouldCreateDefaultLibrary(e.libraries)||p&&1!==a.page?o(e):n.getLibraries(a).done(o).fail(c)}).fail(c),d.promise()},shouldCreateDefaultLibrary:function(e){var t=e.filter(function(e){return e.readOnly}),n=e.length>0&&t.length<e.length,a=h(f.FIRST_LIBRARY_CREATING);return n&&a&&h(f.FIRST_LIBRARY_CREATING,null,{path:"/"}),!n&&!a},getLibraryById:function(t,a){var i=e.Deferred();if("desktop"===t||void 0===t)return i.resolve(null);var r;return a||(r=o.retrieveData(s.getMemberId(),_(t),null,!0)),r?i.resolve(r):n.getLibraryById(t).then(function(e){null!==e&&o.storeData(s.getMemberId(),_(t),e,!0),i.resolve(e)},function(e){m.report(e,"librariesStore.getLibraryById"),i.resolve(null)}),i},getLibraryByName:function(t){var a=this,i=e.Deferred(),s={id:n.LIBRARY_DESKTOP_ID},r=a.librariesByName[t];if(r)return i.resolve(r);var o=function(e){a.librariesByName[t]=e,i.resolve(e)};return n.getLibraryByName(t).then(function(e){e||(e=s),o(e)}).fail(function(e){m.report(e,"librariesStore.getLibraryByName"),o(s)}),i},createLibrary:function(t){var a=this,i=e.Deferred();return t=t&&t.trim(),t&&t.length?n.createLibrary(t).done(function(e){a.librariesByName[t]=e,i.resolve(e)}).fail(function(e){m.report(e,"librariesStore.createLibrary"),i.reject(l.errorMsg(r.gettext("GENERIC::Something Went Wrong"),r.gettext("LIBRARIES::Failed to create library.")))}):(i.reject(l.errorMsg(r.gettext("GENERIC::Something Went Wrong"),r.gettext("LIBRARY::Your library's name can't be empty."))),l.displayErrorMsgModal()),i.promise()},deleteLibrary:function(t){var a=e.Deferred();return n.deleteLibrary(t).done(function(){o.removeData(s.getMemberId(),_(t),!0),a.resolve()}).fail(function(e){m.report(e,"librariesStore.deleteLibrary"),a.reject(l.errorMsg(r.gettext("GENERIC::Something Went Wrong"),r.gettext("LIBRARIES::Could not delete library.")))}),a},renameLibrary:function(t,a){var i=this,c=e.Deferred();return a=a&&a.trim(),a&&a.length?n.renameLibrary(t,a).done(function(){i.getLibraryById(t).then(function(e){null!==e&&(e.name=a,o.storeData(s.getMemberId(),_(t),e,!0)),c.resolve(e)})}).fail(function(e){m.report(e,"librariesStore.renameLibrary"),c.reject(l.errorMsg(r.gettext("GENERIC::Something Went Wrong"),r.gettext("LIBRARIES::Could not rename library.")))}):(c.reject(l.errorMsg(r.gettext("GENERIC::Something Went Wrong"),r.gettext("LIBRARY::Your library's name can't be empty."))),l.displayErrorMsgModal()),c},getLibraryElements:function(t,a){var i=e.Deferred();return n.getLibraryElements(t,a).done(function(e){i.resolve(e)}).fail(function(e){m.report(e,"librariesStore.getLibraryElements"),i.reject(l.errorMsg(r.gettext("GENERIC::Something Went Wrong"),r.gettext("LIBRARIES::Could not retrieve library items.")))}),i},getLibraryThumbnails:function(e){return n.getLibraryThumbnails(e)},libraryContains:function(t,a){var i=e.Deferred();return n.libraryContains(t,a).done(function(e){i.resolve(e)}).fail(function(e){m.report(e,"librariesStore.libraryContains"),i.reject(l.errorMsg(r.gettext("GENERIC::Something Went Wrong"),r.gettext("LIBRARIES::Could not retrieve library items.")))}),i},deleteLibraryElement:function(t,a){var i=e.Deferred();return n.deleteLibraryElement(t,a).done(function(e){i.resolve(e)}).fail(function(e){m.report(e,"librariesStore.deleteLibraryElement"),i.reject(l.errorMsg(r.gettext("GENERIC::Something Went Wrong"),r.gettext("LIBRARIES::Could not delete library item.")))}),i},analyticsLibraryElement:function(t,a){var i=e.Deferred();return n.analyticsLibraryElement(t,a).done(function(){i.resolve()}).fail(function(){i.resolve()}),i},buildElementData:function(e,t){var n=this.updateAssetHelper(e),a=e.comp_file_path,i=e.content_thumb_url.substring(e.content_thumb_url.lastIndexOf("_")+1,e.content_thumb_url.lastIndexOf("."))+","+s.getMemberId(),r=e.license_id;return r&&(a=e.comp_file_path+"/"+r),{compMeta:{height:e.content_height,url:a,width:e.content_width},contentId:e.content_id,contentLength:e.content_length,contentType:e.content_type,contentTypeId:e.content_type_id,downloadUrl:e.licensed_file_path,duration:e.duration,framerate:e.framerate,instanceId:i,librariesMetadata3d:e.libraries_metadata,license:e.license,licenseBookmark:t||e.default_license_id,licenseId:r,licenseMeta:{height:e.content_original_height,url:e.licensed_file_path,width:e.content_original_width},mimeType:n.mimetype,name:e.title,resolution:e.resolution,state:e.state,thumbnailMeta:{height:e.thumbnail_height,url:e.thumbnail_url,width:e.thumbnail_width}}},addLibraryElement:function(t,a,i,s,o){var c=this,u=e.Deferred();c.setHDDimensions(a);return function(){c.getCCLibrariesData(a).then(function(e){var a=c.buildElementData(e,o);n.addLibraryElementUsingReferences(t,i,a,s).done(function(e){u.resolve(e)}).fail(function(e){m.report(e,"librariesStore.addLibraryElement"),u.reject(l.errorMsg(r.gettext("GENERIC::Something Went Wrong"),r.gettext("LIBRARIES::Could not add to library.")))})})}(),u.promise()},updateLibraryElement:function(t,a,i){var s=this,o=e.Deferred();return s.getCCLibrariesData(a).then(function(e){s.setHDDimensions(e);var a=s.buildElementData(e,i);n.updateLibraryElementUsingReferences(null,a,{libraryId:t,createPurchasedRepresentation:!1}).done(function(e){o.resolve(e)}).fail(function(e){m.report(e,"librariesStore.updateLibraryElement"),o.reject(l.errorMsg(r.gettext("GENERIC::Something Went Wrong"),r.gettext("LIBRARIES::Could not add to library.")))})}),o.promise()},hasCCLibrariesData:function(e){return!!(e&&e.state&&e.downloaded&&e.license&&e.licensed_file_path)},getCCLibrariesData:function(n){var a,i,s,r=e.Deferred();return a=n&&n.content_id,s=c.getLicenseIdIfLicensed(n),i=u.computeDownloadUrl(a,s),n.license_id=s,a&&!this.hasCCLibrariesData(n)&&c.isAlreadyLicensed(a,n,s)?(t.post(i).then(function(e){n.state=e.purchased_state,n.downloaded=!0,n.license=e.license_name,n.licensed_file_path=e.download_url,r.resolve(n)}).fail(function(){r.resolve(n)}),r.promise()):(r.resolve(n),r.promise())},updateElementInAllLibraries:function(t,a){var i=this,s=e.Deferred();return i.getCCLibrariesData(t).then(function(e){var t=i.buildElementData(e);return i.setHDDimensions(e),n.updateLibraryElementUsingReferences(a,t).done(function(e){s.resolve(e)}).fail(function(e){m.report(e,"librariesStore.updateElementInAllLibraries"),s.reject(l.errorMsg(r.gettext("GENERIC::Something Went Wrong"),r.gettext("LIBRARIES::Could not add to library.")))}),s}),s.promise()},updateAssetHelper:function(e){var t=new Object;return-1!=e.format.indexOf("jpeg")?t.mimetype="image/jpeg":"ai"===e.format?t.mimetype="application/illustrator":"ait"===e.format?t.mimetype="application/illustrator.template":e.content_type?t.mimetype=e.content_type:e.representations&&e.representations[0].type?t.mimetype=e.representations[0].type:t.mimetype=null,e.downloaded?(t.downloadURL=e.licensed_file_path,t.width=e.content_original_width,t.height=e.content_original_height):(t.downloadURL=e.comp_file_path,t.width=e.content_width,t.height=e.content_height,e.license=null),t},saveDefaultLibrary:function(t,r,o,l){var c,u={},d=t;return t&&"object"==typeof t&&(d=t.libraryUrn||t.id),s.isLoggedIn()?d&&d!==n.LIBRARY_DESKTOP_ID?(d&&(u.default_library_id=d),l&&(u.default_openin_appcode=l),s.isCCEPrivateUser()&&(r||o)?u.default_cloud_id=r:s.isCCEPrivateUser()&&!o||(u.default_cloud_id=""),e.ajax({url:a.base_url+"/Ajax/Library/SaveDefaultLibrary",method:"POST",data:u}).then(function(){c=d||l,i.trigger(i.DEFAULT_LIBRARY_UPDATED,c,l)})):e.Deferred().resolve("Invalid library ID").promise():e.Deferred().resolve("No member to save default library to").promise()},setHDDimensions:function(e){var t=c.getLicenseId(e.content_id);e.is_video&&"HD"===e.resolution&&e.possible_data_video&&Object.keys(e.possible_data_video).length>1&&e.possible_data_video.hasOwnProperty(t)&&e.possible_data_video[t].video_height&&e.possible_data_video[t].video_width&&(e.content_original_width=e.possible_data_video[t].video_width,e.content_original_height=e.possible_data_video[t].video_height)},setIsFirstLibraryCreating:function(){var e=new Date;e.setTime(e.getTime()+3e5),h(f.FIRST_LIBRARY_CREATING,!0,{path:"/",expires:e})},getLibraryIdForOpenIn:function(t){var a=this,i=e.Deferred(),s=u.getOpenInLibraryName(t,{templateString:r.gettext("LIBRARY::TEMPLATES::Stock Templates"),defaultString:r.gettext("LIBRARY::DOWNLOADS::Downloads")});return a.getLibraryByName(s).then(function(e){var t=e.id;t&&t!==n.LIBRARY_DESKTOP_ID?i.resolve(t):a.createLibrary(s).done(function(e){t=e.id,i.resolve(t)})}),i},LIBRARY_DESKTOP_ID:n.LIBRARY_DESKTOP_ID,openAssetInSelectedApp:function(t,n){return n?m.getLibraryIdForOpenIn(t.content_id).then(function(e){m.addLibraryElement(e,t,n)}):e.Deferred().reject()},isLibraryNameValid:function(e){return(e=e&&e.trim())&&e.length},renameLibraryPageSuccessHandler:function(e,t){e.hide(),e.siblings("h1").show().find("a").text(t)},renameLibraryTitleSuccessHandler:function(t,n){e("#titleRenameContainer").html(e("<p/>").text(p.truncate(n,80)))},renameLibraryPageErrorHandler:function(e){l.displayErrorMsgModal(e,r.gettext("GENERIC::Something Went Wrong"),r.gettext("GENERIC::There was an error processing your request."))},renameLibraryHandler:function(e,t,n){var a=e.serializeArray().reduce(function(e,t){return e[t.name]=t.value,e},{});if(!this.isLibraryNameValid(a.name))return void l.displayErrorMsgModal(l.errorMsg(r.gettext("GENERIC::Something Went Wrong"),r.gettext("LIBRARY::Your library's name can't be empty.")));m.renameLibrary(a.libraryUrn||a.id,a.name).done(function(n){t(e,n.name)}).fail(function(e){n(e)})},deleteLibraryHandler:function(e,t,n,a){m.deleteLibrary(t).done(function(){n(e)}).fail(function(t){a(e,t)})}};return m}),define("hbs!templates/licenseBadge",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return"\n"+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.total_quota_available_by_license_type_name:i)?i.Agency_Model_Standard:i,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.program(4,a,0),data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.total_quota_available_by_license_type_name:i)?i.Agency_Model_Universal:i,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.program(9,a,0),data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.total_quota_available_by_license_type_name:i)?i.Agency_Model_Premium:i,{name:"if",hash:{},fn:this.program(12,a,0),inverse:this.program(14,a,0),data:a}))?i:"")+"\n"},2:function(e,t,n,a){var i;return'        <span class="badge badge_credits">\n            <span class="quota">\n                '+this.escapeExpression((t.number||e&&e.number||t.helperMissing).call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.total_quota_available_by_license_type_name:i)?i.Agency_Model_Standard:i,{name:"number",hash:{},data:a}))+"\n            </span>\n            "+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Standard Credit","HEADER::MEMBER::Standard Credits",null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.total_quota_available_by_license_type_name:i)?i.Agency_Model_Standard:i,{name:"ngettext",hash:{},data:a}))+"\n        </span>\n"},4:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.organization:i)?i.hasAgencyCreditsStandard:i,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:""},5:function(e,t,n,a){return'            <span class="badge badge_credits"><span class="quota">0</span> '+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Standard Credit","HEADER::MEMBER::Standard Credits",0,{name:"ngettext",hash:{},data:a}))+"</span>\n"},7:function(e,t,n,a){var i;return'        <span class="badge badge_credits">\n            <span class="quota">\n                '+this.escapeExpression((t.number||e&&e.number||t.helperMissing).call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.total_quota_available_by_license_type_name:i)?i.Agency_Model_Universal:i,{name:"number",hash:{},data:a}))+"\n            </span>\n            "+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Universal Credit","HEADER::MEMBER::Universal Credits",null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.total_quota_available_by_license_type_name:i)?i.Agency_Model_Universal:i,{name:"ngettext",hash:{},data:a}))+"\n        </span>\n"},9:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.organization:i)?i.hasAgencyCreditsUniversal:i,{name:"if",hash:{},fn:this.program(10,a,0),inverse:this.noop,data:a}))?i:""},10:function(e,t,n,a){return'            <span class="badge badge_credits"><span class="quota">0</span> '+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Universal Credit","HEADER::MEMBER::Universal Credits",0,{name:"ngettext",hash:{},data:a}))+"</span>\n"},12:function(e,t,n,a){var i;return'        <span class="badge badge_credits">\n            <span class="quota">\n                '+this.escapeExpression((t.number||e&&e.number||t.helperMissing).call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.total_quota_available_by_license_type_name:i)?i.Agency_Model_Premium:i,{name:"number",hash:{},data:a}))+"\n            </span>\n            "+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Premium Credit","HEADER::MEMBER::Premium Credits",null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.total_quota_available_by_license_type_name:i)?i.Agency_Model_Premium:i,{name:"ngettext",hash:{},data:a}))+"\n        </span>\n"},14:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.organization:i)?i.hasAgencyCreditsPremium:i,{name:"if",hash:{},fn:this.program(15,a,0),inverse:this.noop,data:a}))?i:""},15:function(e,t,n,a){return'            <span class="badge badge_credits"><span class="quota">0</span> '+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Premium Credit","HEADER::MEMBER::Premium Credits",0,{name:"ngettext",hash:{},data:a}))+"</span>\n"},17:function(e,t,n,a){var i;return(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.hasCreditModel:i,{name:"if",hash:{},fn:this.program(18,a,0),inverse:this.program(29,a,0),data:a}))?i:"")+"\n"},18:function(e,t,n,a){var i;return(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.total_quota_available_by_license_type_name:i)?i.Credits_Images:i,{name:"if",hash:{},fn:this.program(19,a,0),inverse:this.program(21,a,0),data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.total_quota_available_by_license_type_name:i)?i.Credits_Generic:i,{name:"if",hash:{},fn:this.program(24,a,0),inverse:this.program(26,a,0),data:a}))?i:"")},19:function(e,t,n,a){var i;return'            <span class="badge badge_credits"><span class="quota">'+this.escapeExpression((t.number||e&&e.number||t.helperMissing).call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.total_quota_available_by_license_type_name:i)?i.Credits_Images:i,{name:"number",hash:{},data:a}))+"</span> "+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Image","HEADER::MEMBER::Images",null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.total_quota_available_by_license_type_name:i)?i.Credits_Images:i,{name:"ngettext",hash:{},data:a}))+"</span>\n"},21:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.organization:i)?i.hasCreditsCore:i,{name:"if",hash:{},fn:this.program(22,a,0),inverse:this.noop,data:a}))?i:""},22:function(e,t,n,a){return'                <span class="badge badge_credits"><span class="quota">0</span> '+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Image","HEADER::MEMBER::Images",0,{name:"ngettext",hash:{},data:a}))+"</span>\n"},24:function(e,t,n,a){var i;return'            <span class="badge badge_credits"><span class="quota">'+this.escapeExpression((t.number||e&&e.number||t.helperMissing).call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.total_quota_available_by_license_type_name:i)?i.Credits_Generic:i,{name:"number",hash:{},data:a}))+"</span> "+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Credit","HEADER::MEMBER::Credits",null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.total_quota_available_by_license_type_name:i)?i.Credits_Generic:i,{name:"ngettext",hash:{},data:a}))+"</span>\n"},26:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.organization:i)?i.hasCreditsGeneric:i,{name:"if",hash:{},fn:this.program(27,a,0),inverse:this.noop,data:a}))?i:""},27:function(e,t,n,a){return'                <span class="badge badge_credits"><span class="quota">0</span> '+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Credit","HEADER::MEMBER::Credits",0,{name:"ngettext",hash:{},data:a}))+"</span>\n"},29:function(e,t,n,a){var i;return(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.total_quota_available_by_license_name:i)?i.Video_HD:i,{name:"if",hash:{},fn:this.program(30,a,0),inverse:this.program(32,a,0),data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.total_quota_available_by_license_name:i)?i.Standard:i,{name:"if",hash:{},fn:this.program(35,a,0),inverse:this.program(37,a,0),data:a}))?i:"")},30:function(e,t,n,a){var i;return'            <span class="badge"><span class="quota">'+this.escapeExpression((t.number||e&&e.number||t.helperMissing).call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.total_quota_available_by_license_name:i)?i.Video_HD:i,{name:"number",hash:{},data:a}))+"</span>&nbsp;"+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Video","HEADER::MEMBER::Videos",null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.total_quota_available_by_license_name:i)?i.Video_HD:i,{name:"ngettext",hash:{},data:a}))+"</span>\n"},32:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.is_cce:i,{name:"if",hash:{},fn:this.program(33,a,0),inverse:this.noop,data:a}))?i:""},33:function(e,t,n,a){return'                <span class="badge"><span class="quota">0</span>&nbsp;'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Video","HEADER::MEMBER::Videos",0,{name:"ngettext",hash:{},data:a}))+"</span>\n"},35:function(e,t,n,a){var i;return'            <span class="badge"><span class="quota">'+this.escapeExpression((t.number||e&&e.number||t.helperMissing).call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.total_quota_available_by_license_name:i)?i.Standard:i,{name:"number",hash:{},data:a}))+"</span> "+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Image","HEADER::MEMBER::Images",null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.total_quota_available_by_license_name:i)?i.Standard:i,{name:"ngettext",hash:{},data:a}))+"</span>\n"},37:function(e,t,n,a){return'            <span class="badge"><span class="quota">0</span>&nbsp;'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Image","HEADER::MEMBER::Images",0,{name:"ngettext",hash:{},data:a}))+"</span>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.hasAgencyModel:i,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(17,a,0),data:a}))?i:""},useData:!0})}),define("hbs!templates/components/coachMark",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i
;return'    <div class="container-absolute container-none js-step-'+this.escapeExpression(this.lambda(null!=e?e.step:e,e))+" onboarding-step-"+this.escapeExpression(this.lambda(null!=e?e.step:e,e))+'" style="width: 0;" data-t="coach-mark-step-'+this.escapeExpression(this.lambda(null!=e?e.step:e,e))+'">\n        <div class="coach-mark-indicator container-relative coach-mark-step-'+this.escapeExpression(this.lambda(null!=e?e.step:e,e))+'">\n            <div class="coach-mark-indicator__ring container-block container-absolute circle border-solid border-2 '+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{value:null!=e?e.step:e,logic:"eq",tovalue:4},fn:this.program(2,a,0),inverse:this.program(4,a,0),data:a}))?i:"")+'"></div>\n            <div class="coach-mark-indicator__ring container-block container-absolute circle border-solid border-2 '+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{value:null!=e?e.step:e,logic:"eq",tovalue:4},fn:this.program(2,a,0),inverse:this.program(4,a,0),data:a}))?i:"")+'"></div>\n            <div class="coach-mark-indicator__ring container-block container-absolute circle border-solid border-2 '+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{value:null!=e?e.step:e,logic:"eq",tovalue:4},fn:this.program(2,a,0),inverse:this.program(4,a,0),data:a}))?i:"")+'"></div>\n        </div>\n\n        <div class="coach-mark-widget theme white silver-sand-border container-relative coach-mark-widget-med-step-'+this.escapeExpression(this.lambda(null!=e?e.step:e,e))+" border-1 border-radius-4 border-solid coach-widget-step-"+this.escapeExpression(this.lambda(null!=e?e.step:e,e))+'">\n\n'+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{value:null!=e?e.step:e,logic:"eq",tovalue:3},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{value:null!=e?e.step:e,logic:"eq",tovalue:4},fn:this.program(8,a,0),inverse:this.noop,data:a}))?i:"")+'\n            <div class="coach-mark-widget__header margin-bottom-medium padding-left-xlarge padding-right-xlarge padding-top-xlarge">\n                <div class="grey heavy-metal-text text-regular no-margin font-bold" data-t="coach-mark-title-step-'+this.escapeExpression(this.lambda(null!=e?e.step:e,e))+'">\n'+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{value:null!=e?e.step:e,logic:"eq",tovalue:1},fn:this.program(10,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{value:null!=e?e.step:e,logic:"eq",tovalue:2},fn:this.program(17,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{value:null!=e?e.step:e,logic:"eq",tovalue:3},fn:this.program(19,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{value:null!=e?e.step:e,logic:"eq",tovalue:4},fn:this.program(21,a,0),inverse:this.noop,data:a}))?i:"")+'\n                </div>\n                <div class="grey dove-text text-sregular">\n                    '+this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"MEMBER::ONBOARDING::%s of %s",{name:"_",hash:{},data:a}),null!=e?e.step:e,null!=e?e.totalSteps:e,{name:"sprintf",hash:{},data:a}))+'\n                </div>\n            </div>\n            <div class="grey gravel-text margin-bottom-medium padding-left-xlarge padding-right-xlarge coach-widget-text" data-t="coach-mark-text-step-'+this.escapeExpression(this.lambda(null!=e?e.step:e,e))+'">\n'+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{value:null!=e?e.step:e,logic:"eq",tovalue:1},fn:this.program(23,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{value:null!=e?e.step:e,logic:"eq",tovalue:2},fn:this.program(30,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{value:null!=e?e.step:e,logic:"eq",tovalue:3},fn:this.program(32,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{value:null!=e?e.step:e,logic:"eq",tovalue:4},fn:this.program(34,a,0),inverse:this.noop,data:a}))?i:"")+'            </div>\n            <div class="right-align padding-bottom-xlarge padding-left-xlarge padding-right-xlarge">\n'+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{value:null!=e?e.step:e,logic:"eq",tovalue:4},fn:this.program(36,a,0),inverse:this.program(38,a,0),data:a}))?i:"")+"            </div>\n        </div>\n    </div>\n"},2:function(e,t,n,a){return"blue picton-border"},4:function(e,t,n,a){return"white-border"},6:function(e,t,n,a){return'                <img src="'+this.escapeExpression((t.staticCdnPics||e&&e.staticCdnPics||t.helperMissing).call(e,"onboarding/tutorial-libraries.jpg",{name:"staticCdnPics",hash:{},data:a}))+'" alt="'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MEMBER::ONBOARDING::Libraries Tutorial",{name:"_",hash:{},data:a}))+'" width="100%" />\n'},8:function(e,t,n,a){return'                <img src="'+this.escapeExpression((t.staticCdnPics||e&&e.staticCdnPics||t.helperMissing).call(e,"onboarding/tutorial-visual-search.gif",{name:"staticCdnPics",hash:{},data:a}))+'" alt="'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MEMBER::ONBOARDING::Visual Search Tutorial",{name:"_",hash:{},data:a}))+'" width="100%" />\n'},10:function(e,t,n,a){var i;return(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Standard:i,value:null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.has_ever_had_credit_packs:i,logic:"and"},fn:this.program(11,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:(t.not||e&&e.not||t.helperMissing).call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Standard:i,{name:"not",hash:{},data:a}),value:null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.has_ever_had_credit_packs:i,logic:"and"},fn:this.program(13,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Standard:i,value:(t.not||e&&e.not||t.helperMissing).call(e,null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.has_ever_had_credit_packs:i,{name:"not",hash:{},data:a}),logic:"and"},fn:this.program(15,a,0),inverse:this.noop,data:a}))?i:"")},11:function(e,t,n,a){return"                            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MEMBER::ONBOARDING::Your credits and licenses at a glance",{name:"_",hash:{},data:a}))+"\n"},13:function(e,t,n,a){return"                            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MEMBER::ONBOARDING::Your credits at a glance",{name:"_",hash:{},data:a}))+"\n"},15:function(e,t,n,a){return"                            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MEMBER::ONBOARDING::Your licenses at a glance",{name:"_",hash:{},data:a}))+"\n"},17:function(e,t,n,a){return"                        "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MEMBER::ONBOARDING::Access your license history",{name:"_",hash:{},data:a}))+"\n"},19:function(e,t,n,a){return"                        "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MEMBER::ONBOARDING::Your lightboxes are now libraries",{name:"_",hash:{},data:a}))+"\n"},21:function(e,t,n,a){return"                        "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MEMBER::ONBOARDING::Ready for your first search?",{name:"_",hash:{},data:a}))+"\n"},23:function(e,t,n,a){var i;return(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Standard:i,value:null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.has_ever_had_credit_packs:i,logic:"and"},fn:this.program(24,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:(t.not||e&&e.not||t.helperMissing).call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Standard:i,{name:"not",hash:{},data:a}),value:null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.has_ever_had_credit_packs:i,logic:"and"},fn:this.program(26,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Standard:i,value:(t.not||e&&e.not||t.helperMissing).call(e,null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.has_ever_had_credit_packs:i,{name:"not",hash:{},data:a}),logic:"and"},fn:this.program(28,a,0),inverse:this.noop,data:a}))?i:"")},24:function(e,t,n,a){return"                        "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MEMBER::ONBOARDING::Remember, Adobe Stock credits are worth more than on Fotolia, and for every 1 Fotolia download you had, you now have 2 Adobe Stock licenses.",{name:"_",hash:{},data:a}))+"\n"},26:function(e,t,n,a){var i;return"                        "+this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"MEMBER::ONBOARDING::You now have %s credit. Remember, Adobe Stock credits are worth more than on Fotolia.","MEMBER::ONBOARDING::You now have %s credits. Remember, Adobe Stock credits are worth more than on Fotolia.",null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.available_credit_pack_quota:i,{name:"ngettext",hash:{},data:a}),null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.available_credit_pack_quota:i,{name:"sprintf",hash:{},data:a}))+"\n"},28:function(e,t,n,a){var i;return"                        "+this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"MEMBER::ONBOARDING::You now have %s license. Remember, for every 1 Fotolia download you had, you now have 2 Adobe Stock licenses.","MEMBER::ONBOARDING::You now have %s licenses. Remember, for every 1 Fotolia download you had, you now have 2 Adobe Stock licenses.",null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Standard:i,{name:"ngettext",hash:{},data:a}),null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Standard:i,{name:"sprintf",hash:{},data:a}))+"\n"},30:function(e,t,n,a){return"                    "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MEMBER::ONBOARDING::You'll find your transferred licence history under your profile.",{name:"_",hash:{},data:a}))+"\n"},32:function(e,t,n,a){return"                    "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MEMBER::ONBOARDING::Libraries are a powerful tool that you can use across all Adobe products. Use libraries to save and organize assets.",{name:"_",hash:{},data:a}))+"\n"},34:function(e,t,n,a){return"                    "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MEMBER::ONBOARDING::In addition to classic keywords search, visual search enables you to drop an image into the search bar to instantly find similar results.",{name:"_",hash:{},data:a}))+"\n"},36:function(e,t,n,a){return'                    <button class="button button--primary button--silent js-coach-mark-finish-button" data-t="finish-onboarding-button-step-'+this.escapeExpression(this.lambda(null!=e?e.step:e,e))+'">\n                        <span class="padding-right-small padding-left-small">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MEMBER::ONBOARDING::Got it",{name:"_",hash:{},data:a}))+"</span>\n                    </button>\n"},38:function(e,t,n,a){return'                    <button class="button button--flat margin-right-medium js-coach-mark-finish-button" data-t="finish-onboarding-button-step-'+this.escapeExpression(this.lambda(null!=e?e.step:e,e))+'">\n                        <span>'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MEMBER::ONBOARDING::Skip Tour",{name:"_",hash:{},data:a}))+'</span>\n                    </button>\n                    <button class="button button--primary button--silent js-coach-mark-next-button" data-t="next-onboarding-button-step-'+this.escapeExpression(this.lambda(null!=e?e.step:e,e))+'">\n                        <span class="padding-right-small padding-left-small">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MEMBER::ONBOARDING::Next",{name:"_",hash:{},data:a}))+"</span>\n                    </button>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.page_config:e)?i.member:i)?i.can_launch_onboarding:i,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:""},useData:!0})}),define("hbs!templates/components/licensebadgeCounter",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.display_counters:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.noop,data:a}))?i:""},2:function(e,t,n,a){var i;return'        <li class="nav__item">\n'+(null!=(i=t.with.call(e,null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.quotas_labels_by_license_type_id:i,{name:"with",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=(i=null!=e?e.member:e)?i.default_entitlement:i,{name:"if",hash:{},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:"")+"        </li>\n"},3:function(e,t,n,a){var i;return null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"unlimited_images",logic:"notEq",value:null!=e?e.label_type:e},fn:this.program(4,a,0),inverse:this.noop,data:a}))?i:""},4:function(e,t,n,a){return'                    <span class="hide-on-med-and-down">\n                        <span class="nav__text grey silver-sand-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"HEADER::MEMBER::Available:",{name:"_",hash:{},data:a}))+"</span>\n                    </span>\n"},6:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["components/licenseBadge-v1"],e,{name:"components/licenseBadge-v1",data:a,indent:"                ",helpers:t,partials:n}))?i:""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.member:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:""},usePartial:!0,useData:!0})}),define("hbs!templates/components/navbar/creditBadgeCounter",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.display_counters:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.noop,data:a}))?i:""},2:function(e,t,n,a){var i;return'        <li class="nav__item">\n'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.member:e)?i.default_entitlement:i,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+"        </li>\n"},3:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["components/navbar/creditBadges"],e,{name:"components/navbar/creditBadges",data:a,indent:"                ",helpers:t,partials:n}))?i:""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.member:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:""},usePartial:!0,useData:!0})}),define("hbs!templates/components/licenseBadge-v1",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["components/enterpriseLicenseBadgeTemplate"],e,{name:"components/enterpriseLicenseBadgeTemplate",data:a,indent:"    ",helpers:t,partials:n}))?i:""},3:function(e,t,n,a){var i;return(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.has_ever_had_credit_packs:i,{name:"if",hash:{},fn:this.program(4,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Video_HD:i,{name:"if",hash:{},fn:this.program(9,a,0),inverse:this.program(11,a,0),data:a}))?i:"")+"\n"+(null!=(i=(t["if-or"]||e&&e["if-or"]||t.helperMissing).call(e,null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.has_ever_had_credit_packs:i,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Video_HD:i,null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.is_cce:i,{name:"if-or",hash:{},fn:this.program(14,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=(t["if-or"]||e&&e["if-or"]||t.helperMissing).call(e,null!=(i=null!=e?e.member:e)?i.has_cct_pro:i,null!=(i=null!=e?e.member:e)?i.hasStockBundle:i,{name:"if-or",hash:{},fn:this.program(17,a,0),inverse:this.program(19,a,0),data:a}))?i:"")},4:function(e,t,n,a){var i;return'        <span class="badge nav__badge blue crayola">\n            <span data-t="credit-pack-quota" class="quota">\n                '+this.escapeExpression((t.number||e&&e.number||t.helperMissing).call(e,null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.available_credit_pack_quota:i,{name:"number",hash:{},data:a}))+"\n            </span>\n"+(null!=(i=t.if.call(e,null!=e?e.has_universal_license_plan:e,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.program(7,a,0),data:a}))?i:"")+"        </span>\n"},5:function(e,t,n,a){var i;return'                <span data-t="credit-pack-pack-credits-label">'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Pack credit","HEADER::MEMBER::Pack credits",null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.available_credit_pack_quota:i,{name:"ngettext",hash:{},data:a}))+"</span>\n"},7:function(e,t,n,a){var i;return'                <span data-t="credit-pack-quota-label">'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Credit","HEADER::MEMBER::Credits",null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.available_credit_pack_quota:i,{name:"ngettext",hash:{},data:a}))+"</span>\n"},9:function(e,t,n,a){var i;return'        <span class="badge nav__badge blue crayola">\n            <span data-t="quota-videos-hd" class="quota">'+this.escapeExpression((t.number||e&&e.number||t.helperMissing).call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.total_quota_available_by_license_name:i)?i.Video_HD:i,{name:"number",hash:{},data:a}))+'</span>\n            <span data-t="quota-videos-hd-label">'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Video","HEADER::MEMBER::Videos",null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Video_HD:i,{name:"ngettext",hash:{},data:a}))+"</span>\n        </span>\n"},11:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.is_cce:i,{name:"if",hash:{},fn:this.program(12,a,0),inverse:this.noop,data:a}))?i:""},12:function(e,t,n,a){return'            <span class="badge nav__badge blue crayola">\n                <span data-t="quota-videos-cce" class="quota">0</span>\n                <span data-t="quota-videos-cce-label">'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Video","HEADER::MEMBER::Videos",0,{name:"ngettext",hash:{},data:a}))+"</span>\n            </span>\n"},14:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.breakItems:e,{name:"if",hash:{},fn:this.program(15,a,0),inverse:this.noop,data:a}))?i:""},15:function(e,t,n,a){return'            <div class="padding-xsmall"></div>\n'},17:function(e,t,n,a){return'        <span class="badge nav__badge blue crayola">\n            <span data-t="quota-cct-pro-unlimited-label">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"HEADER::MEMBER::Unlimited images",{name:"_",hash:{},data:a}))+"</span>\n        </span>\n"},19:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Standard:i,{name:"if",hash:{},fn:this.program(20,a,0),inverse:this.program(31,a,0),data:a}))?i:""},20:function(e,t,n,a){var i;return'            <span class="badge nav__badge blue crayola">\n                <span data-t="quota-images-standard" class="quota">'+this.escapeExpression((t.number||e&&e.number||t.helperMissing).call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Standard:i,{name:"number",hash:{},data:a}))+"</span>\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.page_config:e)?i.isNewQuotaTermEnabled:i,{name:"if",hash:{},fn:this.program(21,a,0),inverse:this.program(23,a,0),data:a}))?i:"")+"            </span>\n"},21:function(e,t,n,a){var i;return'                    <span data-t="quota-points-standard-label">'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Point","HEADER::MEMBER::Points",null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Standard:i,{name:"ngettext",hash:{},data:a}))+"</span>\n"},23:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=e?e.page_config:e)?i.isAudioWebSearchEnabled:i,{name:"if",hash:{},fn:this.program(24,a,0),inverse:this.program(29,a,0),data:a}))?i:""},24:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.has_universal_license_plan:e,{name:"if",hash:{},fn:this.program(25,a,0),inverse:this.program(27,a,0),data:a}))?i:""},25:function(e,t,n,a){var i;return'                            <span data-t="quota-plan-credits-standard-label">'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Plan credit","HEADER::MEMBER::Plan credits",null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Standard:i,{name:"ngettext",hash:{},data:a}))+"</span>\n"},27:function(e,t,n,a){var i;return'                            <span data-t="quota-assets-standard-label">'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Asset","HEADER::MEMBER::Assets",null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Standard:i,{name:"ngettext",hash:{},data:a}))+"</span>\n"},29:function(e,t,n,a){var i;return'                        <span data-t="quota-images-standard-label">'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Image","HEADER::MEMBER::Images",null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Standard:i,{name:"ngettext",hash:{},data:a}))+"</span>\n"},31:function(e,t,n,a){var i;return null!=(i=(t["unless-all"]||e&&e["unless-all"]||t.helperMissing).call(e,null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.has_ever_had_credit_packs:i,null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.is_credit_card_purchase_entitlement_without_plan:i,{name:"unless-all",hash:{},fn:this.program(32,a,0),inverse:this.noop,data:a}))?i:""},32:function(e,t,n,a){var i;return'                <span class="badge nav__badge blue crayola">\n                    <span data-t="quota-images-0" class="quota">0</span>\n'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.page_config:e)?i.isNewQuotaTermEnabled:i,{name:"if",hash:{},fn:this.program(33,a,0),inverse:this.program(35,a,0),data:a}))?i:"")+"                </span>\n"},33:function(e,t,n,a){return'                        <span data-t="quota-points-0-label">'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Point","HEADER::MEMBER::Points",0,{name:"ngettext",hash:{},data:a}))+"</span>\n"},35:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=e?e.page_config:e)?i.isAudioWebSearchEnabled:i,{name:"if",hash:{},fn:this.program(36,a,0),inverse:this.program(41,a,0),data:a}))?i:""},36:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.has_universal_license_plan:e,{name:"if",hash:{},fn:this.program(37,a,0),inverse:this.program(39,a,0),data:a}))?i:""},37:function(e,t,n,a){return'                                <span data-t="quota-plan-credits-0-label">'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Plan credit","HEADER::MEMBER::Plan credits",0,{name:"ngettext",hash:{},data:a}))+"</span>\n"},39:function(e,t,n,a){return'                                <span data-t="quota-assets-0-label">'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Asset","HEADER::MEMBER::Assets",0,{name:"ngettext",hash:{},data:a}))+"</span>\n"},41:function(e,t,n,a){return'                            <span data-t="quota-images-0-label">'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Image","HEADER::MEMBER::Images",0,{name:"ngettext",hash:{},data:a}))+"</span>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.quotas_labels_by_license_type_id:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(3,a,0),data:a}))?i:""},usePartial:!0,useData:!0})}),define("hbs!templates/components/navbar/creditBadges",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["components/navbar/enterpriseCreditBadges"],e,{name:"components/navbar/enterpriseCreditBadges",data:a,indent:"    ",helpers:t,partials:n}))?i:""},3:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.marketplace_show_credit_badges:e,{name:"if",hash:{},fn:this.program(4,a,0),inverse:this.noop,data:a}))?i:""},4:function(e,t,n,a){var i;return'        <div class="show-credit-badges">\n'+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.available_credit_pack_quota:i,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Video_HD:i,{name:"if",hash:{},fn:this.program(10,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=(t["if-or"]||e&&e["if-or"]||t.helperMissing).call(e,null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.has_ever_had_credit_packs:i,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Video_HD:i,null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.is_cce:i,{name:"if-or",hash:{},fn:this.program(12,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=(t["if-or"]||e&&e["if-or"]||t.helperMissing).call(e,null!=(i=null!=e?e.member:e)?i.has_cct_pro:i,null!=(i=null!=e?e.member:e)?i.hasStockBundle:i,{name:"if-or",hash:{},fn:this.program(15,a,0),inverse:this.program(17,a,0),data:a}))?i:"")+"        </div>\n"},5:function(e,t,n,a){var i;return'            <div class="navbar-v2__credit-badge">\n                <span data-t="credit-pack-quota" class="quota">\n                    '+this.escapeExpression((t.number||e&&e.number||t.helperMissing).call(e,null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.available_credit_pack_quota:i,{name:"number",hash:{},data:a}))+"\n                </span>\n"+(null!=(i=t.if.call(e,null!=e?e.has_universal_license_plan:e,{name:"if",hash:{},fn:this.program(6,a,0),inverse:this.program(8,a,0),data:a}))?i:"")+"            </div>\n"},6:function(e,t,n,a){var i;return'                    <span data-t="credit-pack-pack-credits-label">'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Pack credit","HEADER::MEMBER::Pack credits",null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.available_credit_pack_quota:i,{name:"ngettext",hash:{},data:a}))+"</span>\n"},8:function(e,t,n,a){var i;return'                    <span data-t="credit-pack-quota-label">'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Credit","HEADER::MEMBER::Credits",null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.available_credit_pack_quota:i,{name:"ngettext",hash:{},data:a}))+"</span>\n"},10:function(e,t,n,a){var i;return'            <div class="navbar-v2__credit-badge">\n                <span data-t="quota-videos-hd" class="quota">'+this.escapeExpression((t.number||e&&e.number||t.helperMissing).call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.total_quota_available_by_license_name:i)?i.Video_HD:i,{name:"number",hash:{},data:a}))+'</span>\n                <span data-t="quota-videos-hd-label">'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Video","HEADER::MEMBER::Videos",null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Video_HD:i,{name:"ngettext",hash:{},data:a}))+"</span>\n            </div>\n"},12:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.breakItems:e,{name:"if",hash:{},fn:this.program(13,a,0),inverse:this.noop,data:a}))?i:""},13:function(e,t,n,a){return'                <div class="padding-xsmall"></div>\n'},15:function(e,t,n,a){return'            <span class="navbar-v2__credit-badge">\n                <span data-t="quota-cct-pro-unlimited-label">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"HEADER::MEMBER::Unlimited images",{name:"_",hash:{},data:a}))+"</span>\n            </span>\n"},17:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Standard:i,{name:"if",hash:{},fn:this.program(18,a,0),inverse:this.noop,data:a}))?i:""},18:function(e,t,n,a){var i;return'                <div class="navbar-v2__credit-badge">\n                    <span data-t="quota-images-standard" class="quota">'+this.escapeExpression((t.number||e&&e.number||t.helperMissing).call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Standard:i,{name:"number",hash:{},data:a}))+"</span>\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.page_config:e)?i.isAudioWebSearchEnabled:i,{name:"if",hash:{},fn:this.program(19,a,0),inverse:this.program(24,a,0),data:a}))?i:"")+"                </div>\n"},19:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.has_universal_license_plan:e,{name:"if",hash:{},
fn:this.program(20,a,0),inverse:this.program(22,a,0),data:a}))?i:""},20:function(e,t,n,a){var i;return'                            <span data-t="quota-plan-credits-standard-label">'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Plan credit","HEADER::MEMBER::Plan credits",null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Standard:i,{name:"ngettext",hash:{},data:a}))+"</span>\n"},22:function(e,t,n,a){var i;return'                            <span data-t="quota-assets-standard-label">'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Asset","HEADER::MEMBER::Assets",null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Standard:i,{name:"ngettext",hash:{},data:a}))+"</span>\n"},24:function(e,t,n,a){var i;return'                        <span data-t="quota-images-standard-label">'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Image","HEADER::MEMBER::Images",null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Standard:i,{name:"ngettext",hash:{},data:a}))+"</span>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.quotas_labels_by_license_type_id:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(3,a,0),data:a}))?i:""},usePartial:!0,useData:!0})}),define("hbs!templates/components/navbar/enterpriseCreditBadges",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return null!=(i=t.each.call(e,null!=e?e.quotas_labels_by_license_type_id:e,{name:"each",hash:{},fn:this.program(2,a,0),inverse:this.noop,data:a}))?i:""},2:function(e,t,n,a){var i;return(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"unlimited_images",logic:"eq",value:null!=e?e.label_type:e},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=e?e.quota:e,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")},3:function(e,t,n,a){return'            <div class="navbar-v2__credit-badge show-credit-badges" data-t="quota-by-license-badge-'+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+'">\n                <span data-t="quota-by-license-label-'+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+'">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"HEADER::MEMBER::Unlimited images",{name:"_",hash:{},data:a}))+"</span>\n            </div>\n"},5:function(e,t,n,a){var i;return'            <div class="navbar-v2__credit-badge show-credit-badges" data-t="quota-by-license-badge-'+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+'">\n                <span data-t="quota-by-license-value-'+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+'" class="quota">\n                    '+this.escapeExpression(this.lambda(null!=e?e.quota:e,e))+"\n                </span>\n"+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"credits",logic:"eq",value:null!=e?e.label_type:e},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"images",logic:"eq",value:null!=e?e.label_type:e},fn:this.program(8,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"premium_credits",logic:"eq",value:null!=e?e.label_type:e},fn:this.program(10,a,0),inverse:this.noop,data:a}))?i:"")+"            </div>\n"},6:function(e,t,n,a){return'                    <span data-t="quota-by-license-label-'+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+'">'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Credit","HEADER::MEMBER::Credits",null!=e?e.quota:e,{name:"ngettext",hash:{},data:a}))+"</span>\n"},8:function(e,t,n,a){return'                    <span data-t="quota-by-license-label-'+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+'">'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Image","HEADER::MEMBER::Images",null!=e?e.quota:e,{name:"ngettext",hash:{},data:a}))+"</span>\n"},10:function(e,t,n,a){return'                    <span data-t="quota-by-license-label-'+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+'">'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Premium Credit","HEADER::MEMBER::Premium Credits",null!=e?e.quota:e,{name:"ngettext",hash:{},data:a}))+"</span>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.marketplace_show_quotas_labels_by_license_type_id:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:""},useData:!0})}),define("hbs!templates/components/navbar/placeholderAvatarIconSvg",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<div class="navbar-v2__placeholder-avatar-container js-avatar-placeholder">\n    <svg viewBox="0 0 36 36" focusable="false" aria-hidden="true" role="img" class="spectrum-Icon spectrum-Icon--sizeS" data-t="navbar-profile-icon"><path d="M22.325 21.547v-2.224a1.539 1.539 0 0 1 .392-.993A11.746 11.746 0 0 0 25.388 11c0-5.547-2.942-8.647-7.387-8.647s-7.47 3.222-7.47 8.647a11.873 11.873 0 0 0 2.8 7.329 1.54 1.54 0 0 1 .392.993v2.214a1.528 1.528 0 0 1-1.333 1.542c-8.931.777-10.326 6.886-10.326 9.3 0 .268.032 1.321.051 1.585h31.857S34 32.642 34 32.374c0-2.309-1.577-8.4-10.346-9.286a1.535 1.535 0 0 1-1.329-1.541z"></path></svg>\n</div>\n'},useData:!0})}),define("hbs!templates/components/navbar/navAvatar",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'    <button aria-haspopup="true" aria-label="'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"HEADER::Avatar",{name:"_",hash:{},data:a}))+'" class="js-navbar-avatar nav-dropdown-btn" data-t="navbar-profile-avatar">\n        <img alt="'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"HEADER::Avatar",{name:"_",hash:{},data:a}))+'" class="navbar-v2__avatar v-align-middle" src="'+this.escapeExpression((i=null!=(i=t.avatar||(null!=e?e.avatar:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"avatar",hash:{},data:a}):i))+'" data-t="navbar-profile-icon"/>\n    </button>\n'},3:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["components/navbar/placeholderAvatarIconSvg"],e,{name:"components/navbar/placeholderAvatarIconSvg",data:a,indent:"    ",helpers:t,partials:n}))?i:""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.avatar:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(3,a,0),data:a}))?i:""},usePartial:!0,useData:!0})}),define("hbs!templates/components/navbar/adobeLogoOrAvatar",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'    <div id="stock-portal-nav-profile-dropdown" class="nav-profile-dropdown margin-right-medium margin-left-medium">\n        <div class="js-stock-portal-ssr js-avatar-ssr">\n'+(null!=(i=this.invokePartial(n["components/navbar/navAvatar"],e,{name:"components/navbar/navAvatar",data:a,indent:"            ",helpers:t,partials:n}))?i:"")+"        </div>\n    </div>\n"},3:function(e,t,n,a){var i,s;return'    <a href="'+this.escapeExpression((s=null!=(s=t.adobe_url||(null!=e?e.adobe_url:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"adobe_url",hash:{},data:a}):s))+'" title="'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"HEADER::Return to Adobe's homepage",{name:"_",hash:{},data:a}))+'" data-t="navbar-adobe-logo-link" class="navbar__link nav-margin-right adobe-logo" data-ingest-clicktype="logo-link">\n'+(null!=(i=this.invokePartial(n["components/navbar/adobeLogoSvg"],e,{name:"components/navbar/adobeLogoSvg",data:a,indent:"        ",helpers:t,partials:n}))?i:"")+"    </a>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.member:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(3,a,0),data:a}))?i:""},usePartial:!0,useData:!0})}),define("hbs!templates/components/navbar/adobeLogoSvg",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="18px" height="18px" viewBox="0 0 36 36">\n    <path\n        d="M22.175 4H34v28L22.175 4zm-8.336 0H2v28L13.839 4zm4.165 10.317l7.538\n        17.682h-4.939l-2.258-5.632h-5.517l5.176-12.05z"></path>\n</svg>\n'},useData:!0})}),define("hbs!templates/components/signinLink",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=e?e.page_config:e)?i.isNavbarMarketplaceEnabled:i,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.program(4,a,0),data:a}))?i:""},2:function(e,t,n,a){return'    <a data-t="navbar-sign-in-button"\n        class="navbar__link nav-margin-right js-susi-login"\n        href="#"\n        data-ingest-clicktype="sign-in"\n        role="Tab"\n    >\n        <span data-t="navbar-sign-in-button-text">\n            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"HEADER::Sign in",{name:"_",hash:{},data:a}))+"\n        </span>\n    </a>\n"},4:function(e,t,n,a){return'        <li class="nav__item">\n            <a class="nav__link js-susi-login js-signin-nav" href="#" data-t="navbar-sign-in-button" data-ingest-clicktype="sign-in">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"HEADER::Sign in",{name:"_",hash:{},data:a}))+"</a>\n        </li>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.unless.call(e,null!=e?e.member:e,{name:"unless",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:""},useData:!0})}),define("hbs!templates/components/avatar",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'    <ul class="nav nav--inline nav-silver-sand-text nav--animation nav--secondary">\n        <li class="avatar avatar--secondary nav__item" id="user-settings">\n            <a href="#" class="nav__link js-profile-expand" id="profile-expand-link" data-t="navbar-profile-dropdown-button">\n                <span class="avatar-img border-radius-4 v-align-middle" '+(null!=(i=t.if.call(e,null!=e?e.avatar:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.noop,data:a}))?i:"")+' data-t="navbar-profile-icon">&nbsp;</span>\n                <span class="container-inline-block padding-left-xsmall v-align-top">\n                    <span class="nav__avatar">\n                        <span class="avatar-username truncate" data-t="navbar-profile-username-text">\n'+(null!=(i=t.if.call(e,null!=e?e.profile_name:e,{name:"if",hash:{},fn:this.program(4,a,0),inverse:this.program(6,a,0),data:a}))?i:"")+'                        </span>\n                    </span>\n                </span>\n                <i data-t="navbar-profile-dropdown-caret-icon" class="icon-down nav__avatar"></i>\n            </a>\n            <div class="header-dropdown-menu header-dropdown-menu--primary" data-t="navbar-profile-dropdown-menu">\n                <div class="black border-bottom-left-radius-4 border-bottom-right-radius-4">\n'+(null!=(i=this.invokePartial(n["components/avatarDropdownProfile"],e,{name:"components/avatarDropdownProfile",data:a,indent:"                    ",helpers:t,partials:n}))?i:"")+(null!=(i=this.invokePartial(n["components/avatarDropdownProfiles"],e,{name:"components/avatarDropdownProfiles",data:a,indent:"                    ",helpers:t,partials:n}))?i:"")+'                    <div id="avatar-dropdown-license">\n'+(null!=(i=this.invokePartial(n["components/avatarDropdownLicense"],e,{name:"components/avatarDropdownLicense",data:a,indent:"                        ",helpers:t,partials:n}))?i:"")+"                    </div>\n"+(null!=(i=this.invokePartial(n["components/avatarDropdownSignout"],e,{name:"components/avatarDropdownSignout",data:a,indent:"                    ",helpers:t,partials:n}))?i:"")+'                </div>\n            </div>\n            <div class="container-absolute">\n                <div class="tooltip tooltip--secondary tooltip--bottom tooltip--avatar" id="avatar-tooltip" data-is-hidden="true">\n                    <div class="container-table">\n                        <div class="container-table-cell">\n                            <i class="mti-icon icon-infofull blue bleu-de-france-text"></i>\n                        </div>\n                        <div class="container-table-cell">\n                            <div class="padding-left-small text-sregular normal-whitespace">\n                                '+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"AVATAR::You are now logged in as %sPersonal%s",{name:"_",hash:{},data:a}),"<strong>","</strong>",{name:"sprintf",hash:{},data:a}))?i:"")+"\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </li>\n    </ul>\n"},2:function(e,t,n,a){var i;return'style="background-image: url('+this.escapeExpression((i=null!=(i=t.avatar||(null!=e?e.avatar:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"avatar",hash:{},data:a}):i))+')" data-has-avatar="true"'},4:function(e,t,n,a){var i;return"                                "+this.escapeExpression((i=null!=(i=t.profile_name||(null!=e?e.profile_name:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"profile_name",hash:{},data:a}):i))+"\n"},6:function(e,t,n,a){var i;return"                                "+this.escapeExpression((i=null!=(i=t.username||(null!=e?e.username:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"username",hash:{},data:a}):i))+"\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return(null!=(i=t.if.call(e,null!=e?e.member:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+"\n"},usePartial:!0,useData:!0})}),define("hbs!templates/components/avatarDropdownLicense",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=e?e.member:e)?i.default_entitlement:i,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.noop,data:a}))?i:""},2:function(e,t,n,a){var i;return'                <h4 class="grey silver-sand-text text-small text-up light" data-t="avatar-member-available-label">\n                    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"HEADER::MEMBER::Available:",{name:"_",hash:{},data:a}))+'\n                </h4>\n                <div class="padding-bottom-small"></div>\n                <div id="avatar-licenses-counter" data-t="avatar-licenses-counter">\n'+(null!=(i=this.invokePartial(n["components/licenseBadge-v1"],e,{name:"components/licenseBadge-v1",hash:{breakItems:!0},data:a,indent:"                    ",helpers:t,partials:n}))?i:"")+"\n"+(null!=(i=this.invokePartial(n["components/coachMark"],e,{name:"components/coachMark",hash:{totalSteps:4,step:1},data:a,indent:"                    ",helpers:t,partials:n}))?i:"")+"                </div>\n"},4:function(e,t,n,a){return" padding-top-small"},6:function(e,t,n,a){return'            <div class="padding-bottom-small">\n                <span class="nav nav-silver-sand-text nav-bleu-de-france-hover">\n                    <a\n                            href="'+this.escapeExpression((t.url||e&&e.url||t.helperMissing).call(e,{name:"url",hash:{route:"Member/BillingOptions"},data:a}))+'"\n                            class="js-billing-options-nav nav__link no-padding"\n                            data-t="avatar-member-billing-options-link"\n                    >\n                        <span class="text-sregular">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"HEADER::MEMBER::Billing Options",{name:"_",hash:{},data:a}))+"</span>\n                    </a>\n                </span>\n            </div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div class="border-bottom-1 heavy-metal-border border-solid" data-t="avatar-available-licenses-section">\n    <div class="padding-left-large padding-top-small">\n'+(null!=(i=t.if.call(e,null!=e?e.display_counters:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'        <div class="padding-bottom-small'+(null!=(i=t.if.call(e,null!=e?e.display_counters:e,{name:"if",hash:{},fn:this.program(4,a,0),inverse:this.noop,data:a}))?i:"")+'">\n            <span class="nav nav-silver-sand-text nav-bleu-de-france-hover">\n                <a\n                    href="'+this.escapeExpression((s=null!=(s=t.license_history_url||(null!=e?e.license_history_url:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"license_history_url",hash:{},data:a}):s))+'"\n                    class="js-license-history-nav nav__link no-padding"\n                    data-ingest-clicktype="license-history"\n                    data-t="avatar-member-license-history-link"\n                >\n                    <span class="text-sregular" data-t="avatar-member-license-history-label">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"HEADER::MEMBER::License History",{name:"_",hash:{},data:a}))+"</span>\n                </a>\n            </span>\n"+(null!=(i=this.invokePartial(n["components/coachMark"],e,{name:"components/coachMark",hash:{totalSteps:4,step:2},data:a,indent:"            ",helpers:t,partials:n}))?i:"")+"        </div>\n"+(null!=(i=t.if.call(e,null!=e?e.member_has_billing_options_access:e,{name:"if",hash:{},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:"")+"    </div>\n</div>\n"},usePartial:!0,useData:!0})}),define("hbs!templates/components/avatarDropdownProfile",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return this.escapeExpression((i=null!=(i=t.avatar||(null!=e?e.avatar:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"avatar",hash:{},data:a}):i))},3:function(e,t,n,a){var i;return"                        "+this.escapeExpression((i=null!=(i=t.profile_name||(null!=e?e.profile_name:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"profile_name",hash:{},data:a}):i))+"\n"},5:function(e,t,n,a){var i;return"                        "+this.escapeExpression((i=null!=(i=t.username||(null!=e?e.username:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"username",hash:{},data:a}):i))+"\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div class="border-bottom-1 heavy-metal-border border-solid">\n    <div class="padding-top-medium padding-left-large padding-right-large padding-bottom-large">\n        <div class="container-table">\n            <div class="container-table-cell v-align-top">\n                <div class="padding-right-medium padding-top-xsmall">\n                    <img class="js-avatar-img avatar-img avatar-img--large border-radius-4" data-t="avatar-image" src="'+(null!=(i=t.if.call(e,null!=e?e.avatar:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'"/>\n                </div>\n            </div>\n            <div class="container-table-cell normal-whitespace break-all-words">\n                <p class="grey silver-sand-text text-medium no-margin font-bold" data-t="avatar-profile-name-label">\n'+(null!=(i=t.if.call(e,null!=e?e.profile_name:e,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.program(5,a,0),data:a}))?i:"")+'                </p>\n                <div class="padding-top-xsmall">\n                    <span class="grey dove-text text-sregular" data-t="avatar-profile-email-label">'+this.escapeExpression((s=null!=(s=t.email||(null!=e?e.email:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"email",hash:{},data:a}):s))+'</span>\n                </div>\n                <div class="padding-bottom-small"></div>\n                    <span class="js-manage-my-adobe-id">\n                        <a data-t="avatar-manage-account-link" href="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.page_config:e)?i.accounts_url:i,e))+'" class="js-my-adobe-id-section" data-ingest-clicktype="manage-account">\n                            <span class="grey silver-sand-text decoration-underline" data-t="avatar-manage-account-label">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"HEADER::MEMBER::Manage account",{name:"_",hash:{},data:a}))+"</span>\n                        </a>\n                    </span>\n            </div>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/components/avatarDropdownProfiles",["Handlebars"],function(e){return e.template({1:function(e,t,n,a,i,s){var r;return null!=(r=(t["if-or"]||e&&e["if-or"]||t.helperMissing).call(e,null!=e?e.org_entitlements:e,null!=e?e.personal_entitlement:e,null!=e?e.team_entitlements:e,null!=e?e.account_cluster:e,{name:"if-or",hash:{},fn:this.program(2,a,0,i,s),inverse:this.noop,data:a}))?r:""},2:function(e,t,n,a,i,s){var r;return'            <li class="padding-top-small padding-left-large">\n                <span data-t="avatar-profiles-label" class="grey silver-sand-text text-small light text-up">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"HEADER::MEMBER::Profiles",{name:"_",hash:{},data:a}))+'</span>\n                <ul class="list-team js-list-team" data-t="avatar-profiles-team-list-section">\n'+(null!=(r=t.if.call(e,null!=e?e.org_entitlements:e,{name:"if",hash:{},fn:this.program(3,a,0,i,s),inverse:this.noop,data:a}))?r:"")+"\n"+(null!=(r=t.if.call(e,null!=e?e.personal_entitlement:e,{name:"if",hash:{},fn:this.program(6,a,0,i,s),inverse:this.noop,data:a}))?r:"")+(null!=(r=t.if.call(e,null!=e?e.team_entitlements:e,{name:"if",hash:{},fn:this.program(11,a,0,i,s),inverse:this.noop,data:a}))?r:"")+(null!=(r=t.if.call(e,null!=e?e.account_cluster:e,{name:"if",hash:{},fn:this.program(15,a,0,i,s),inverse:this.noop,data:a}))?r:"")+"                </ul>\n            </li>\n"},3:function(e,t,n,a){var i;return null!=(i=t.each.call(e,null!=e?e.org_entitlements:e,{name:"each",hash:{},fn:this.program(4,a,0),inverse:this.noop,data:a}))?i:""},4:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["components/profileDropdown/orgEntitlement"],e,{name:"components/profileDropdown/orgEntitlement",hash:{"data-t_prefix":"avatar-enterprise",profile_index:(t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a})},data:a,indent:"                            ",helpers:t,partials:n}))?i:""},6:function(e,t,n,a,i,s){var r;return'                        <li data-t="avatar-personal-entitlement-section">\n                            <a class="js-switch-team '+(null!=(r=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:null!=(r=null!=s[2]?s[2].member:s[2])?r.default_entitlement_id:r,logic:"eq",value:null!=(r=null!=e?e.personal_entitlement:e)?r.id:r},fn:this.program(7,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'" href="'+this.escapeExpression((t.url||e&&e.url||t.helperMissing).call(e,{name:"url",hash:{route:"Member/SwitchPersonal"},data:a}))+'" data-t="avatar-personal-entitlement-switch-team-link">\n                                <i data-t="personal-icon" class="icon-user"></i>\n                                <span data-t="avatar-personal-entitlement-switch-team-label">'+this.escapeExpression((t.truncate||e&&e.truncate||t.helperMissing).call(e,null!=(r=null!=e?e.personal_entitlement:e)?r.label:r,{name:"truncate",hash:{max_char:34},data:a}))+"</span>\n"+(null!=(r=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:null!=(r=null!=s[2]?s[2].member:s[2])?r.default_entitlement_id:r,logic:"eq",value:null!=(r=null!=e?e.personal_entitlement:e)?r.id:r},fn:this.program(9,a,0,i,s),inverse:this.noop,data:a}))?r:"")+"                            </a>\n                        </li>\n"},7:function(e,t,n,a){return"active"},9:function(e,t,n,a){return'                                    <i class="icon-checkmark-plain"></i>\n'},11:function(e,t,n,a,i,s){var r;return null!=(r=t.each.call(e,null!=e?e.team_entitlements:e,{name:"each",hash:{},fn:this.program(12,a,0,i,s),inverse:this.noop,data:a}))?r:""},12:function(e,t,n,a,i,s){var r;return'                            <li data-t="avatar-profiles-team-entitlements-section">\n                                <a class="js-switch-team '+(null!=(r=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:null!=(r=null!=s[2]?s[2].member:s[2])?r.default_entitlement_id:r,logic:"eq",value:null!=e?e.id:e},fn:this.program(7,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'" href="'+this.escapeExpression((t.url||e&&e.url||t.helperMissing).call(e,{name:"url",hash:{guid:null!=e?e.guid:e,route:"Member/SwitchTeam"},data:a}))+'" data-t="avatar-team-entitlements-switch-team-link-'+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+'">\n                                    <i data-t="team-icon-'+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+'" class="icon-team"></i>\n                                    <span data-t="avatar-team-entitlements-switch-team-label-'+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+'">'+this.escapeExpression((t.truncate||e&&e.truncate||t.helperMissing).call(e,null!=e?e.label:e,{name:"truncate",hash:{max_char:34},data:a}))+"</span>\n"+(null!=(r=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:null!=(r=null!=s[2]?s[2].member:s[2])?r.default_entitlement_id:r,logic:"eq",value:null!=e?e.id:e},fn:this.program(13,a,0,i,s),inverse:this.noop,data:a}))?r:"")+"                                </a>\n                            </li>\n"},13:function(e,t,n,a){return'                                        <i class="icon-checkmark-plain"></i>\n'},15:function(e,t,n,a,i,s){var r;return null!=(r=t.each.call(e,null!=e?e.account_cluster:e,{name:"each",hash:{},fn:this.program(16,a,0,i,s),inverse:this.noop,data:a}))?r:""},16:function(e,t,n,a,i,s){var r;return null!=(r=t.if.call(e,null!=e?e.org_entitlements:e,{name:"if",hash:{},fn:this.program(17,a,0,i,s),inverse:this.program(20,a,0,i,s),data:a}))?r:""},17:function(e,t,n,a,i,s){var r;return'                                <li class="no-padding" data-t="avatar-profiles-account-cluster-section">\n'+(null!=(r=t.each.call(e,null!=e?e.org_entitlements:e,{name:"each",hash:{},fn:this.program(18,a,0,i,s),inverse:this.noop,data:a}))?r:"")+"                                </li>\n"},18:function(e,t,n,a,i,s){var r;return null!=(r=this.invokePartial(n["components/profileDropdown/orgEntitlement"],e,{name:"components/profileDropdown/orgEntitlement",hash:{switch_team_query:null!=s[1]?s[1].switch_team_query:s[1],"data-t_prefix":"avatar-account-cluster-enterprise",profile_index:(t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a})},data:a,indent:"                                        ",helpers:t,partials:n}))?r:""},20:function(e,t,n,a,i,s){var r;return'                                <li data-t="avatar-profiles-account-cluster-section">\n'+(null!=(r=t.if.call(e,null!=(r=null!=s[2]?s[2].page_config:s[2])?r.isType2eTeamAndEnterpriseCompatibilityEnabled:r,{name:"if",hash:{},fn:this.program(21,a,0,i,s),inverse:this.program(27,a,0,i,s),data:a}))?r:"")+"                                </li>\n"},21:function(e,t,n,a,i,s){var r;return null!=(r=t.if.call(e,null!=e?e.is_entitlement_only:e,{name:"if",hash:{},fn:this.program(22,a,0,i,s),inverse:this.program(25,a,0,i,s),data:a}))?r:""},22:function(e,t,n,a,i,s){var r;return'                                            <a class="js-switch-team '+(null!=(r=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:null!=(r=null!=(r=null!=s[4]?s[4].member:s[4])?r.default_entitlement:r)?r.guid:r,logic:"eq",value:null!=e?e.entitlement_guid:e},fn:this.program(7,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'" href="'+this.escapeExpression((t.url||e&&e.url||t.helperMissing).call(e,{name:"url",hash:{query:(t.json||e&&e.json||t.helperMissing).call(e,null!=s[1]?s[1].switch_team_query:s[1],{name:"json",hash:{},data:a}),guid:null!=e?e.entitlement_guid:e,route:"Member/SwitchTeam"},data:a}))+'" data-t="avatar-account-cluster-switch-team-link-'+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+'">\n                                                <i data-t="account-cluster-team-icon-'+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+'" class="icon-team"></i>\n                                                <span data-t="avatar-account-cluster-switch-team-label-'+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+'">'+this.escapeExpression((t.truncate||e&&e.truncate||t.helperMissing).call(e,null!=e?e.label:e,{name:"truncate",hash:{max_char:34},data:a}))+"</span>\n"+(null!=(r=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:null!=(r=null!=(r=null!=s[4]?s[4].member:s[4])?r.default_entitlement:r)?r.guid:r,logic:"eq",value:null!=e?e.entitlement_guid:e},fn:this.program(23,a,0,i,s),inverse:this.noop,data:a}))?r:"")+"                                            </a>\n"},23:function(e,t,n,a){return'                                                    <i class="icon-checkmark-plain"></i>\n'},25:function(e,t,n,a,i,s){var r;return'                                            <a class="js-switch-team '+(null!=(r=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:null!=(r=null!=s[4]?s[4].member:s[4])?r.guid:r,logic:"eq",value:null!=e?e.guid:e},fn:this.program(7,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'" href="'+this.escapeExpression((t.url||e&&e.url||t.helperMissing).call(e,{name:"url",hash:{guid:null!=e?e.guid:e,route:"Member/SwitchAccount"},data:a}))+'" data-t="avatar-account-cluster-switch-team-link-'+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+'">\n                                                <i data-t="account-cluster-personal-icon" class="icon-user"></i>\n                                                <span data-t="avatar-account-cluster-switch-team-label-'+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+'">'+this.escapeExpression((t.truncate||e&&e.truncate||t.helperMissing).call(e,null!=e?e.label:e,{name:"truncate",hash:{max_char:34},data:a}))+"</span>\n"+(null!=(r=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:null!=(r=null!=s[4]?s[4].member:s[4])?r.guid:r,logic:"eq",value:null!=e?e.guid:e},fn:this.program(23,a,0,i,s),inverse:this.noop,data:a}))?r:"")+"                                            </a>\n"},27:function(e,t,n,a,i,s){var r;return'                                        <a class="js-switch-team '+(null!=(r=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:null!=(r=null!=s[3]?s[3].member:s[3])?r.guid:r,logic:"eq",value:null!=e?e.guid:e},fn:this.program(7,a,0,i,s),inverse:this.noop,data:a
}))?r:"")+'" href="'+this.escapeExpression((t.url||e&&e.url||t.helperMissing).call(e,{name:"url",hash:{guid:null!=e?e.guid:e,route:"Member/SwitchAccount"},data:a}))+'" data-t="avatar-account-cluster-switch-team-link-'+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+'">\n'+(null!=(r=t.if.call(e,null!=e?e.is_entitlement_only:e,{name:"if",hash:{},fn:this.program(28,a,0,i,s),inverse:this.program(30,a,0,i,s),data:a}))?r:"")+'                                            <span data-t="avatar-account-cluster-switch-team-label-'+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+'">'+this.escapeExpression((t.truncate||e&&e.truncate||t.helperMissing).call(e,null!=e?e.label:e,{name:"truncate",hash:{max_char:34},data:a}))+"</span>\n"+(null!=(r=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:null!=(r=null!=s[3]?s[3].member:s[3])?r.guid:r,logic:"eq",value:null!=e?e.guid:e},fn:this.program(32,a,0,i,s),inverse:this.noop,data:a}))?r:"")+"                                        </a>\n"},28:function(e,t,n,a){return'                                                <i data-t="account-cluster-team-icon-'+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+'" class="icon-team"></i>\n'},30:function(e,t,n,a){return'                                                <i data-t="account-cluster-personal-icon" class="icon-user"></i>\n'},32:function(e,t,n,a){return'                                                <i class="icon-checkmark-plain"></i>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a,i,s){var r;return'<ul class="border-bottom-1 heavy-metal-border border-solid">\n'+(null!=(r=t.if.call(e,null!=e?e.member:e,{name:"if",hash:{},fn:this.program(1,a,0,i,s),inverse:this.noop,data:a}))?r:"")+"</ul>\n"},usePartial:!0,useData:!0,useDepths:!0})}),define("hbs!templates/components/avatarDropdownSignout",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<div class="padding-left-medium padding-top-large padding-bottom-large">\n    <div class="nav nav-silver-sand-text nav-bleu-de-france-hover" data-t="susi-logout-button">\n        <a\n                href="#"\n                class="js-susi-logout js-susi-logout nav__link no-padding"\n                id="sign-out-link"\n                data-ingest-clicktype="sign-out"\n                data-t="susi-logout-link"\n        >\n            <i data-t="susi-logout-icon" class="mti-icon icon-logout-thin mti-large"></i>\n            <span data-t="susi-logout-label" class="text-sregular">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"HEADER::MEMBER::Sign Out",{name:"_",hash:{},data:a}))+"</span>\n        </a>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/components/enterpriseIcon",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<svg version="1.1" id="iOS_enterpise_16_lt-fi"\n     xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  width="16" height="16"\n     viewBox="0 0 16 16"\n     data-t="enterprise-icon"\n     enable-background="new 0 0 16 16" xml:space="preserve">\n        <path fill="currentColor" d="M12.6875,2h-9.375C3.1399,2,3,2.1492,3,2.3333V15h3v-3h4v3h3V2.3333C13,2.1492,12.8601,2,12.6875,2z M6,11H4\n    V9h2V11z M6,8H4V6h2V8z M6,5H4V3h2V5z M9,11H7V9h2V11z M9,8H7V6h2V8z M9,5H7V3h2V5z M12,11h-2V9h2V11z M12,8h-2V6h2V8z M12,5h-2V3h2\n    V5z" data-t="enterprise-icon-path"></path>\n</svg>\n'},useData:!0})}),define("hbs!templates/components/profileDropdown/orgEntitlement",["Handlebars"],function(e){return e.template({1:function(e,t,n,a,i,s){var r;return(null!=(r=this.invokePartial(n["components/enterpriseIcon"],e,{name:"components/enterpriseIcon",data:a,indent:"        ",helpers:t,partials:n}))?r:"")+'        <span class="truncate list-team-organization" data-t="'+this.escapeExpression(this.lambda(null!=e?e["data-t_prefix"]:e,e))+'-stock-entitlement-org-label" title='+this.escapeExpression(this.lambda(null!=e?e.organization_name:e,e))+">"+this.escapeExpression(this.lambda(null!=e?e.organization_name:e,e))+'</span>\n        <ul class="js-org-list padding-left-large">\n'+(null!=(r=t.each.call(e,null!=e?e.stock_entitlements:e,{name:"each",hash:{},fn:this.program(2,a,0,i,s),inverse:this.noop,data:a}))?r:"")+"        </ul>\n"},2:function(e,t,n,a,i,s){var r;return'                <li>\n                    <a class="js-switch-team '+(null!=(r=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:(r=(r=a&&a.root)&&r.member)&&r.default_entitlement_id,logic:"eq",value:null!=e?e.id:e},fn:this.program(3,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'" href="'+this.escapeExpression((t.url||e&&e.url||t.helperMissing).call(e,{name:"url",hash:{query:(t.json||e&&e.json||t.helperMissing).call(e,null!=s[1]?s[1].switch_team_query:s[1],{name:"json",hash:{},data:a}),guid:null!=e?e.guid:e,route:"Member/SwitchTeam"},data:a}))+'" data-t="'+this.escapeExpression(this.lambda(null!=s[1]?s[1]["data-t_prefix"]:s[1],e))+"-stock-entitlement-org-switch-team-link-group-"+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+"-"+this.escapeExpression(this.lambda(null!=e?e.guid:e,e))+'">\n                        <span data-t="'+this.escapeExpression(this.lambda(null!=s[1]?s[1]["data-t_prefix"]:s[1],e))+"-stock-entitlement-org-switch-team-label-group-"+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+"-"+this.escapeExpression(this.lambda(null!=e?e.guid:e,e))+'">'+this.escapeExpression(this.lambda(null!=e?e.label:e,e))+"</span>\n                    </a>\n                </li>\n"},3:function(e,t,n,a){return"active"},5:function(e,t,n,a,i,s){var r;return null!=(r=t.if.call(e,null!=e?e.bundle_entitlement:e,{name:"if",hash:{},fn:this.program(6,a,0,i,s),inverse:this.noop,data:a}))?r:""},6:function(e,t,n,a,i,s){var r;return(null!=(r=t.with.call(e,null!=e?e.bundle_entitlement:e,{name:"with",hash:{},fn:this.program(7,a,0,i,s),inverse:this.noop,data:a}))?r:"")+"    "},7:function(e,t,n,a,i,s){var r;return'            <a class="js-switch-team'+(null!=(r=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:(r=(r=a&&a.root)&&r.member)&&r.default_entitlement_id,logic:"eq",value:null!=e?e.id:e},fn:this.program(8,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'"\n                href="'+this.escapeExpression((t.url||e&&e.url||t.helperMissing).call(e,{name:"url",hash:{query:(t.json||e&&e.json||t.helperMissing).call(e,null!=s[1]?s[1].switch_team_query:s[1],{name:"json",hash:{},data:a}),guid:null!=e?e.guid:e,route:"Member/SwitchTeam"},data:a}))+'"\n                data-t="'+this.escapeExpression(this.lambda(null!=s[1]?s[1]["data-t_prefix"]:s[1],e))+"-bundle-entitlement-org-switch-team-link-"+this.escapeExpression(this.lambda(null!=e?e.guid:e,e))+'">\n'+(null!=(r=this.invokePartial(n["components/enterpriseIcon"],e,{name:"components/enterpriseIcon",data:a,indent:"                ",helpers:t,partials:n}))?r:"")+'                <span data-t="'+this.escapeExpression(this.lambda(null!=s[1]?s[1]["data-t_prefix"]:s[1],e))+'-bundle-entitlement-org-switch-team-label">'+this.escapeExpression(this.lambda(null!=s[1]?s[1].organization_name:s[1],e))+"</span>\n            </a>\n"},8:function(e,t,n,a){return" active"},10:function(e,t,n,a,i,s){var r;return null!=(r=t.with.call(e,null!=e?e.enterprise_delegate_purchase_entitlement:e,{name:"with",hash:{},fn:this.program(11,a,0,i,s),inverse:this.noop,data:a}))?r:""},11:function(e,t,n,a,i,s){var r;return'            <a class="js-switch-team'+(null!=(r=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:(r=(r=a&&a.root)&&r.member)&&r.default_entitlement_id,logic:"eq",value:null!=e?e.id:e},fn:this.program(8,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'"\n                href="'+this.escapeExpression((t.url||e&&e.url||t.helperMissing).call(e,{name:"url",hash:{query:(t.json||e&&e.json||t.helperMissing).call(e,null!=s[1]?s[1].switch_team_query:s[1],{name:"json",hash:{},data:a}),guid:null!=e?e.guid:e,route:"Member/SwitchTeam"},data:a}))+'"\n                data-t="'+this.escapeExpression(this.lambda(null!=s[1]?s[1]["data-t_prefix"]:s[1],e))+"-credit-card-entitlement-org-switch-team-link-"+this.escapeExpression(this.lambda(null!=e?e.guid:e,e))+'">\n'+(null!=(r=this.invokePartial(n["components/enterpriseIcon"],e,{name:"components/enterpriseIcon",data:a,indent:"                ",helpers:t,partials:n}))?r:"")+'                <span data-t="'+this.escapeExpression(this.lambda(null!=s[1]?s[1]["data-t_prefix"]:s[1],e))+'-credit-card-entitlement-org-switch-team-label">'+this.escapeExpression(this.lambda(null!=s[1]?s[1].organization_name:s[1],e))+"</span>\n            </a>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a,i,s){var r;return'<li data-t="'+this.escapeExpression(this.lambda(null!=e?e["data-t_prefix"]:e,e))+"-org-entitlements-section-"+this.escapeExpression(this.lambda(null!=e?e.profile_index:e,e))+'">\n'+(null!=(r=t.if.call(e,null!=e?e.stock_entitlements:e,{name:"if",hash:{},fn:this.program(1,a,0,i,s),inverse:this.program(5,a,0,i,s),data:a}))?r:"")+(null!=(r=t.if.call(e,null!=e?e.enterprise_delegate_purchase_entitlement:e,{name:"if",hash:{},fn:this.program(10,a,0,i,s),inverse:this.noop,data:a}))?r:"")+"</li>\n"},usePartial:!0,useData:!0,useDepths:!0})}),define("hbs!templates/components/enterpriseLicenseBadgeTemplate",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'    <span class="badge nav__badge blue crayola" data-t="quota-by-license-badge-'+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+'">\n        <span data-t="quota-by-license-value-'+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+'" class="quota">\n            '+this.escapeExpression(this.lambda(null!=e?e.quota:e,e))+"\n        </span>\n"+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"unlimited_images",logic:"eq",value:null!=e?e.label_type:e},fn:this.program(2,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"credits",logic:"eq",value:null!=e?e.label_type:e},fn:this.program(4,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"images",logic:"eq",value:null!=e?e.label_type:e},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"premium_credits",logic:"eq",value:null!=e?e.label_type:e},fn:this.program(8,a,0),inverse:this.noop,data:a}))?i:"")+"    </span>\n"},2:function(e,t,n,a){return'            <span data-t="quota-by-license-label-'+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+'">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"HEADER::MEMBER::Unlimited images",{name:"_",hash:{},data:a}))+"</span>\n"},4:function(e,t,n,a){return'            <span data-t="quota-by-license-label-'+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+'">'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Credit","HEADER::MEMBER::Credits",null!=e?e.quota:e,{name:"ngettext",hash:{},data:a}))+"</span>\n"},6:function(e,t,n,a){return'            <span data-t="quota-by-license-label-'+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+'">'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Image","HEADER::MEMBER::Images",null!=e?e.quota:e,{name:"ngettext",hash:{},data:a}))+"</span>\n"},8:function(e,t,n,a){return'            <span data-t="quota-by-license-label-'+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+'">'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Premium Credit","HEADER::MEMBER::Premium Credits",null!=e?e.quota:e,{name:"ngettext",hash:{},data:a}))+"</span>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.each.call(e,null!=e?e.quotas_labels_by_license_type_id:e,{name:"each",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:""},useData:!0})}),define("lib/polyfill",[],function(){"use strict";String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.indexOf(e,t)===t})}),define("lib/globalnav",["jquery","lib/ajax","lib/error","lib/uiEvents","lib/member","lib/librariesStore","lib/window","app/utils/observer","app/utils/routes","app/constants/routes","app/utils/url","hbs!templates/licenseBadge","hbs!templates/components/coachMark","hbs!templates/components/licensebadgeCounter","hbs!templates/components/navbar/creditBadgeCounter","hbs!templates/components/licenseBadge-v1","hbs!templates/components/navbar/creditBadges","hbs!templates/components/navbar/enterpriseCreditBadges","hbs!templates/components/navbar/placeholderAvatarIconSvg","hbs!templates/components/navbar/navAvatar","hbs!templates/components/navbar/adobeLogoOrAvatar","hbs!templates/components/navbar/adobeLogoSvg","i18n","i18n-config","page_config","lib/susi","app/stock-portal","hbs!templates/components/signinLink","hbs!templates/components/avatar","hbs!templates/components/avatarDropdownLicense","hbs!templates/components/avatarDropdownProfile","hbs!templates/components/avatarDropdownProfiles","hbs!templates/components/avatarDropdownSignout","lodash","hbs!templates/components/enterpriseIcon","hbs!templates/components/profileDropdown/orgEntitlement","hbs!templates/components/enterpriseLicenseBadgeTemplate","lib/polyfill"],function(e,t,n,a,i,s,r,o,l,c,u,d,p,h,f,_,m,E,g,v,b,T,I,S,y,A,O,R,C,L,D,N,P,M,w,x,k){"use strict";function F(){n.displayErrorModal(S.gettext("GENERIC::Something Went Wrong"),S.gettext("ACCOUNT_CLUSTER::ERROR::An error occurred when displaying your team profiles. Please refresh the page to try again, or you can continue to use Adobe Stock with your current profile."))}function U(e){return!("en_US"!==y.locale_code&&e>1||e>2||0===e)}function H(t){var n,a=t||i&&i.getDefaultEntitlement();return a&&y.isNavbarMarketplaceEnabled&&i.shouldDisplayLicenseCounter(a)?(n=i.getQuotaDataByLicenseTypeId(a),e.isEmptyObject(n)?Q.getNonEnterpriseCreditLabelsData(a):Q.getEnterpriseCreditLabelsData(n)):{}}function j(e){var t={};return Object.values(e).forEach(function(e){e.forEach(function(e){(e.groups.length?e.groups:[e]).forEach(function(e){var n=e.id||e.label,a=Q.getCreditLabelsData(e);t[n]=a})})}),t}function V(e){var t=[],n=0;for(var a in e){var i,s=e[a],r=M.get(s,"quota",0),o=M.get(s,"label_type");switch(o){case"unlimited_images":i=S.gettext("HEADER::MEMBER::Unlimited images");break;case"credits":i=B("HEADER::MEMBER::%s Credit","HEADER::MEMBER::%s Credits",r);break;case"images":i=B("HEADER::MEMBER::%s Image","HEADER::MEMBER::%s Images",r);break;case"premium_credits":i=B("HEADER::MEMBER::%s Premium Credit","HEADER::MEMBER::%s Premium Credits",r);break;default:i=""}i&&t.push(i),(r>0||"unlimited_images"===o)&&(n+=1)}return{creditLabels:t,noOfTypesOfNonZeroQuota:n}}function Y(e){if(!i||!e)return{creditLabels:[],noOfTypesOfNonZeroQuota:0};var t=[],n=0;if(M.get(e,"has_ever_had_credit_packs")){var a=M.get(e,"available_credit_pack_quota",0);y.has_universal_license_plan?t.push(B("HEADER::MEMBER::%s Pack credit","HEADER::MEMBER::%s Pack credits",a)):t.push(B("HEADER::MEMBER::%s Credit","HEADER::MEMBER::%s Credits",a)),a&&(n+=1)}if(M.get(e,'displayable_quota_available_by_license_name["Video_HD"]')){var s=M.get(e,'total_quota_available_by_license_name["Video_HD"]');t.push(B("HEADER::MEMBER::%s Video","HEADER::MEMBER::%s Videos",s)),s&&(n+=1)}else M.get(e,"is_cce")&&t.push(B("HEADER::MEMBER::%s Video","HEADER::MEMBER::%s Videos",0));if(i.hasCCTPro()||i.hasStockBundle())t.push(S.gettext("HEADER::MEMBER::Unlimited images")),n+=1;else{var r=M.get(e,'displayable_quota_available_by_license_name["Standard"]',0),o=G(r);(r||!M.get(e,"has_ever_had_credit_packs")&&!M.get(e,"is_credit_card_purchase_entitlement_without_plan"))&&t.push(o),r&&(n+=1)}return{creditLabels:t,noOfTypesOfNonZeroQuota:n}}function G(e){return y.isAudioWebSearchEnabled?y.has_universal_license_plan?B("HEADER::MEMBER::%s Plan credit","HEADER::MEMBER::%s Plan credits",e):B("HEADER::MEMBER::%s Asset","HEADER::MEMBER::%s Assets",e):B("HEADER::MEMBER::%s Image","HEADER::MEMBER::%s Images",e)}function B(e,t,n){var a=parseInt(n);return I.sprintf(S.ngettext(e,t,n),a)}function q(){var t=e("#details-wrapper"),n=decodeURIComponent(r.getPath());return t.is(":visible")&&(n+=e.isEmptyObject(r.getSearchObject())?"?":"&",n+="return_id="+t.find(".js-details").data("content_id")),n}function W(){y.isNavbarMarketplaceEnabled||(e("body").on("click",function(){e(".avatar").removeClass("avatar-active")}),e("#profile-expand-link").on("click",function(t){t.preventDefault(),t.stopPropagation(),e("#user-settings").toggleClass("avatar-active"),e("#js-mobile-menu-nav").addClass("hidden")}),e(".js-switch-team").on("click",function(){var t=e(this),n=t.attr("href");t.attr("href",n+u.buildQueryString({referrer_uri:q()},n))}),i.shouldDisplayTeamEntitlementErrorModal()&&F())}function K(){var n,a=e(".avatar-img"),s=e(".js-avatar-img"),r=e(".js-avatar-placeholder"),o=i.getResolvedImsProfile();(!y.isNavbarMarketplaceEnabled&&a.length&&!a.data("has-avatar")&&o||y.isNavbarMarketplaceEnabled&&r.length)&&e.ajax({url:y.behance_service_url+"/v2/users/"+o.userId,data:{api_key:y.SUSI.CLIENT_ID}}).then(function(i){if(n=i.user.images[138],y.isNavbarMarketplaceEnabled){var r=e(".js-avatar-ssr"),o=v({avatar:n},{partials:{"components/navbar/placeholderAvatarIconSvg":g}});r.html(o)}else a.css("background-image","url("+n+")").data("has-avatar","true"),s.attr("src",n);t.post(y.base_url+"/Ajax/Member/SaveAvatar",{avatar:n})})}function z(e){var t=q(),n={referrer_uri:t};e.detail.isEntitlementOnly&&e.detail.accountGuid&&(n.eoa=e.detail.accountGuid),e.detail.entitlementGuid?r.setLocation(l.getRoute({guid:e.detail.entitlementGuid},c.SWITCH_TEAM_NAME,n)):r.setLocation(l.getSwitchPersonalRoute(t))}a.on(a.ENTITLEMENT_UPDATED,function(){var t,n,a=i.getDefaultEntitlement(),s=H(),r=M.get(s,"noOfTypesOfNonZeroQuota",0),o=U(r);t={quotas_labels_by_license_type_id:i.getQuotaDataByLicenseTypeId(a),member:{default_entitlement:a,has_cct_pro:i.hasCCTPro(),hasStockBundle:i.hasStockBundle()},display_counters:i.shouldDisplayLicenseCounter(a),marketplace_show_credit_badges:o,marketplace_show_quotas_labels_by_license_type_id:o,page_config:{isAudioWebSearchEnabled:y.isAudioWebSearchEnabled,isNewQuotaTermEnabled:y.isNewQuotaTermEnabled}},n={partials:{"components/licenseBadge-v1":_,"components/navbar/creditBadges":m,"components/navbar/enterpriseCreditBadges":E,"components/coachMark":p,"components/enterpriseLicenseBadgeTemplate":k}},a.hasCreditModel=a.has_credit_model,a.hasAgencyModel=a.has_agency_model,void 0!==a.organization&&(a.hasAgencyModel?(a.organization.hasAgencyCreditsStandard=a.organization.has_credits_agency_standard,a.organization.hasAgencyCreditsPremium=a.organization.has_credits_agency_premium,a.organization.hasAgencyCreditsUniversal=a.organization.has_credits_agency_universal):(a.organization.hasCreditsCore=a.organization.has_credits_core,a.organization.hasCreditsGeneric=a.organization.has_credits_generic)),y.isNavbarMarketplaceEnabled?(e("#memberLicensesCounter").html(f(t,n)),O.updateProfileDropdownEntitlement({entitlementQuota:M.get(s,"creditLabels")})):e("#memberLicensesCounter").html(h(t,n));var c=M.get(t,"member.default_entitlement.is_admin");t.license_history_url=l.getLicenseHistoryURL(c),t.breakItems=!0,e("#avatar-dropdown-license").html(L(t,n)),i.shouldDisplayTeamEntitlementErrorModal()&&F()}),o.observe(function(e){return e.member},function(t){if(t.imsProfile&&t.stockProfile){var n=e("#sign-in-link"),a=e("#member-avatar"),s=e("#adobe-logo-or-avatar"),r=t.stockProfile.default_entitlement||{},o=H(),t=e.extend(t,{guid:t.imsProfile.userId,hasTeams:t.stockProfile.has_teams,default_entitlement:r,default_entitlement_id:r.id}),l={avatar:t.avatar,username:t.username,profile_name:t.stockProfile.profile_name,member:t,org_entitlements:t.stockProfile.org_entitlements,team_entitlements:t.stockProfile.team_entitlements,personal_entitlement:t.stockProfile.personal_entitlement,account_cluster:t.stockProfile.account_cluster,quotas_labels_by_license_type_id:i.getQuotaDataByLicenseTypeId(r),display_counters:i.shouldDisplayLicenseCounter(r),marketplace_show_credit_badges:M.get(o,"marketplace_show_credit_badges"),marketplace_show_quotas_labels_by_license_type_id:M.get(o,"marketplace_show_quotas_labels_by_license_type_id"),page_config:{accounts_url:y.accounts_url,isAudioWebSearchEnabled:y.isAudioWebSearchEnabled,isType2eTeamAndEnterpriseCompatibilityEnabled:y.isType2eTeamAndEnterpriseCompatibilityEnabled,isNewQuotaTermEnabled:y.isNewQuotaTermEnabled,isNavbarMarketplaceEnabled:y.isNavbarMarketplaceEnabled}},c={partials:{"components/coachMark":p,"components/licenseBadge-v1":_,"components/navbar/creditBadges":m,"components/navbar/enterpriseCreditBadges":E,"components/avatarDropdownLicense":L,"components/avatarDropdownProfile":D,"components/avatarDropdownProfiles":N,"components/avatarDropdownSignout":P,"components/enterpriseIcon":w,"components/profileDropdown/orgEntitlement":x,"components/enterpriseLicenseBadgeTemplate":k}};n.html(R(l)),y.isNavbarMarketplaceEnabled?s.html(b({member:t,avatar:t.avatar},{partials:{"components/navbar/navAvatar":v,"components/navbar/adobeLogoSvg":T,"components/navbar/placeholderAvatarIconSvg":g}})):(a.html(C(l,c)),W()),K()}}),A.ready.then(function(){e(".avatar-username").html(i.getProfileName())}),W(),y.isNavbarMarketplaceEnabled&&(e("body").on("click",function(t){var n=e(t.target),a=e("#nav-help-btn"),i=e(".js-nav-more-btn");n.is(a)||a.has(n).length||e("#nav-help-dropdown").removeClass("active"),n.is(i)||i.has(n).length||e(".js-nav-more-dropdown").removeClass("active")}),e(".js-search-text-input, .js-camera-icon").click(function(){e("#nav-help-dropdown").removeClass("active"),e(".js-nav-more-dropdown").removeClass("active")}),e("#nav-help-btn").on("click",function(t){t.preventDefault(),e("#nav-help-dropdown").toggleClass("active")}),e(".js-nav-more-btn").on("click",function(t){t.preventDefault(),e(t.currentTarget).siblings(".js-nav-more-dropdown").toggleClass("active")}),e("body").on("click",".js-navbar-avatar",function(t){var n=e(".js-navbar-avatar").find("img"),a=n.attr("src"),s=i.getResolvedImsProfile(),r=H(),o=i.getImsAccountName(),l=!i.getDefaultEntitlementGuid(),c=M.get(s,"email"),u=i.buildOrganizations(),d={authProfiles:M.get(u,"authProfiles"),entitlementOnlyProfiles:M.get(u,"entitlementOnlyProfiles"),avatarImageUrl:a,adobeAccountUrl:M.get(y,"accounts_url"),currentProfileName:o,email:c,isZombieUser:i.isZombieUser(),entitlementQuota:M.get(r,"creditLabels"),isPersonalProfileActive:l,isTeam:i.isTeam(),logoutUrl:"#"};y.isDefaultEntitlementManagementEnabled&&(d.licensingEntitlementsQuotas=j(Object.assign(d.authProfiles,d.entitlementOnlyProfiles))),O.renderProfileDropdown(d)})),e("#js-mobile-menu-button").on("click",function(t){t.preventDefault(),t.stopPropagation(),e("#js-mobile-menu-nav").toggleClass("hidden"),e("#user-settings").removeClass("avatar-active")}),e("#header-cloud-selector").find("a").on("click",function(t){t.preventDefault(),t.stopPropagation();var n=e(this),a=n.find(".spinner");n.hasClass("selected")||(a.show(),s.saveDefaultLibrary("",n.data("cloud-id"),!0).then(function(){location.pathname.startsWith(y.base_url+"/Library/")?window.location.href=y.base_url+"/Libraries":location.reload(!0)}).fail(function(){a.hide()}))}),e(".js-waffle-button").on("click",function(){var e=M.get(y,"SUSI.profile",{}),t={accessToken:M.get(e,"access_token",""),email:M.get(e,"authId",""),countryCode:M.get(e,"countryCode","US")},n={isPersonalProfileActive:!i.isUsingCCEAccount(),isTeam:i.isTeam(),imsData:t};O.renderNavbarMarketplaceWaffleLeftNav(n)}),window.addEventListener("portal:switchTeamRequest",z),window.addEventListener("portal:switchAccountRequest",z);var Q={initGlobalNav:K,handleSwitchProfile:z,setCreditBadgesInNavbar:U,getNonEnterpriseCreditLabelsData:Y,getEnterpriseCreditLabelsData:V,getCreditLabelsData:H,getLocalizedStandardQuotaLabel:G,getLicensingEntitlementsQuotas:j};return Q}),define("lib/hamburgerMenu",["jquery"],function(e){"use strict";function t(){n.on("click",function(){a.attr("opened","")}),i.on("click",function(){a.removeAttr("opened")})}var n=e("#hamburger-button"),a=e("#hamburger-menu"),i=e("#hamburger-overlay");return{init:t,button:n,menu:a,overlay:i}}),define("components/librariesDropdown",["jquery","page_config","i18n","i18n-config","app/client","lib/member","lib/susi","lib/utils"],function(e,t,n,a,i,s,r,o){"use strict";function l(e){var t=e&&e.isDownloading||!1,n=e&&e.isSaving||!1,a=e&&e.isLicensing||!1,i=e&&e.saved||!1;return t||n||a||i}function c(e){e.find(".js-hover-menu-pre-library-loading-state").addClass("not-saving hidden"),e.find(".js-hover-menu-savinglibrary-spinner-state").addClass("not-saving hidden"),e.find(".js-hover-menu-creatinglibrary-spinner-state").addClass("not-saving hidden"),e.find(".js-hover-menu-active-state").removeClass("hidden"),e.find(".js-hover-menu-saved-state").addClass("hidden"),e.find(".js-post-saving-data-div").addClass("hidden"),e.find(".js-hover-menu").removeClass("must-show")}function u(e){e.find(".js-hover-menu-pre-library-loading-state").addClass("hidden"),c(e)}return{enterActiveState:c,exitLoadingState:u,isSpinnerVisibleOnAsset:l}}),define("hbs!templates/landingPages/video/heroVideo",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div itemscope itemtype="https://schema.org/VideoObject">\n    <meta itemprop="thumbnailUrl" content="'+this.escapeExpression((i=null!=(i=t.thumbnailUrl||(null!=e?e.thumbnailUrl:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"thumbnailUrl",hash:{},data:a}):i))+'">\n    <meta itemprop="expires" content="2019-02-10">\n    <meta itemprop="contentUrl" content="'+this.escapeExpression((t.staticCdn||e&&e.staticCdn||t.helperMissing).call(e,"/v1/pics/landing/video/LP-Video-Hero-July-2020.mp4",{name:"staticCdn",hash:{},data:a}))+'">\n    <meta itemprop="expires" content="2019-02-10">\n\n    <meta itemprop="name" content="Hero Video">\n    <meta itemprop="description" content="Video at the top of the page to make everything look really cool.">\n    <meta itemprop="width" content="1000">\n    <meta itemprop="height" content="300">\n    <meta itemprop="duration" content="PT15S">\n    <meta itemprop="uploadDate" content="2019-02-09">\n\n    <video\n        preload="none"\n        class="container-full-expand container-absolute to-the-bottom to-the-right"\n        poster="'+this.escapeExpression((i=null!=(i=t.thumbnailUrl||(null!=e?e.thumbnailUrl:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"thumbnailUrl",hash:{},data:a}):i))+'"\n        muted="muted"\n        autoplay="autoplay"\n        loop="loop">\n        <source src="'+this.escapeExpression((t.staticCdn||e&&e.staticCdn||t.helperMissing).call(e,"/v1/pics/landing/video/LP-Video-Hero-July-2020.mp4",{name:"staticCdn",hash:{},data:a}))+'" type="video/mp4" />\n    </video>\n</div>\n'},useData:!0})}),define("hbs!templates/landingPages/video/pricingBladeVideo",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<video\n    class="responsive-img"\n    preload="none"\n    poster="'+this.escapeExpression((i=null!=(i=t.thumbnailUrl||(null!=e?e.thumbnailUrl:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"thumbnailUrl",hash:{},data:a}):i))+'"\n    muted="muted"\n    autoplay="autoplay"\n    loop="loop"\n    data-t="pricing-blade-video"\n>\n    <source src="'+this.escapeExpression((t.staticCdn||e&&e.staticCdn||t.helperMissing).call(e,"/v1/pics/landing/video_pricing_blade.mp4",{name:"staticCdn",hash:{},data:a}))+'" type="video/mp4" />\n</video>\n'},useData:!0})}),define("components/videoLandingPage",["jquery","page_config","hbs!templates/landingPages/video/heroVideo","hbs!templates/landingPages/video/pricingBladeVideo"],function(e,t,n,a){"use strict";function i(){t.is_mobile||s()}function s(){r(),o()}function r(){var t=e(l),a=t.find("img").attr("src");t.html(n({thumbnailUrl:a}))}function o(){var t=e(c),n=t.find("img").attr("src");t.html(a({thumbnailUrl:n}))}var l=".js-hero-video",c=".js-pricing-blade-video";return{init:i,setUpHeroVideo:r,setUpPricingBladeVideo:o,heroVideoSelector:l,pricingBladeVideoSelector:c}}),define("hbs!templates/motMotModal/partials/dpcUsersRetentionMessage",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n.modalWithHeaderFooterAndButton,e,{name:"modalWithHeaderFooterAndButton",hash:{footer_link:null!=(i=null!=e?e.properties:e)?i.button_link:i,footer_link_label:(t._||e&&e._||t.helperMissing).call(e,"MODAL::DPC_MIGRATION::See plans & pricing",{name:"_",hash:{},data:a}),body:(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"MODAL::DPC_MIGRATION::Your %s unused download from Dollar Photo Club has expired. Get your unused download back by simply subscribing to one of many Adobe Stock plans. Re-activated downloads are yours to keep for an additional year. Act now to get this limited-time offer.","MODAL::DPC_MIGRATION::Your %s unused downloads from Dollar Photo Club have expired. Get all the unused downloads back by simply subscribing to one of many Adobe Stock plans. Re-activated downloads are yours to keep for an additional year. Act now to get this limited-time offer.",null!=(i=null!=e?e.properties:e)?i.remaining_quota:i,{name:"ngettext",hash:{},data:a}),null!=(i=null!=e?e.properties:e)?i.remaining_quota:i,{name:"sprintf",hash:{},data:a}),subtitle:(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"MODAL::DPC_MIGRATION::Offer expires on %s",{name:"_",hash:{},data:a}),null!=(i=null!=e?e.properties:e)?i.offer_expiration_date:i,{name:"sprintf",hash:{},data:a}),title:(t._||e&&e._||t.helperMissing).call(e,"MODAL::DPC_MIGRATION::Re-activate your expired downloads today",{name:"_",hash:{},data:a})},data:a,indent:"    ",helpers:t,partials:n}))?i:""},3:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=e?e.properties:e)?i.show_no_plan_segment_message:i,{name:"if",hash:{},fn:this.program(4,a,0),inverse:this.program(6,a,0),data:a}))?i:""},4:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n.modalWithHeaderFooterAndButton,e,{name:"modalWithHeaderFooterAndButton",hash:{footer_link:null!=(i=null!=e?e.properties:e)?i.button_link:i,footer_link_label:(t._||e&&e._||t.helperMissing).call(e,"MODAL::DPC_MIGRATION::See plans & pricing",{name:"_",hash:{},data:a}),
body:(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"MODAL::DPC_MIGRATION::Your %1$s unused Dollar Photo Club download will expire soon. Subscribe to one of many Adobe Stock subscription plans before %2$s to keep your unused download for an additional year. Act now to get this limited-time offer.","MODAL::DPC_MIGRATION::Your %1$s unused Dollar Photo Club downloads will expire soon. Subscribe to one of many Adobe Stock subscription plans before %2$s to keep your unused downloads for an additional year. Act now to get this limited-time offer.",null!=(i=null!=e?e.properties:e)?i.remaining_quota:i,{name:"ngettext",hash:{},data:a}),null!=(i=null!=e?e.properties:e)?i.remaining_quota:i,null!=(i=null!=e?e.properties:e)?i.offer_expiration_date:i,{name:"sprintf",hash:{},data:a}),subtitle:(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"MODAL::DPC_MIGRATION::Valid until %s",{name:"_",hash:{},data:a}),null!=(i=null!=e?e.properties:e)?i.offer_expiration_date:i,{name:"sprintf",hash:{},data:a}),title:(t._||e&&e._||t.helperMissing).call(e,"MODAL::DPC_MIGRATION::Limited-time offer",{name:"_",hash:{},data:a})},data:a,indent:"        ",helpers:t,partials:n}))?i:""},6:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=e?e.properties:e)?i.show_promo_plan_segment_message:i,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.noop,data:a}))?i:""},7:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n.modalWithHeaderFooterAndButton,e,{name:"modalWithHeaderFooterAndButton",hash:{footer_link:null!=(i=null!=e?e.properties:e)?i.button_link:i,footer_link_label:(t._||e&&e._||t.helperMissing).call(e,"MODAL::DPC_MIGRATION::Ok, got it",{name:"_",hash:{},data:a}),body:(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"MODAL::DPC_MIGRATION::Your %1$s unused Dollar Photo Club download is set to expire on %2$s. But, we have some great news! As long as you renew your current Adobe Stock subscription, you can keep your unused downloads for an additional year.","MODAL::DPC_MIGRATION::Your %1$s unused Dollar Photo Club downloads are set to expire on %2$s. But, we have some great news! As long as you renew your current Adobe Stock subscription, you can keep your unused downloads for an additional year.",null!=(i=null!=e?e.properties:e)?i.remaining_quota:i,{name:"ngettext",hash:{},data:a}),null!=(i=null!=e?e.properties:e)?i.remaining_quota:i,null!=(i=null!=e?e.properties:e)?i.offer_expiration_date:i,{name:"sprintf",hash:{},data:a}),subtitle:(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"MODAL::DPC_MIGRATION::Valid until %s",{name:"_",hash:{},data:a}),null!=(i=null!=e?e.properties:e)?i.offer_expiration_date:i,{name:"sprintf",hash:{},data:a}),title:(t._||e&&e._||t.helperMissing).call(e,"MODAL::DPC_MIGRATION::Special offer for you",{name:"_",hash:{},data:a})},data:a,indent:"            ",helpers:t,partials:n}))?i:""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=e?e.properties:e)?i.is_expired_license:i,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(3,a,0),data:a}))?i:""},usePartial:!0,useData:!0})}),define("hbs!templates/motMotModal/partials/modalWithHeaderFooterAndButton",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i,s;return'    <div class="modal__footer">\n        <a href="'+this.escapeExpression((s=null!=(s=t.footer_link||(null!=e?e.footer_link:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"footer_link",hash:{},data:a}):s))+'" '+(null!=(i=t.if.call(e,null!=e?e.target_blank:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.noop,data:a}))?i:"")+'>\n            <button class="button button--dialog">\n                <span>'+this.escapeExpression((s=null!=(s=t.footer_link_label||(null!=e?e.footer_link_label:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"footer_link_label",hash:{},data:a}):s))+"</span>\n            </button>\n        </a>\n    </div>\n"},2:function(e,t,n,a){return'target="_blank"'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div class="modal__header">\n    <div class="text-sregular">\n        '+this.escapeExpression((s=null!=(s=t.title||(null!=e?e.title:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"title",hash:{},data:a}):s))+"\n        <br>\n        "+this.escapeExpression((s=null!=(s=t.subtitle||(null!=e?e.subtitle:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"subtitle",hash:{},data:a}):s))+'\n    </div>\n</div>\n<div class="modal__content">\n  <p>'+this.escapeExpression((s=null!=(s=t.body||(null!=e?e.body:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"body",hash:{},data:a}):s))+"</p>\n</div>\n"+(null!=(i=t.if.call(e,null!=e?e.footer_link:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")},useData:!0})}),define("app/utils/dunamis/dunamisBannedCountry",["lib/analytics/dunamis","quickerCheckout/analytics/dunamis/dunamisCatchWrapper","lodash","quickerCheckout/analytics/dunamis/dunamisUtils"],function(e,t,n,a){"use strict";function i(i,s,r){t.execFunction(function(){var t=s?e.constants.CLICK:e.constants.VISIT,o={"event.workflow":"stock-checkout","event.subcategory":"banned-country"};r&&(o["content.id"]=r.content_id,o[e.constants.PROPERTIES.CHECKOUT.SELECTED_PURCHASE_OPTION]=r.product_key),a.trackWrapper(t,i,o,null,n.get(r,"extras.options"))},"error-banned-country","banned-country-modal")}return{send:i}}),define("lib/keepAlive",["page_config","lib/ajax","lib/window"],function(e,t,n){"use strict";function a(){t.post(e.base_url+"/Ajax/KeepAlive").done(i).fail(function(e){403===e.status&&n.reloadLocation()})}function i(){n.setTimeout(a,s)}var s=3e5;return{scheduleProbe:i,probe:a}}),define("lib/analytics/promoBanner",["app/constants/analytics","lib/analytics","lib/analytics/dunamis","jquery"],function(e,t,n,a){"use strict";function i(e,t){var i={},s=n.constants;t&&(i[s.EVENT_WORKFLOW_PROPERTY]=s.STOCK_CHECKOUT,i[s.PROPERTIES.CHECKOUT.SELECTED_PURCHASE_OPTION]=t,n.track(s.VISIT,s.BLUE_BANNER,i,a("body")))}function s(i,s,r,o){var l={},c=n.constants,u=t.determineFindingMethod();t.setSelectionMethod(e.SELECTION_DIRECT),l[c.EVENT_WORKFLOW_PROPERTY]=c.STOCK_CHECKOUT,l[c.PROPERTIES.CHECKOUT.FINDING_METHOD]=u,l[c.PROPERTIES.CHECKOUT.SELECTION_METHOD]=e.SELECTION_DIRECT,l[c.PROPERTIES.CHECKOUT.SELECTED_PURCHASE_OPTION]=s,n.track(c.CLICK,o,l,a("body"))}function r(e){t=e}return{sendImpressionAnalytics:i,sendBlueBannerAnalytics:s,setAnalyticsLib:r}}),define("lib/promoBannerManager",["page_config","lib/member","lib/utils","app/utils/search","lib/analytics/promoBanner","app/utils/routes"],function(e,t,n,a,i,s){"use strict";function r(){var e,t,a,s=!1,r=[];for(h=_,t=0;t<f.length;t++){if(e=f[t],!e.element){if(!1===e.element)continue;if(e.element=document.getElementById(e.id)||!1,!e.element)continue}s||e.testAndTarget||e.test&&!e.test()?(n.updateAttribute(e.element,"data-is-hidden","true"),e.testAndTarget&&r.push(e.element.dataset.productKey)):(n.updateAttribute(e.element,"data-is-hidden","false"),h=e.offer,s=!0,a=e.element.dataset.productKey,r.push(a))}i.sendImpressionAnalytics(r,a)}function o(){return h||_}function l(){return a.isNonFmfPage()||a.isVideoAssetType()||s.isVideoDetailsPage()}function c(){return e.isPromoApiContentFactoryEnabled&&(a.isNonFmfPage()||a.isVideoAssetType()||s.isVideoDetailsPage())}function u(){return t.isFMFEligible()&&a.isFreeAssetType()}function d(){return t.isFMFEligible()&&!a.isNonFmfPage()}function p(){return!a.isVideoAssetType()}var h,f=[{id:"free-promo",offer:"subscriptions",test:u},{id:"free-banner",offer:"subscriptions",test:u},{id:"add-credit-pack",offer:"credit",test:p},{id:"team-promo-banner",offer:"team"},{id:"ft-migration-promo-banner",offer:"fotolia"},{id:"enterprise-promo-banner",offer:"enterprise"},{id:"credit-pack-video-banner",offer:"credit",test:l},{id:"subscription-video-banner",offer:"subscriptions",test:c},{id:"credit-pack-image-banner",offer:"credit",testAndTarget:!0},{id:"fmf-promo",offer:"subscriptions",test:d},{id:"team-plan-phone-banner",offer:"team"},{id:"enterprise-access-request-banner",offer:"enterprise-access-request"}],_="na";return{updateUI:r,getPromoOffer:o,_shouldDisplaySubscriptionVideoBanner:c}}),define("app/observers/globalObservers",["jquery","app/utils/observer","lib/promoBannerManager","page_config"],function(e,t,n,a){"use strict";function i(){t.observe(function(e){return e.member.hasSubscription},s)}function s(e){e&&n.updateUI()}return{init:i,handleMemberChange:s}}),define("hbs!templates/motMotModal/partials/cantBuyTeams",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return"padding-bottom-small"},3:function(e,t,n,a){return"padding-bottom-large"},5:function(e,t,n,a){var i;return'                <p data-t="cant-buy-teams-become-admin-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::TEAM::To purchase a team plan yourself, you can become the admin of a new team.",{name:"_",hash:{},data:a}))+'</p>\n\n                <div class="row padding-top-large padding-bottom-medium">\n                    <div class="v-align-wrapper ">\n                        <div class="c-align">\n                            <a id="cant-buy-team-plan-link" href="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.properties:e)?i.business_center_url:i,e))+'" data-ingest-clicktype="start-a-new-team" class="button button--action" data-t="cant-buy-teams-start-team-link">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::TEAM::Start a New Team",{name:"_",hash:{},data:a}))+'</a>\n                        </div>\n                    </div>\n                </div>\n                <div class="padding-top-medium"></div>\n\n                <span class="grey silver-sand-text" data-t="cant-buy-teams-personal-use-text">\n                    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::TEAM::You can also purchase a plan for your personal use.",{name:"_",hash:{},data:a}))+'\n                    <a data-ingest-clicktype="plan-options" class="blue picton-text js-cant-buy-teams" href="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.properties:e)?i.plans_page_url:i,e))+'" data-t="cant-buy-teams-see-personal-link">\n                        '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::TEAM::See plan options >",{name:"_",hash:{},data:a}))+"\n                    </a>\n                </span>\n"},7:function(e,t,n,a){return'                <p data-t="cant-buy-teams-cp-personal-use-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::TEAM::You can also purchase a plan for your personal use.",{name:"_",hash:{},data:a}))+"</p>\n"},9:function(e,t,n,a){return"padding-bottom-xsmall"},11:function(e,t,n,a){return"padding-top-xlarge"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="container-smedium-height-max" data-ingest-subcategory="delegate-cannot-complete-purchase" data-ingest-workflow="stock-checkout">\n    <div class="row grey heavy-metal-text">\n        <div class="column on-small-10 on-small-offset-1">\n            <div class="row padding-top-large '+(null!=(i=t.if.call(e,null!=(i=null!=e?e.properties:e)?i.is_credit_packs:i,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(3,a,0),data:a}))?i:"")+'">\n                <i class="mti-icon mti-3x icon-teams grey silver-sand-text"></i>\n            </div>\n\n            <p data-t="cant-buy-teams-only-admins-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::TEAM::Only admins can add Adobe Stock to a team account. To add Adobe Stock to an existing team, please contact your admin.",{name:"_",hash:{},data:a}))+"</p>\n\n"+(null!=(i=t.unless.call(e,null!=(i=null!=e?e.properties:e)?i.is_credit_packs:i,{name:"unless",hash:{},fn:this.program(5,a,0),inverse:this.program(7,a,0),data:a}))?i:"")+'\n            <div class="'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.properties:e)?i.is_credit_packs:i,{name:"if",hash:{},fn:this.program(9,a,0),inverse:this.program(11,a,0),data:a}))?i:"")+'"></div>\n        </div>\n        <div class="column on-small-1"></div>\n    </div>\n</div>\n'},useData:!0})});define("hbs!templates/motMotModal/partials/cantBuyTeamsFooter",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<a data-ingest-clicktype="click" data-ingest-subtype="plan-options" data-ingest-subcategory="delegate-cannot-complete-purchase" data-ingest-workflow="stock-checkout" class="button button--dialog js-cant-buy-teams" href="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.properties:e)?i.plans_page_url:i,e))+'" data-t="see-personal-offers-footer-link">\n    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::TEAM::See Personal Offers",{name:"_",hash:{},data:a}))+"\n</a>\n"},useData:!0})}),define("components/modalCantBuyTeams",["components/motMotModal","hbs!templates/motMotModal/partials/cantBuyTeams","hbs!templates/motMotModal/partials/cantBuyTeamsFooter","lib/analytics","page_config","i18n-config","lib/member","app/utils/routes","app/constants/index","app/constants/analytics","lib/analytics/dunamis","quickerCheckout/analytics/dunamis/dunamisCatchWrapper"],function(e,t,n,a,i,s,r,o,l,c,u,d){"use strict";function p(a){var c={templateParams:{usingDefault:!0,width:"medium"},partial:t,title:s.gettext("MODAL::TEAM::Cannot complete purchase"),partialProperties:{business_center_url:"https://creative.adobe.com/plans?plan=team&step=2&store_code=us&promoid=7RZ369KZ&mv=other",plans_page_url:i.base_url}},p={},h=u.constants;r.isTeam()?c.partialProperties.plans_page_url+=o.getSwitchPersonalRoute(l.routes.PLANS+"?switched=1"):c.partialProperties.plans_page_url+=l.routes.PLANS,a&&a.isCreditPacks&&(c.partialProperties.is_credit_packs=!0,c.templateParams.footer=!0,c.additionalPartials={modalFooter:n}),a&&a.businessCenterUrl&&(c.partialProperties.business_center_url=a.businessCenterUrl),e.show("usingPartial",c),p[h.EVENT_WORKFLOW_PROPERTY]=h.STOCK_CHECKOUT,p[h.EVENT_SUBCATEGORY_PROPERTY]=h.DELEGATE_CANNOT_COMPLETE_PURCHASE,d.execFunction(function(){u.track(u.constants.VISIT,u.constants.PAGE_VIEW,p)},"error-team-delegate-cannot-complete-purchase","team-delegate-cannot-complete-purchase-modal")}return{show:p}}),define("quickerCheckout/adobestock/trackingPixels",["lodash","lib/member","lib/utils","lib/analytics/utils","page_config","lib/cookie","lib/window","lib/susi"],function(e,t,n,a,i,s,r,o){"use strict";function l(){if(i.isOneTagIframeEnabled){m("https://servedby.flashtalking.com/container/10943;81912;8481;iframe/?ft_referrer="+escape(document.location.href)+"&ns="+escape(document.referrer)+"&ftXRef=[%TRANSACTION_ID%]&ftXValue=[%TRANSACTION_VALUE%]&ftXType=[%TRANSACTION_TYPE%]&ftXName=[%TRANSACTION_NAME%]&ftXNumItems=[%TRANSACTION_QUANTITY%]&ftXCurrency=[%TRANSACTION_CURRENCY%]&U1=&U2=&U3=&U4=&U5=&U6=&u7=&U8=&U9=&U10=&U11=&U12=&U13=&U14=&U15=&U16=&U17&U18=&U19=&U20=&cb="+1e13*Math.random(),{"data-t":"one-tag-tracking-page-load",sandbox:"allow-scripts"})}}function c(){var e=r.getLocation().hostname+r.getLocation().pathname,t=e.split("/"),n=t.indexOf("Library"),a={africa:1,at:1,au:1,be:1,be_en:1,be_fr:1,be_nl:1,bg:1,br:1,ca:1,ca_es:1,ca_fr:1,ch:1,ch_de:1,ch_fr:1,ch_it:1,cin:1,cn:1,cs:1,cs_cz:1,cy:1,cy_en:1,cz:1,da:1,da_dk:1,de:1,de_de:1,dk:1,ee:1,eeurope:1,en:1,en_gb:1,en_us:1,es:1,es_es:1,eu_es:1,fi:1,fi_fi:1,fr:1,fr_fr:1,gr:1,gr_en:1,hk:1,hk_en:1,hk_zh:1,hr:1,hr_hr:1,hu:1,hu_hu:1,ie:1,il:1,il_en:1,il_he:1,in:1,it:1,it_it:1,ja:1,ja_jp:1,jp:1,ko:1,ko_kr:1,kr:1,la:1,lt:1,lu:1,lu_de:1,lu_en:1,lu_fr:1,lv:1,mena:1,mena_ar:1,mena_en:1,mena_fr:1,mt:1,mx:1,na:1,nb:1,nb_no:1,nl:1,nl_nl:1,no:1,nz:1,pl:1,pl_pl:1,pt:1,pt_br:1,ro:1,ro_ro:1,rs:1,ru:1,ru_ru:1,se:1,sea:1,si:1,sk:1,sk_sk:1,sl_si:1,sv:1,sv_se:1,tr:1,tr_tr:1,tw:1,tw_cn:1,ua:1,uk:1,uk_ua:1,us:1,za:1,zh_cn:1,zh_tw:1,"zh-tw":1};return t.filter(function(e,i){return e&&""!==e&&!(1===i&&a.hasOwnProperty(e.toLowerCase()))&&!(i===t.length-1&&-1!==n)&&!(i===t.length-1&&null!==e.match(/^\d+$/))}).join(":").toLowerCase()}function u(){var e,a,i=s("aam_uuid")||"",l=n.getQueryParam("aas_unique_submission_id")||"";o.ready.then(function(){e=t.getCleanGuid(!0)||"",void 0!==window.s_adbadobenonacdc&&void 0!==window.s_adbadobenonacdc.visitor&&window.s_adbadobenonacdc.visitor.getMarketingCloudVisitorID()&&(a="ftXRef=&ftXValue=&ftXType=&ftXName=&ftXNumItems=&ftXCurrency=&U1="+i+"&U2="+e+"&U3="+window.s_adbadobenonacdc.visitor.getMarketingCloudVisitorID()+"&U4="+encodeURIComponent(c())+"&U5=&U6=&U7=&U8=&U9=&U10=&U11="+l+"&U12=&U13=&U14=&U15=&U16=&U17=&U18=&U19=&U20=&ft_referrer="+encodeURIComponent(r.getLocation().href.split(/[?%23]/)[0])+"&ns="+encodeURIComponent(r.getReferrer().split(/[?%23]/)[0])+"&cb="+1e13*Math.random(),m("https://servedby.flashtalking.com/container/13539;99030;10307;iframe/?"+a,{"data-t":"adobe-one-tag-tracking-page-load",sandbox:"allow-scripts"}))})}function d(){m("/sandboxed_tags.html",{"data-t":"sandboxed-tags",id:"sandboxed-tags",sandbox:"allow-scripts"})}function p(){window._linkedin_data_partner_id="872";var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://snap.licdn.com/li.lms-analytics/insight.min.js",e.setAttribute("data-t","linkedin-tracking"),_(e)}function h(){if(i.isLaunchEnabled){var e=document.createElement("script");e.src="//www.googletagmanager.com/gtag/js?id=AW-987390658",e.async=!0,e.setAttribute("data-t","google-gtag-tracking"),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config","AW-987390658"),window.gtag("config","AW-1004494713"),window.gtag("config","AW-983956512"),_(e)}}function f(){var e;window.uetq||(e=document.createElement("script"),e.src="//bat.bing.com/bat.js",e.async=!0,e.onload=e.onreadystatechange=function(){var t,n=this.readyState;n&&"loaded"!==n&&"complete"!==n||(t={ti:"5190105"},t.q=window.uetq,window.uetq=new UET(t),window.uetq.push("pageLoad"),e.onload=e.onreadystatechange=null)},e.setAttribute("data-t","bing-uet-tracking"),_(e))}function _(e){var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}function m(e,t){var a=document.createElement("iframe");a.setAttribute("src",e),a.setAttribute("width","1"),a.setAttribute("height","1"),a.setAttribute("frameborder",0),a.setAttribute("style","display:none"),Object.keys(t).forEach(function(e){n.updateAttribute(a,e,t[e])}),document.body.appendChild(a)}function E(){a.onPrivacyConsent(function(){d(),l(),u(),p(),f(),v(0x64bf3b5cffd55,"PageView","fb-page-view-tracking",{}),h()})}function g(){['[data-t="double-click-tracking-videos-and-creditpacks"]','[data-t="double-click-tracking"]','[data-t="double-trader"]',".js-admarketplacepixel",'[data-t="fb-tracking"]','[data-t="one-tag-tracking"]','[data-t="flood-light-tracking"]','[data-t="google-ads-tracking"]','[data-t="linkedin-tracking"]','[data-t="bing-uet-tracking"]','[data-t="one-tag-tracking-page-load"]','[data-t="sandboxed-tags"]','[data-t="fb-page-view-tracking"]','[data-t="fb-start-trial-tracking"]','[data-t="fb-purchase-tracking"]','[data-t="fb-download-tracking"]','[data-t="media-forge"]','[data-t="google-gtag-tracking"]'].forEach(function(e){var t=document.querySelector(e);t&&t.parentNode&&t.parentNode.removeChild(t)})}function v(e,t,a,i){var s=document.createElement("img"),r="https://www.facebook.com/tr?id="+e+"&ev="+t+"&noscript=1&dpo=LDU&dpoco=0&dpost=0";Object.keys(i).forEach(function(e){r+="&cd["+e+"]="+i[e]}),s.setAttribute("src",encodeURI(r)),s.setAttribute("width","1"),s.setAttribute("height","1"),s.setAttribute("style","display:none"),n.updateAttribute(s,"data-t",a),document.body.appendChild(s)}return{fireTrackingPixelsForPageLoad:E,loadSandboxedTagsIframe:d,loadOneTagForPageLoad:l,loadLinkedinForPageLoad:p,loadBingForPageLoad:f,loadAdobeOneTagForPageLoad:u,cleanUpTrackingPixels:g,getPageName:c,buildFacebookTrackingPixel:v,loadGoogleGtagForPageLoad:h}}),define("app/actions/checkoutActions",["lodash","app/actions/actionTypes"],function(e,t){"use strict";function n(n){var a=e.get(n,d);return{contentId:parseInt(a,10),type:t.QUICKER_CHECKOUT_OPEN}}function a(n){var a=e.get(n,d);return{contentId:parseInt(a,10),type:t.QUICKER_CHECKOUT_CLOSE}}function i(n){var a=e.get(n,d);return{contentId:parseInt(a,10),type:t.QUICKER_CHECKOUT_DONE}}function s(n){var a=e.get(n,d);return{contentId:parseInt(a,10),type:t.QUICKER_CHECKOUT_DONE}}function r(e,n){return{contentId:parseInt(e,10),promise:n,type:t.BUY_LICENSE}}function o(e,n){return{contentId:parseInt(e,10),promise:n,type:t.DOWNLOAD_ASSET}}function l(e,n){return{contentId:parseInt(e,10),promise:n,type:t.SAVE_ASSET}}function c(e){return{contentId:parseInt(e,10),type:t.SAVE_ASSET_COMPLETE}}function u(e){return{contentId:parseInt(e,10),type:t.WAIT_QUICKER_CHECKOUT_MODAL_OPEN}}var d="asset_details.content_id";return{quickerCheckoutOpen:n,quickerCheckoutClose:a,quickerCheckoutComplete:i,quickerCheckoutError:s,buyLicense:r,downloadAsset:o,saveAsset:l,saveAssetComplete:c,waitQuickerCheckoutModalOpen:u}}),define("lib/checkout",["jquery","lib/member","lib/susi","page_config","app/constants/analytics","lib/analytics"],function(e,t,n,a,i,s){"use strict";function r(){c=!0,require(["anyware"])}var o,l=a.ANYWARE.anyware_tracking_enabled,c=!1;return{_container:null,_initialized:null,setup:function(e){o=e},init:function(n){var i=n||a.ANYWARE;if(!i)throw new Error("Anyware Config Options are not set");if(this._initialized||(this._initialized=new e.Deferred),!e.fn.anyware_checkout)return c||r(),setTimeout(this.init.bind(this,i),100),this._initialized;this._container=e("<div>"),this._container.anyware_checkout({clientId:i.CLIENT_ID,countryCode:t.getCountryCode(),universalMode:!0,landscape:i.LANDSCAPE});var s=this;return this._container.on("configured",function(){setTimeout(s._initialized.resolve,2500)}),this._initialized},destroy:function(){this._container&&(this._container.remove(),this._container=null),this._initialized=null},purchase:function(r){var c=this,u=(r.productKey,e.Deferred()),d=e(".js-fmf-params"),p={is_fotolia_migration:!!r.isFotoliaMigration,fotolia_segment:r.fotoliaMigrationSegment,fotolia_ab_testing_segment:r.fotoliaMigrationAbTestingSegment,finding_method:s.determineFindingMethod(),selection_method:i.SELECTION_DIRECT};return o?(d.length>0&&(p.is_fmf_enabled=d.data("fmf-enabled")),o.start(r.productKey,{contentId:r.imageId,extrasOptions:p})):(this._initialized||this.init(),e.when(n.ready,this._initialized).done(function(){if(!r.forcePurchaseValidation&&t.isLoggedIn()){var n=window.location.protocol+"//"+window.location.host+a.base_url,i=window.encodeURIComponent(r.fulfillmentMethod),s=window.encodeURIComponent(r.productKey),o=n+"/Orderconfirmation?order_number={{orderNumber}}&fulfillment_method="+i+"&product_key="+s,d=n+"/Error/Checkout";l&&(o+="&nb={{isNewBuyer}}&products={{productList}}&currency={{currency}}&payment={{payment}}");var p={};r.imageId&&(p.image_id=r.imageId),r.libraryId&&(p.library_id=r.libraryId),r.action&&(p.action=r.action),r.licenseId&&(p.license_id=r.licenseId);var h=e.param(p);""!==h&&(h="&"+h),o+=h;var f="GB"===t.getCountryCode()?"EN":"MULT";window.setTimeout(function(){window.location=d},1e3*a.ANYWARE.TIMEOUT);var _={imsContextId:a.ANYWARE.DEFAULT_IMS_CONTEXT_ID,confirmPageUrl:o,cancelPageUrl:d,countryCode:t.getCountryCode(),marketSegment:r.marketSegment,items:[{productKey:r.productKey,quantity:1,languageCode:f,serviceCommitment:r.serviceCommitment,fulfillmentMethod:r.fulfillmentMethod}]};c._container.anyware_checkout("startUniversalCheckout",_)}else{var m={product_key:r.productKey,country_code:t.getCountryCode(),service_commitment:r.serviceCommitment,fulfillment_method:r.fulfillmentMethod};r.imageId&&(m.image_id=r.imageId),r.libraryId&&(m.library_id=r.libraryId),r.action&&(m.action=r.action),r.licenseId&&(m.license_id=r.licenseId);var E=a.base_url+"/Purchase/Validate";E+="?"+e.param(m),window.location=E}u.resolve()}),u.promise())}}}),define("hbs!templates/modalWindow/ccePlanChoice",["Handlebars"],function(e){return e.template({1:function(e,t,n,a,i,s){var r;return null!=(r=t.each.call(e,null!=e?e.possible_licenses:e,{name:"each",hash:{},fn:this.program(2,a,1,i,s),inverse:this.noop,data:a,blockParams:i}))?r:""},2:function(e,t,n,a,i,s){var r;return null!=(r=t.with.call(e,t.lookup.call(e,null!=s[1]?s[1].license_details:s[1],i[0][0],{name:"lookup",hash:{},data:a,blockParams:i}),{name:"with",hash:{},fn:this.program(3,a,0,i,s),inverse:this.noop,data:a,blockParams:i}))?r:""},3:function(e,t,n,a,i,s){var r,o;return'            <div class="padding-top-medium" data-t="modal-multiple-choices-plan-'+this.escapeExpression(this.lambda(i[1][0],e))+'">\n                <label class="switch switch--card" '+(null!=(r=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:(r=a&&a.root)&&r.default_license_id,logic:"eq",value:i[1][0]},fn:this.program(4,a,0,i,s),inverse:this.noop,data:a,blockParams:i}))?r:"")+'>\n                    <div class="row">\n                        <div class="column on-medium-8 on-large-8 on-small-8">\n                            <input\n                                class="js-cce-multiple-choices-plan"\n                                type="radio" name="options"\n                                title="'+this.escapeExpression((o=null!=(o=t.user_facing_detail_panel_license_tab_label||(null!=e?e.user_facing_detail_panel_license_tab_label:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{name:"user_facing_detail_panel_license_tab_label",hash:{},data:a,blockParams:i}):o))+'"\n                                value="'+this.escapeExpression(this.lambda(i[1][0],e))+'"\n'+(null!=(r=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:(r=a&&a.root)&&r.default_license_id,logic:"eq",value:i[1][0]},fn:this.program(6,a,0,i,s),inverse:this.noop,data:a,blockParams:i}))?r:"")+"                            />\n                            <span>\n                                <strong>"+this.escapeExpression((o=null!=(o=t.user_facing_detail_panel_license_tab_label||(null!=e?e.user_facing_detail_panel_license_tab_label:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{name:"user_facing_detail_panel_license_tab_label",hash:{},data:a,blockParams:i}):o))+"</strong>\n                                <span>"+this.escapeExpression(this.lambda(null!=(r=null!=e?e.asset_details:e)?r.resolution:r,e))+'</span>\n                            </span>\n                            <div class="switch__content">\n'+(null!=(r=t.if.call(e,null!=e?e.license_price:e,{name:"if",hash:{},fn:this.program(8,a,0,i,s),inverse:this.noop,data:a,blockParams:i}))?r:"")+'                            </div>\n                        </div>\n                        <div class="column on-medium-4 on-large-4 on-small-4">\n                            <div class="margin-left-small">\n                                <img alt="'+this.escapeExpression(this.lambda(null!=s[2]?s[2].title:s[2],e))+'" src="'+this.escapeExpression(this.lambda(null!=s[2]?s[2].thumbnail_url:s[2],e))+'" class="responsive-img"/>\n                            </div>\n                        </div>\n                    </div>\n                </label>\n            </div>\n'},4:function(e,t,n,a){return'data-active="true"'},6:function(e,t,n,a){return'                                    checked="true"\n'},8:function(e,t,n,a){var i,s;return'                                    <p class="blue bleu-de-france-text text-medium font-semibold">\n                                        '+this.escapeExpression((s=null!=(s=t.license_price||(null!=e?e.license_price:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"license_price",hash:{},data:a}):s))+"\n                                    </p>\n"+(null!=(i=t.if.call(e,null!=e?e.facing_price:e,{name:"if",hash:{},fn:this.program(9,a,0),inverse:this.noop,data:a}))?i:"")},9:function(e,t,n,a){var i;return"                                        <p>\n                                            "+this.escapeExpression((i=null!=(i=t.facing_price||(null!=e?e.facing_price:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"facing_price",hash:{},data:a}):i))+"\n                                        </p>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a,i,s){var r;return null!=(r=t.with.call(e,null!=e?e.content:e,{name:"with",hash:{},fn:this.program(1,a,0,i,s),inverse:this.noop,data:a,blockParams:i}))?r:""},useData:!0,useDepths:!0,useBlockParams:!0})}),define("hbs!templates/modalWindow/planChoice",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i,s;return'    <div class="content-type-block">\n        <div class="content">\n            <span>'+this.escapeExpression((s=null!=(s=t.width||(null!=e?e.width:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"width",hash:{},data:a}):s))+"</span>&nbsp;x&nbsp;<span>"+this.escapeExpression((s=null!=(s=t.height||(null!=e?e.height:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"height",hash:{},data:a}):s))+"&nbsp;</span>"+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"FILE::px",{name:"_",hash:{},data:a}))+"\n        </div>\n\n"+(null!=(i=t.if.call(e,null!=e?e.has_quota:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.program(4,a,0),data:a}))?i:"")+'\n        <button class="rounded-button rounded-blue button-tall buy-button js-modal-window-multiple-choice-button\n'+(null!=(i=t.if.call(e,(i=a&&a.root)&&i.saved_comp,{name:"if",hash:{},fn:this.program(8,a,0),inverse:this.program(16,a,0),data:a}))?i:"")+'        " data-type-id="'+this.escapeExpression((s=null!=(s=t.license_id||(null!=e?e.license_id:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"license_id",hash:{},data:a}):s))+'">'+this.escapeExpression((s=null!=(s=t.button_label||(null!=e?e.button_label:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"button_label",hash:{},data:a}):s))+"</button>\n    </div>\n"},2:function(e,t,n,a){return'            <div class="content bold">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"PURCHASE::LICENSE::Free",{name:"_",hash:{},data:a}))+"</div>\n"},4:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.locale_price:e,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:""},5:function(e,t,n,a){var i,s;return'                <div class="content bold">\n                    '+this.escapeExpression((s=null!=(s=t.locale_price||(null!=e?e.locale_price:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"locale_price",hash:{},data:a}):s))+"\n                </div>\n"+(null!=(i=t.if.call(e,null!=e?e.facing_price:e,{name:"if",hash:{},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:"")},6:function(e,t,n,a){var i;return'                    <div class="content">\n                        ('+this.escapeExpression((i=null!=(i=t.facing_price||(null!=e?e.facing_price:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"facing_price",hash:{},data:a}):i))+")\n                    </div>\n"},8:function(e,t,n,a){var i;return null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"4K",logic:"eq",value:(i=a&&a.root)&&i.saved_comp},fn:this.program(9,a,0),inverse:this.program(12,a,0),data:a}))?i:""},9:function(e,t,n,a){var i;return null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"4",logic:"eq",value:null!=e?e.license_id:e},fn:this.program(10,a,0),inverse:this.noop,data:a}))?i:""},10:function(e,t,n,a){return"                        selected\n"},12:function(e,t,n,a){var i;return null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"HD",logic:"eq",value:(i=a&&a.root)&&i.saved_comp},
fn:this.program(13,a,0),inverse:this.noop,data:a}))?i:""},13:function(e,t,n,a){var i;return null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"3",logic:"eq",value:null!=e?e.license_id:e},fn:this.program(14,a,0),inverse:this.noop,data:a}))?i:""},14:function(e,t,n,a){return"                            selected\n"},16:function(e,t,n,a){var i;return null!=(i=(t["in-array"]||e&&e["in-array"]||t.helperMissing).call(e,{name:"in-array",hash:{array:(i=a&&a.root)&&i.licenseIds,value:null!=e?e.license_id:e},fn:this.program(17,a,0),inverse:this.noop,data:a}))?i:""},17:function(e,t,n,a){return"                    selected\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.each.call(e,null!=e?e.content:e,{name:"each",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:""},useData:!0})}),define("hbs!templates/modalWindow/saveChoice",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i,s;return'    <div class="content-type-block">\n        <div class="content">\n            <span>'+this.escapeExpression((s=null!=(s=t.width||(null!=e?e.width:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"width",hash:{},data:a}):s))+"</span>&nbsp;x&nbsp;<span>"+this.escapeExpression((s=null!=(s=t.height||(null!=e?e.height:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"height",hash:{},data:a}):s))+"&nbsp;</span>"+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"FILE::px",{name:"_",hash:{},data:a}))+'\n        </div>\n        <div class="content bold"></div>\n'+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"3",logic:"eq",value:null!=e?e.license_id:e},fn:this.program(2,a,0),inverse:this.program(4,a,0),data:a}))?i:"")+"    </div>\n"},2:function(e,t,n,a){var i;return'            <button class="rounded-button rounded-blue button-tall buy-button js-modal-window-multiple-choice-button" data-type-id="'+this.escapeExpression((i=null!=(i=t.license_id||(null!=e?e.license_id:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"license_id",hash:{},data:a}):i))+'">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"COMP::VIDEO::MODAL::Save HD",{name:"_",hash:{},data:a}))+"</button>\n"},4:function(e,t,n,a){var i;return'            <button class="rounded-button rounded-blue button-tall buy-button js-modal-window-multiple-choice-button selected" data-type-id="'+this.escapeExpression((i=null!=(i=t.license_id||(null!=e?e.license_id:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"license_id",hash:{},data:a}):i))+'">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"COMP::VIDEO::MODAL::Save 4K",{name:"_",hash:{},data:a}))+"</button>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.each.call(e,e,{name:"each",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:""},useData:!0})}),define("lib/librariesWidget",["jquery","i18n-config","page_config","lib/modal-window","lib/checkout","lib/analytics","lib/ajax","lib/utils","lib/member","lib/license","hbs!templates/modalWindow/ccePlanChoice","hbs!templates/modalWindow/planChoice","hbs!templates/modalWindow/saveChoice","i18n","lib/librariesStore"],function(e,t,n,a,i,s,r,o,l,c,u,d,p,h,f){"use strict";return{computeLibrariesData:function(e){return f.getLibraryById(e).then(function(e){var t={};return t.defaultLib=e||{id:"desktop",name:o.getSaveToDeviceI18nText()},t.libraryForBuying=t.defaultLib,t})},purchaseVideoMessage:function(e,n,s,r,o){var s=s;a.showPurchaseVideoMessage({subject:t.gettext("PURCHASE::VIDEO::MODAL::SUBJECT::Confirm Purchase"),question:s.message,cancel_button_label:t.gettext("MODAL::Cancel"),confirm_button_label:t.gettext("MODAL::Buy video")}).then(function(){if("STOCK_DEMAND"===s.orderInfo.fulfillment_method){var a={productKey:s.orderInfo.product_key,serviceCommitment:s.orderInfo.service_commitment,fulfillmentMethod:s.orderInfo.fulfillment_method,imageId:e,libraryId:n,action:"Save"};i.purchase(a).then(function(){r.resolve(),o()}).fail(function(){r.reject()})}else s.next().then(function(e){r.resolve(e),o()}).fail(function(e){var n,a,i=e.responseJSON;i&&(n=i.error,a=i.action),n||(n=t.gettext("API::LIBRARIES::We are experiencing technical difficulties. Please try again later.")),r.reject({error:n,action:a})});return r},function(e){o(e)})},modalMultipleChoices:function(i,s,o){var f,_,m,E,g,v,b,T=i,I=n.base_url+"/Order/Video/"+T,S="License"===s,y=S&&l.isDefaultEntitlementCCE(),A=[c.LICENSE_ID_STANDARD,c.LICENSE_ID_4K];if(o.representations&&o.representations[0]["adobestock#trackingdata"]&&o.representations[0]["video#data"]&&"not_purchased"==o.representations[0]["adobestock#trackingdata"].state&&(m=o.representations[0]["video#data"].resolution),o.is_video?(E=l.hasVideoQuota(),g=h.sprintf(t.gettext("PURCHASE::VIDEO::MODAL::SUBJECT::License the %sHD%s or %s4K%s version?"),"<strong>","</strong>","<strong>","</strong>"),v=h.sprintf(t.gettext("PURCHASE::VIDEO::MODAL::SUBJECT::Buy the %sHD%s or %s4K%s version?"),"<strong>","</strong>","<strong>","</strong>")):o.is_premium&&(E=l.hasStandardQuota(),g=h.sprintf(t.gettext("PURCHASE::IMAGE::MODAL::SUBJECT::License the %sLarge%s or %sSmall%s version?"),"<strong>","</strong>","<strong>","</strong>"),v=h.sprintf(t.gettext("PURCHASE::IMAGE::MODAL::SUBJECT::Buy the %sLarge%s or %sSmall%s version?"),"<strong>","</strong>","<strong>","</strong>")),S?f=E?g:v:"Save"===s&&(f=h.sprintf(t.gettext("COMP::VIDEO::MODAL::SUBJECT::Save the %sHD%s or %s4K%s version?"),"<strong>","</strong>","<strong>","</strong>"),_=t.gettext("COMP::VIDEO::MODAL::SUBTEXT::You can license either version later"),I+="?watermarked=1"),y)return a.show("cceMultipleChoices",o),b=c.getLicenseIdByLicenseAbbr(m),void e("#js-container-multiple-choices").html(u({content:o,default_license_id:b||c.getContentDefaultLicenseId(o,A)}));a.show("multipleChoices",{subject:f,subtext:_}),r.get(I).then(function(t){S?e("#js-container-multiple-choices").html(d({content:t,saved_comp:m,licenseIds:A})):"Save"===s&&e("#js-container-multiple-choices").html(p(t))},function(n){e("#js-container-multiple-choices").html(t.gettext("MODAL::MULTIPLE::CHOICES::ERROR::There is an error, please try again later."))})},switchVideoFormat:function(t,n,a){e("#library-items-wrapper").length>0&&"Save"===a&&4==n&&(t.find(".video_4k").removeClass("hidden"),t.find(".video_hd").addClass("hidden"))},modalExtended:function(e,n,i){a.show("extendedConfirmation",{question:h.sprintf(t.gettext("PURCHASE::IMAGE::MODAL::Purchase an extended license for %s?"),i.extended_license_price)})}}}),define("lib/assetSave",["jquery","lodash","app/actions/checkoutActions","app/client","app/constants/localStorage","app/stock-portal","lib/assetsStore","lib/librariesStore","lib/librariesWidget","lib/utils","lib/contentDetails","page_config","app/utils/search"],function(e,t,n,a,i,s,r,o,l,c,u,d,p){"use strict";function h(){var t=e("#memberDefaultLibraryId").val();return l.computeLibrariesData(t)}function f(){return h().then(function(e){return{defaultLibraryId:t.get(e,"defaultLib.id"),defaultLibraryUrn:t.get(e,"defaultLib.libraryUrn"),defaultLibName:t.get(e,"defaultLib.name"),defaultLibraryOrgId:t.get(e,"defaultLib.orgId"),defaultLibraryRepository:t.get(e,"defaultLib.repository")}})}function _(n,a){var l,c,d,p,h,f=n.content_id||null,_=n.license_bookmark||void 0;return g.getDefaultLibData().then(function(e){return l=t.get(e,"defaultLibraryId"),c=t.get(e,"defaultLibraryUrn"),d=t.get(e,"defaultLibName"),p=t.get(e,"defaultLibraryOrgId"),h=t.get(e,"defaultLibraryRepository"),r.getAsset(f,r.ASSET_DETAIL.BASIC)}).then(function(t){return l&&"desktop"!==l?e.Deferred().resolve(t):o.getLibraries(!0,{page:1}).then(function(e){var t=e.libraries;l=t[0]&&t[0].id,c=t[0]&&t[0].libraryUrn,d=t[0]&&t[0].name,p=t[0]&&t[0].orgId,h=t[0]&&t[0].repository}).then(function(){return t})}).then(function(t){var n=c||l,r=t.content_id;o.getLibraryById(n).then(function(o){return o&&!o.readOnly||(n=void 0,d=void 0,p=void 0,h=void 0),s.initLibrariesToast({assetId:parseInt(r),isLicensed:u.isLicensed(f),thumbnailAlt:t.title,thumbnailSrc:t.thumbnail_url,defaultLibraryId:n,libName:d,defaultLibraryOrgId:p,defaultLibraryRepository:h,callToAction:a}),"false"===localStorage.getItem(i.LIBRARY_TOAST_AUTO_SAVE_KEY)&&"License"===a?(s.assetLicensedOnly(),e.Deferred().resolve()):n&&d?g.saveAssetToExistingLibrary(null,n,d,p,h,t.content_id,_):e.Deferred().resolve()})})}function m(e,t,n,a,i,l,c){var u;return r.getAsset(l,r.ASSET_DETAIL.BASIC).then(function(r){return s.saveToLibraryLoadingStart(n),o.addLibraryElement(t,r,void 0,"sync",c).done(function(e){u=Array.isArray(e.elements)?e.elements[0].id:e.id,s.saveToLibrarySuccess({destLibId:t,destLibName:n,destOrgId:a,destRepository:i,destLibraryElementId:u}),s.saveToLibraryLoadingStop()}).fail(function(t){s.saveToLibraryFailure(t),p.showSaveToLibraryFailureAlert(e,n)})})}function E(t,n,a){var t,i=e.Deferred();return r.getAsset(n,r.ASSET_DETAIL.BASIC).then(function(e){return e.downloaded?i.resolve():o.updateLibraryElement(t,e,a)})}a.getInstance();e(window).on("portal:saveToLibrary",m);var g={getDefaultLibData:f,saveToDefaultLib:_,saveAssetToExistingLibrary:m,_getLibrariesData:h,updateAssetInExistingLibrary:E};return g}),define("app/constants/download",[],function(){"use strict";return{IFRAME_DOWNLOAD_ID:"downloadTarget"}}),define("quickerCheckout/adobestock/handlers",["jquery","lodash","page_config","lib/member","lib/utils","lib/librariesStore","lib/assetsStore","lib/assetSave","lib/uiEvents","lib/susi","lib/librariesV2","app/actions/detailsActions","app/actions/memberActions","app/client","app/stock-portal","app/constants/download","app/constants/localStorage","components/vectorDownloadSettings"],function(e,t,n,a,i,s,r,o,l,c,u,d,p,h,f,_,m,E){"use strict";function g(n,a,r){var l=n.content_id;if(r||a&&"desktop"!==a){var c=e.Deferred();return r?s.getLibraryIdForOpenIn(l).then(function(e){c.resolve(e)}):(a&&c.resolve(a),c.then(function(e){return I(e,n,r)}))}if(i.shouldGoToOneClickLicenseSave(n.asset_type))return o.saveToDefaultLib({content_id:l},"License");var u=t.get(S.getState(),"page.saveToLibId")||e("#memberDefaultLibraryId").val();return u?I(u,n,""):e.Deferred().resolve()}function v(e){var o,h=t.get(e,"member.is_newly_created"),_=e.libraryId,m=e.imsProfile,E=t.get(e,"member.email"),v=t.get(e,"asset.content_id"),b=e.licenseId,T=e.asset,I=e.appOpenInCode;a.setStockProfile(e.member),o=a.getResolvedStockProfile(),h&&(c.zombieLogin(o,m),u.refreshAccessToken(),f.userSignedIn(a.fetchAccessToken()),S.dispatch(p.memberLoggedIn(o,m)),l.trigger(l.NOTIFICATION_SHOW,E)),T&&(r.setAssetDownloadedInCache(v,b),r.getAsset(v,r.ASSET_DETAIL.BASIC).then(function(e){g(e,_,I).then(function(){(e.is_audio&&n.isAudioSaveEnabled||!e.is_audio)&&s.updateElementInAllLibraries(e),h||s.getLibraryById(_).then(function(e){l.trigger(l.DETAIL_BUTTON.UPDATE_STATE,{action:"License",lib_name:"desktop"===_?i.getSaveToDeviceI18nText():e&&e.name,lib_id:_,contentId:""+v,isDownloaded:!0})})})}),S.dispatch(d.contentLicensed(v,b)),l.trigger(l.ASSET_LICENSED,{contentId:v})),e.creditPackInfo&&e.creditPackInfo.remain_label&&a.updateCreditPackQuota(e.creditPackInfo.available_credits),o&&o.default_entitlement&&o.default_entitlement.id&&(S.dispatch(p.memberUpdatedEntitlement(o)),l.trigger(l.ENTITLEMENT_UPDATED))}function b(e){var a=e.asset.download_url,i=t.get(e,"asset.content_id"),s=t.get(e,"asset.is_vector"),o=e.licenseId;s&&(n.isPhoenixEnabled||!e.appOpenInCode&&"desktop"===e.libraryId)&&(a=E.getVectorDownloadUrl(window.localStorage.getItem(m.VECTOR_DOWNLOAD_CHOICE_KEY),a)),r.setAssetDownloadedInCache(i,o),document.getElementById(_.IFRAME_DOWNLOAD_ID).src=a}function T(e){I(e.libraryId,e.asset,"")}function I(e,t,n){return s.addLibraryElement(e,t,n).then(function(){return s.updateElementInAllLibraries(t)})}var S=h.getInstance();return{onFinishPurchase:v,onDownloadAsset:b,onAddAssetToLibrary:T}}),define("lib/assetDownloader",["app/constants/download","app/constants/localStorage","components/vectorDownloadSettings","lib/ajax","lib/modal-window","lib/utils","page_config"],function(e,t,n,a,i,s,r){"use strict";function o(a,o,l){var c;if(!r.disable_purchased_image_download){if(s.isMobile()&&"wav"!==o)return i.show("saveToDevice",{asset_link:a,asset_format:o});if(n.shouldShowVectorDownloadChoiceModal(l))return i.show("vectorDownloadChoice",{}).then(function(t){document.getElementById(e.IFRAME_DOWNLOAD_ID).src=n.getVectorDownloadUrl(t,a)});l&&(c=window.localStorage&&window.localStorage.getItem(t.VECTOR_DOWNLOAD_CHOICE_KEY),a=n.getVectorDownloadUrl(c,a)),document.getElementById(e.IFRAME_DOWNLOAD_ID).src=a}}function l(e,t){return a.post(s.computeDownloadUrl(e,t)).then(function(e){return o(e.download_url,e.format,e.is_vector)})}return{triggerOrPromptDownload:o,getDownloadUrlAndTriggerOrPromptDownload:l}}),define("app/utils/librariesToast",["app/constants/localStorage"],function(e){"use strict";function t(){var t=window&&window.localStorage;return t&&"false"!==t.getItem(e.LIBRARY_TOAST_AUTO_SAVE_KEY)}function n(){var t=window&&window.localStorage;return t&&"false"!==t.getItem(e.LIBRARY_TOAST_AUTO_DOWNLOAD_KEY)}function a(){var e=!1;return n()||(e=!0),e}return{isAutoSaveEnabled:t,isAutoDownloadEnabled:n,isLicenseAndDownloadDisabled:a}}),define("hbs!templates/components/commentsModule/commentItem",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return" comment-item--editable"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div class="comment-item'+(null!=(i=t.if.call(e,null!=e?e.editable:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+' white grey gravel-text padding-small margin-bottom-small left-align border-top-1 border-solid nurse-border">\n    <form>\n        <div class="comment-item__header padding-left-small padding-right-small">\n            <span class="js-comment-author text-sregular font-bold" '+this.escapeExpression((t["data-t"]||e&&e["data-t"]||t.helperMissing).call(e,"comment-author",null!=e?e.id:e,{name:"data-t",hash:{},data:a}))+">"+this.escapeExpression((s=null!=(s=t.authorDisplayName||(null!=e?e.authorDisplayName:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"authorDisplayName",hash:{},data:a}):s))+'</span>\n            <div class="js-comment-header-actions comment-item__actions right">\n                <button class="js-comment-delete-btn" '+this.escapeExpression((t["data-t"]||e&&e["data-t"]||t.helperMissing).call(e,"comment-delete-button",null!=e?e.id:e,{name:"data-t",hash:{},data:a}))+'>\n                    <i class="mti-icon icon-delete"></i>\n                </button>\n                <button class="js-comment-edit-btn" '+this.escapeExpression((t["data-t"]||e&&e["data-t"]||t.helperMissing).call(e,"comment-edit-button",null!=e?e.id:e,{name:"data-t",hash:{},data:a}))+'>\n                    <i class="mti-icon icon-edit"></i>\n                </button>\n            </div>\n        </div>\n        <div class="comment-item__body">\n            <div class="js-comment-body comment-item__preview text-sregular padding-small" data-is-hidden="false" '+this.escapeExpression((t["data-t"]||e&&e["data-t"]||t.helperMissing).call(e,"comment-message",null!=e?e.id:e,{name:"data-t",hash:{},data:a}))+">"+this.escapeExpression((s=null!=(s=t.comment||(null!=e?e.comment:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"comment",hash:{},data:a}):s))+'</div>\n            <textarea class="js-textarea comment-item__textarea overflow-hidden container-full margin-top-xsmall" disabled maxlength="250" data-is-hidden="true">'+this.escapeExpression((s=null!=(s=t.comment||(null!=e?e.comment:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"comment",hash:{},data:a}):s))+'</textarea>\n        </div>\n        <div class="comment-item__footer padding-left-small padding-right-small">\n            <div class="row">\n                <div class="column on-small-12">\n                    <span class="js-comment-date comment-item__date grey mountain-mist-text text-small" data-is-hidden="false" '+this.escapeExpression((t["data-t"]||e&&e["data-t"]||t.helperMissing).call(e,"comment-date",null!=e?e.id:e,{name:"data-t",hash:{},data:a}))+">"+this.escapeExpression((s=null!=(s=t.createdAt||(null!=e?e.createdAt:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"createdAt",hash:{},data:a}):s))+'</span>\n                </div>\n                <div class="js-comment-footer-actions comment-item__actions column on-small-12 right-align" data-is-hidden="true">\n                    <button class="js-comment-cancel-btn button text-sregular" '+this.escapeExpression((t["data-t"]||e&&e["data-t"]||t.helperMissing).call(e,"comment-cancel-button",null!=e?e.id:e,{name:"data-t",hash:{},data:a}))+">\n                        <span "+this.escapeExpression((t["data-t"]||e&&e["data-t"]||t.helperMissing).call(e,"comment-cancel-button-label",null!=e?e.id:e,{name:"data-t",hash:{},data:a}))+">"+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"FILE::ACTION::Cancel",{name:"_",hash:{},data:a}))+'</span>\n                    </button>\n                    <button class="js-comment-save-btn button button--action text-sregular" disabled '+this.escapeExpression((t["data-t"]||e&&e["data-t"]||t.helperMissing).call(e,"comment-save-button",null!=e?e.id:e,{name:"data-t",hash:{},data:a}))+'>\n                        <i class="mti-icon"></i>\n                        <span class="margin-right-xsmall" '+this.escapeExpression((t["data-t"]||e&&e["data-t"]||t.helperMissing).call(e,"comment-save-button-label",null!=e?e.id:e,{name:"data-t",hash:{},data:a}))+">"+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"FILE::ACTION::Save changes",{name:"_",hash:{},data:a}))+"</span>\n                    </button>\n                </div>\n            </div>\n        </div>\n    </form>\n</div>\n"},useData:!0})}),define("hbs!templates/components/commentsModule/commentsWidget",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'                    <label class="switch" data-t="comments-notify-checkbox">\n                        <input class="js-comment-notify" type="checkbox" name="notify"'+(null!=(i=t.if.call(e,null!=e?e.checked:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.noop,data:a}))?i:"")+'value="true" />\n                        <span data-t="comments-notify-checkbox-label">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"COMMENT::ACTION::Notify",{name:"_",hash:{},data:a}))+"</span>\n                    </label>\n"},2:function(e,t,n,a){return' checked="checked"'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="comments-widget">\n    <div class="js-comments-list comments-widget__list padding-left-medium padding-right-medium overflow-auto"></div>\n    <div class="comments-widget__actions padding-top-small padding-left-medium padding-right-medium">\n        <form>\n            <input class="js-new-comment-input input--full" type="text" name="body" placeholder="'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"COMMENT::ACTION::Add comment",{name:"_",hash:{},data:a}))+'" maxlength="250" data-t="comments-input"/>\n            <div class="right-align padding-top-small">\n'+(null!=(i=t.with.call(e,null!=e?e.notifyCheckbox:e,{name:"with",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'                <button class="js-comment-post-btn button button--primary margin-left-medium" disabled data-t="comments-post-button">\n                    <i class="mti-icon"></i>\n                    <span class="margin-right-xsmall" data-t="comments-post-button-label">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"COMMENT::ACTION::Post",{name:"_",hash:{},data:a}))+"</span>\n                </button>\n            </div>\n        </form>\n    </div>\n</div>\n"},useData:!0})}),define("lib/commentsModule",["jquery","hbs!templates/components/commentsModule/commentItem","hbs!templates/components/commentsModule/commentsWidget","lib/utils","lib/member"],function(e,t,n,a,i){"use strict";function s(e){setTimeout(function(){e.css({height:"auto"}).css({height:e.prop("scrollHeight")})},0)}function r(){return e.Deferred().resolve({})}function o(t){return!e.isEmptyObject(t)&&t.id&&t.authorDisplayName&&t.comment&&t.createdAt}function l(t){var t=e.isEmptyObject(t)?{}:t;return{post:e.isFunction(t.post)?t.post:r,update:e.isFunction(t.update)?t.update:r,delete:e.isFunction(t.delete)?t.delete:r}}function c(e,t){var e=e||{};return{id:e.id||t.id,authorDisplayName:e.authorDisplayName||i.getUsername(),comment:e.comment||t.comment,createdAt:e.createdAt||a.getCurrentDateFormatted(),editable:e.hasOwnProperty("editable")?e.editable:t.editable}}function u(n,i,r,l){var n=e.isEmptyObject(n)?{}:n,u=e(t(n)),d=u.find(".js-textarea"),p=u.find(".js-comment-body"),h=u.find(".js-comment-date"),f=u.find(".js-comment-header-actions"),_=u.find(".js-comment-footer-actions"),m=u.find(".js-comment-save-btn"),E=u.find(".js-comment-cancel-btn"),g=function(e){e?E.hide():E.show(),a.toggleAttribute(d,"disabled",e),a.toggleAttribute(m,"data-is-loading",e),a.toggleAttribute(m,"disabled",e)},v=function(e){a.toggleClassName(u,"nurse in-edit-mode",e),a.toggleAttribute(p,"data-is-hidden",e),a.toggleAttribute(f,"data-is-hidden",e),a.toggleAttribute(h,"data-is-hidden",e),a.toggleClassName(u,"comment-item--editable",!e),a.toggleAttribute(_,"data-is-hidden",!e),a.toggleAttribute(d,"data-is-hidden",!e),a.toggleAttribute(d,"disabled",!e),a.toggleAttribute(m,"disabled",!0),e?d.focus():d.blur()},b=function(e){n=e,d.val(e.comment),p.text(e.comment),h.text(e.createdAt),g(!1),v(!1),i._commentWasUpdated(e)};return d.on("keyup",function(){var t=e(this).val().trim();a.toggleAttribute(m,"disabled",!t||n.comment==t)}).on("keyup focus blur",function(){s(d)}),u.find("form").on("submit",function(e){e.preventDefault()}),u.find(".js-comment-edit-btn").on("click",function(){n.editable&&(v(!0),i._scrollToBottom())}),u.find(".js-comment-delete-btn").on("click",function(){n.editable&&(u.addClass("disabled"),e.when(r.delete(n)).then(function(){u.remove(),i._commentWasDeleted(n.id)}).always(function(){u.removeClass("disabled")}))}),E.on("click",function(){d.val(n.comment),v(!1)}),m.on("click",function(){var t;n.editable&&(t={id:n.id,comment:d.val().trim(),editable:n.editable},g(!0),e.when(r.update(t)).then(function(e){(l||o(e))&&b(c(e,t))}).always(function(){g(!1)}))}),u}function d(t,i,s){var r,i=e.isEmptyObject(i)?{}:i,s=l(s),d=[],_=e(n(i)),m=_.find(".js-comments-list"),E=_.find(".js-comment-notify"),g=_.find(".js-comment-post-btn"),v=_.find(".js-new-comment-input"),b=function(e){a.toggleAttribute(v,"disabled",e),a.toggleAttribute(E,"disabled",e),a.toggleAttribute(g,"disabled",!0),a.toggleAttribute(g,"data-is-loading",e)},T=function(){return{notify:!(!E||!E.prop("checked")),comments:d}},I=function(){setTimeout(function(){m.animate({scrollTop:m.prop("scrollHeight")},h)},f)},S=function(e){var t=-1;d.forEach(function(n,a){n.id===e&&(t=a)}),t>-1&&d.splice(t,1),a.toggleClassName(m,p,m.children().length),r&&r(T())},y=function(e){d.forEach(function(t,n){t.id===e.id&&(d[n]=e)})},A=function(e){var t,n,a;(i.draftMode||o(e))&&(n=d[d.length-1],a=n&&n.id,t=c(e,{id:(a||0)+1,comment:v.val(),editable:i.draftMode}),m.append(new u(t,{_commentWasUpdated:y,_commentWasDeleted:S,_scrollToBottom:I},s,i.draftMode)),m.addClass(p),d.push(t),r&&r(T()),I())};return i.draftMode=!i.hasOwnProperty("draftMode")||i.draftMode,v.on("keyup",function(){a.toggleAttribute(g,"disabled",!e(this).val().trim())}),_.find("form").on("submit",function(t){var n=v.val().trim();if(t.preventDefault(),!n)return void a.toggleAttribute(g,"disabled",!0);b(!0),e.when(s.post({notify:E&&E.prop("checked"),comment:n})).then(function(e){A(e)}).always(function(){v.val(""),b(!1)})}),e.isArray(i.comments)&&i.comments.forEach(function(e){A(e)}),t.append(_),{getData:T,onDataChanged:function(t){e.isFunction(t)&&(r=t)},scrollToBottom:I}}var p="border-bottom-1 border-bottom-solid bon-jour-border",h=350,f=100;return d}),define("lib/licenseHistoryConstants",[],function(){"use strict";return{TAB_PURCHASES:"tab-purchases",TAB_USERS:"tab-users",TAB_GROUPS:"tab-groups",TAB_LICENSE_RECORDS:"tab-license-records",TAB_QUOTES:"tab-quotes",TAB_LICENSE_REQUESTS_RECEIVED:"tab-license-requests-received",TAB_LICENSE_REQUESTS_SENT:"tab-license-requests-sent",isTablLicenseRequests:function(e){return"tab-license-requests-received"===e||"tab-license-requests-sent"===e},QUOTES:{ACTIONS:{DOWNLOAD:"download-quote"},STATUS:{PENDING:0,ACTIVE:1}},LICENSE_REQUESTS:{ACTIONS:{APPROVE:"approve",EDIT:"edit",DELETE:"delete",REFUSE:"refuse"},STATUS:{PENDING:"pending",DRAFT:"draft",REFUSED:"refused",ACCEPTED:"approved"}},LOAD_TAB_PURCHASES:"load-tab-purchases",BUTTON_LICENSE_ACTION_ID:"cart",ROUTES:{QUOTES:"/Member/EnterpriseReport?current_tab=tab-quotes",LICENSE_RECORDS:"/Member/EnterpriseReport?current_tab=tab-license-records"},getMockedRequestsModalData:function(e){return{are_assets_purchasable:!0,can_license_transfer:!0,quotas_data_by_license_type_id:{43:{quota:363,label_type:"credits"}},currency_data_by_license_type_id:{43:{currency_value:10,currency_type:1}},taxes:{included:!0,rate:5.1},license_references:{mandatory_references:{1:"Project Name"},optional_references:{7:"ISBN"}},approvers:[{guid:"111@AdobeId",displayName:"Lewis Carroll"},{guid:"222@AdobeId",displayName:"Frank Lloyd Wright"},{guid:"333@AdobeId",displayName:"Francis Bacon"}],comments:[{id:"123e4567-e89b-12d3-a456-426655440000",authorDisplayName:"Rick",comment:"Lorem ipsum dolor sit amet, consectetur adipiscing elit.",createdAt:"15/07/2018"}],license_requests:[{id:169434290,url:"https://t3.ftcdn.net/jpg/01/69/43/42/240_F_169434290_CLuI3BJQcsggPLSf9CLcSQFhgmFEgcIj.jpg"},{id:169434290,url:"https://t3.ftcdn.net/jpg/01/69/43/42/240_F_169434290_CLuI3BJQcsggPLSf9CLcSQFhgmFEgcIj.jpg"},{id:169434293,url:"https://t3.ftcdn.net/jpg/01/69/43/42/240_F_169434291_JuNjK29eWbQQsdkL8YIktvR9xm1Xav8j.jpg"},{id:169434292,url:"https://t3.ftcdn.net/jpg/01/69/43/42/240_F_169434292_UwiIX7XUNqoZCmgh1yw5ZvmETX3oVs2p.jpg"},{id:169434291,url:"https://t3.ftcdn.net/jpg/01/69/43/42/240_F_169434273_hynWhmPxSAwod8jbtd5WaIZHbbsMV4d3.jpg"}].map(function(e){return{id:e.id+"_guid",approvers:function(){var e;if(e=Math.floor(4*Math.random()))return[111*e+"@AdobeId"]}(),license_references:169434291!=e.id&&{1:"1234".split("").sort(function(){return.5-Math.random()}).join(""),7:"same ISBN value"},comments:[{id:"123e4567-e89b-12d3-a456-426655440000",authorDisplayName:"Rick",comment:"Lorem ipsum dolor sit amet, consectetur adipiscing elit.",createdAt:"15/07/2018"}],content_id:e.id,content_thumb_url:e.url,is_allowed_and_purchasable:!0,possible_licenses:[1,2],license_details:{1:{license_price:"1 Credit",facing_price:"$10.00",license_type_id:43,user_facing_license_type_label:"Standard License",is_included_in_current_plan:!0,quota:1,asset_details:"Standard Image"},2:{license_price:"2 Credits",facing_price:"$20.00",license_type_id:43,user_facing_license_type_label:"Extended License",is_included_in_current_plan:!1,quota:2,asset_details:"Extended Image"}}}})}}}}),define("lib/licenseRequestModal",["jquery","i18n","i18n-config","page_config","lib/ajax","lib/licenseHistoryConstants"],function(e,t,n,a,i,s){"use strict";function r(){var e,t,n={},a=I.mandatory_references||{},i=I.optional_references||{};for(e in a)n[e]=[];for(e in i)n[e]=[];return y.map(function(t){for(e in I.mandatory_references)S[t].requires_references_info=!S[t].license_references[e];return S[t].license_references}).forEach(function(a){for(e in n)t=a[e]||"",n[e].indexOf(t)<0&&n[e].push(t)}),n}function o(){var e,t,n,a={client_name:[],notes:[]},i=!1;return y.forEach(function(s){n=S[s].license_transfer||null,e="",t="",n&&(e=S[s].license_transfer.client_name||"",t=S[s].license_transfer.notes||"",S[s].requires_transfer_info=!e,i=!0),a.client_name.indexOf(e)<0&&a.client_name.push(e),a.notes.indexOf(t)<0&&a.notes.push(t)}),i?a:null}function l(e){var e=e||{},t=y.length?y:Object.keys(e),n=t.map(function(t){return e[t]&&e[t].approvers||[]}),a=n.reduce(function(e,t){return e.filter(function(e){return t.indexOf(e)>=0})},n[0]||[]),i=n.reduce(function(e,t){return e.concat(t)},[]).filter(function(e,t,n){return n.indexOf(e)===t&&a.indexOf(e)<0});return{common:a,indeterminate:i}}function c(e){var t;for(t in S)e.find('.js-modal-asset-request-info-status[data-rel="'+t+'"] i').removeClass("red lust-text green apple-text").addClass(h(t)?"green apple-text":"red lust-text")}function u(e,t){e.find(".js-edit-all-disclaimer").attr("data-is-hidden",1===t)}function d(t,n){var s={data:{draftMode:t,notifyCheckbox:!1,comments:n||[]},actions:null};return t?s:(s.actions={post:function(t){var n=[],s=e.Deferred();return y.forEach(function(e){n.push({id:e,comment:t.comment})}),i.post(a.base_url+"/Ajax/license-requests/comments/create",{comments:n}).then(function(t){e.isArray(t)?s.resolve(t[0]):s.reject()}).fail(function(){s.reject()}),s.promise()}},s)}function p(e,t){var n=l(t),e=e||[];return e.map(function(e){return{id:e.guid,value:e.displayName,selected:n.common.indexOf(e.guid)>=0,indeterminate:n.indeterminate.indexOf(e.guid)>=0}})}function h(e){return!(S[e].requires_approvers_info||S[e].requires_references_info||S[e].requires_transfer_info)}function f(){var e,t=!0;for(e in S)if(!S[e].is_removed&&!h(e)){t=!1;break}return t}function _(t){var n=!1;if(!e.isEmptyObject(t))for(var a in t)if(t[a].length>1){n=!0;break}return n}function m(e,a){var i=b;a>0&&(i=t.sprintf(n.ngettext("LIBRARY::ACTION::%s item selected","LIBRARY::ACTION::%s items selected",a),a)),e.find(".js-modal-bulk-selection-all-checkbox-label").text(i)}var E={default:n.gettext("FORM::INPUT::Type here"),missMatchedValues:n.gettext("FORM::INPUT::Values entered do not match")},g={missMatchedValues:n.gettext("LICENSE::REQUEST::Values entered for selected assets do not match:")},v={missMatchedValues:n.gettext("LICENSE::REQUEST::References entered for selected assets do not match:")},b=n.gettext("LIBRARY::ACTION::Select all assets"),T=null,I={},S=[],y=[];return{init:function(t,n,a,i,s,l){y=[],S=t.license_requests,I=t.license_references||{},T=null,n.find(".js-modal-table-asset-row").addClass("cursor-pointer"),n.on("click",".js-modal-table-asset-row",function(t){var n=e(t.target),i=null;n.is("input")||!(i=n.attr("data-select")||n.parent().attr("data-select")||n.parent().parent().attr("data-select"))||1===y.length&&y[0]===i||a.selectOnlyOneItemById(i)});var d=function(e){var t;if(y=Object.keys(e||{}),!(t=y.length))for(var a in S)S[a].is_removed||y.push(a);m(n,t),s&&s.setTransferData(o(),E,g),i&&i.setReferences(r(),E,v),l&&(y.forEach(function(e){S[e].requires_approvers_info=!S[e].approvers||0==S[e].approvers.length}),l.setListData(p(T,S),!0)),u(n,y.length),c(n)};a&&a.onDataChanged(d),i&&i.onDataChanged(function(e){y.forEach(function(t){var n;S[t].license_references=e;for(n in I.mandatory_references)S[t].requires_references_info=!e[n]}),c(n)}),s&&s.onDataChanged(function(e,t){y.forEach(function(n){t?(S[n].license_transfer=e,S[n].requires_transfer_info=!e.client_name):(S[n].license_transfer=null,S[n].requires_transfer_info=!1)}),c(n)}),l&&(T=t.approvers,l.onDataChanged(function(e){y.forEach(function(t){S[t].approvers=e,S[t].requires_approvers_info=0==e.length}),c(n)})),d()},isFulfilled:function(){var e=!1,t=r(),n=o(),a=l(S);return _(t)||_(n)||T&&!(a.common.length>0)||!f()||(e=!0),e},getFormData:function(e){var t,n=[];return y.forEach(function(a){t=S[a],t.is_allowed_and_purchasable&&!t.is_removed&&(e==s.LICENSE_REQUESTS.ACTIONS.APPROVE?n.push({id:t.id,licenseId:t.default_license_id,references:t.license_references||null,licenseTransfer:t.license_transfer?{clientName:t.license_transfer.client_name,notes:t.license_transfer.notes}:null}):n.push({id:t.id,approvers:t.approvers,references:t.license_references||null,asset:{id:t.content_id,licenseId:t.default_license_id}}))}),n},formatApproversData:p,
buildCommentsObjectForModal:d,isItemDataFulFilled:h}}),define("lib/selectAllComponent",["jquery","lib/utils"],function(e,t){"use strict";function n(n,r){function o(n){var a=t.isObject(n);r.find(I).each(function(){var t=e(this),i=e(S,t),s=null;i.length&&!i.attr("disabled")&&(a?(s=void 0!==n[i.val()],E&&(s=!s)):s=n,s?t.addClass(y):t.removeClass(y),i.prop("checked",s))})}function l(){m.forEach(function(e){e(f,E)},this)}function c(){var e=a,t=0;if(E)return i;for(var n in _)t+=1,void 0!==f[n]&&(e+=1);return t&&(e/=t),e!==a&&e!==i&&(e=s),e}function u(){var e=c();r.find(T).prop("checked",e===i||e===s),r.find(T).prop("indeterminate",e===s)}function d(t){var n;v>=g||!A||(n=Object.keys(f).length,E!=t?(O=e(A({select:t,total_escaped:parseInt(g,10),total_selected:n})),O.on("click",function(){E=!E,f={},l(),o(E),r.find(T).prop("indeterminate",!1),r.find(T).prop("checked",E),O=null,e(this).hide()}),R.html(O).show()):R.hide())}function p(e){_[e]&&(f[e]=_[e])}function h(){f={},E=!1,R.hide().html(null),r.find(T).prop("checked",!1),r.find(T).prop("indeterminate",!1)}var r=r instanceof e?r:e("body"),f={},_={},m=[],E=!1,g=0,v=0,n=n||{},b=n.dataModel||{},T=n.toggleAllSelector,I=n.elementSelector,S=n.elementCheckboxSelector,y=n.classNameSelected||"is-selected",A=n.selectAllMessageTemplate,O=null,R=e(n.messageWrapperSelector);this.reset=function(){h(),o(!1),l()},this.getData=function(){return f},this.isGlobalSelected=function(){return E},this.onDataChanged=function(e){t.isFunction(e)&&m.push(e)},this.newCurrentDataSet=function(e){_={},R.hide(),t.isObject(e)&&(_=e),o(f),u()},this.setSelectAllMessageData=function(e){g=e.total,(v=e.perPage)&&r.find(T).prop("disabled",!g)},this.setSelectAllMessageData({total:R.data("total-rows"),perPage:R.data("rows-per-page")}),this.disableItem=function(e){r.find(S+'[value="'+e+'"]').attr("disabled",!0).prop("checked",!1).trigger("change").parent().removeClass(y)},this.enableItem=function(e){r.find(S+'[value="'+e+'"]').removeAttr("disabled")},this.selectOnlyOneItemById=function(e){r.find(S+'[value="'+e+'"]').attr("disabled")||(h(),r.find(T).prop("indeterminate",!0),p(e),o(f),l())},r.find(S).each(function(){_[this.value]={};for(var e in b)_[this.value][e]=this.getAttribute(b[e])}),r.on("change",T,function(e){var t=this.checked,n=t;o(t),E&&(n=!t);for(var a in _)n&&!r.find(S+'[value="'+a+'"]').attr("disabled")?f[a]=E||_[a]:delete f[a];l(),d(t)}),r.on("change",S,function(t){var n=e(this),a=n.val(),i=n.closest(I);this.checked?(E||p(a),i.addClass(y)):(E?p(a):delete f[a],i.removeClass(y)),O&&(O.hide(),O=null),l(),u()})}var a=0,i=1,s=2;return n}),define("hbs!templates/components/bulkSelectionModal/multipleSelectFormComponent",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return" disabled"},3:function(e,t,n,a){return'            <i class="select-component-button-icon js-select-component-button-icon mti-icon mti-large icon-arrow-down mti-icon--suffix to-the-right margin-right-xsmall"></i>\n'},5:function(e,t,n,a){var i,s;return'            <li class="select-component-list-item js-select-component-list-item padding-bottom-small">\n                <label class="cursor-pointer truncate" data-t="drop-down-option-label">\n                    <input class="js-select-component-list-checkbox"'+(null!=(i=t.if.call(e,(i=a&&a.root)&&i.isSingleMandatoryOption,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+" data-index="+this.escapeExpression((s=null!=(s=t.index||a&&a.index)?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"index",hash:{},data:a}):s))+' data-t="drop-down-option-checkbox" type="checkbox"'+(null!=(i=(t["if-or"]||e&&e["if-or"]||t.helperMissing).call(e,null!=e?e.selected:e,(i=a&&a.root)&&i.isSingleMandatoryOption,{name:"if-or",hash:{},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:"")+'>\n                    <span class="select-component-list-label padding-left-small text-sregular'+(null!=(i=t.if.call(e,null!=e?e.selected:e,{name:"if",hash:{},fn:this.program(8,a,0),inverse:this.noop,data:a}))?i:"")+'" data-t="drop-down-option-text">'+this.escapeExpression(this.lambda(null!=e?e.value:e,e))+"</span>\n                </label>\n            </li>\n"},6:function(e,t,n,a){return' checked="checked"'},8:function(e,t,n,a){return" blue bleu-de-france-text"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div class="multiple-select-component-container js-multiple-select-component-container container-relative margin-right-xsmall">\n    <button type="button" class="select-component-button js-select-component-button border-1 border-radius-4 container-full padding-left-small padding-top-xsmall padding-bottom-xsmall padding-right-large left-align truncate text-sregular"'+(null!=(i=t.if.call(e,null!=e?e.isSingleMandatoryOption:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'>\n        <span class="js-select-component-button-text">'+this.escapeExpression((s=null!=(s=t.defaultValue||(null!=e?e.defaultValue:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"defaultValue",hash:{},data:a}):s))+"</span>\n"+(null!=(i=t.unless.call(e,null!=e?e.isSingleMandatoryOption:e,{name:"unless",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+'    </button>\n    <ul class="select-component-list js-select-component-list padding-top-small padding-left-small padding-right-small padding-bottom-xsmall border-1 border-solid bon-jour-border border-radius-4 card--shadow white container-full container-absolute container-below no-wrap overflow-hidden overflow-y-scroll in-front" data-is-hidden="true">\n'+(null!=(i=t.each.call(e,null!=e?e.valuesList:e,{name:"each",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+"    </ul>\n</div>\n"},useData:!0})}),define("components/multipleSelectFormComponent",["jquery","hbs!templates/components/bulkSelectionModal/multipleSelectFormComponent"],function(e,t){"use strict";function n(e,t,n){var i=e,s=t.filter(function(e){return e.selected});return n?i=t[0].value:s.length&&(i=a(s)),i}function a(e){var t,n=[];return e.forEach(function(e){t?n.push(e.value):t=e.value}),t+=n.length?" ("+n.join(", ")+")":""}return function(a,i,s,r){var o,l,c,u,d,p,h,f,_,m,E,g=e("body"),v=this,b=i,T=function(e){e&&e.preventDefault(),o=!o,h.toggle(),p.toggleClass("icon-arrow-down icon-arrow-up")},I=function(t){o&&!e(t.target).closest(".js-multiple-select-component-container").length&&T()},S=function(){var e=!m||v.data().length;return e?u.removeClass("error"):u.addClass("error"),!!e},y=function(){return E.reduce(function(e,t){return t.selected&&e.push(t.id),e},[])},A=function(i,s){E=e.extend(!0,[],i),o=!1,m=s,l=1===E.length&&m,c=e(t({isSingleMandatoryOption:l,defaultValue:n(b,E,l),valuesList:E})),u=c.find(".js-select-component-button"),d=u.find(".js-select-component-button-text"),p=u.find(".js-select-component-button-icon"),h=c.find(".js-select-component-list"),f=c.find(".js-select-component-list-checkbox"),l?E[0].selected=!0:(g.on("click",I),c.on("click",".js-select-component-button",T),f.on("change",function(t){var a=e(this),i=a.attr("data-index"),s=a.prop("checked"),r=a.next(".select-component-list-label");s?r.addClass("blue bleu-de-france-text"):r.removeClass("blue bleu-de-france-text"),E[i].selected=s,d.text(n(b,E,l)),_&&_(y()),S()}),f.each(function(e,t){t.indeterminate=!E[e].selected&&E[e].indeterminate})),a.append(c)};this.data=y,this.onDataChanged=function(t){e.isFunction(t)&&(_=t)},this.setListData=function(e,t){this.destroy(),A(e,t),S()},this.valid=function(){return S()},this.destroy=function(){c&&c.remove(),g.off("click",I)},A(s,r)}}),define("hbs!templates/modalWindow/quoteDetailsFieldSet",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="row">\n    <div class="js-quote-details-wrapper">\n        <div class="column on-small-12 on-medium-12 margin-bottom-medium margin-top-medium">\n            <div class="margin-bottom-xsmall margin-top-small left-align">\n'+(null!=(i=this.invokePartial(n["modalWindow/fieldInputValidator"],e,{name:"modalWindow/fieldInputValidator",hash:{required:!0,placeholder:(t._||e&&e._||t.helperMissing).call(e,"FORM::INPUT::Type here",{name:"_",hash:{},data:a}),dataT:"quote-title",name:"title",label:(t._||e&&e._||t.helperMissing).call(e,"MODAL::QUOTES::Quote title",{name:"_",hash:{},data:a})},data:a,indent:"                ",helpers:t,partials:n}))?i:"")+'            </div>\n            <div class="margin-bottom-xsmall left-align">\n'+(null!=(i=this.invokePartial(n["modalWindow/fieldInputValidator"],e,{name:"modalWindow/fieldInputValidator",hash:{dataT:"quote-notes",placeholder:(t._||e&&e._||t.helperMissing).call(e,"FORM::INPUT::Type here",{name:"_",hash:{},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"ORGANIZATION::LICENSE_TRANSFER::Additional Notes",{name:"_",hash:{},data:a}),type:"textarea",name:"notes"},data:a,indent:"                ",helpers:t,partials:n}))?i:"")+'            </div>\n        </div>\n        <div class="column on-small-12 on-medium-12 white border-2 border-solid border-radius-4 bleu-de-france-border padding-medium">\n            <div class="text-sregular grey dove-text margin-bottom-medium">\n                <strong data-t="quote-details-information-title-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::QUOTES::Important",{name:"_",hash:{},data:a}))+'</strong>\n                <i class="mti-icon icon-infofull right blue bleu-de-france-text"></i>\n            </div>\n            <div class="text-sregular grey dove-text" data-t="quote-details-information-body-text">\n                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::QUOTES::This quote will be valid for 30 days from the date you generate the quote only and does not grant you any license to use the asset(s).",{name:"_",hash:{},data:a}))+"\n                "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::QUOTES::Additionally, this quote does not guarantee that the asset(s) listed in the quote will still be available at the time you wish to license the asset(s).",{name:"_",hash:{},data:a}))+"\n            </div>\n        </div>\n    </div>\n</div>\n"},usePartial:!0,useData:!0})}),define("components/quoteDetailsFieldSet",["jquery","i18n","i18n-config","components/fieldInputValidator","hbs!templates/modalWindow/quoteDetailsFieldSet"],function(e,t,n,a,i){"use strict";function s(e){var a,i;switch(e){case"title":i=30,a=t.sprintf(n.ngettext("MODAL::QUOTES::ERROR::Quote title cannot exceed %s character.","MODAL::QUOTES::ERROR::Quote title cannot exceed %s characters.",i),i);break;default:i=300,a=t.sprintf(n.ngettext("MODAL::QUOTES::ERROR::Additional notes cannot exceed %s character.","MODAL::QUOTES::ERROR::Additional notes cannot exceed %s characters.",i),i)}return{maxlength:i,message:a}}function r(t){var n={},i=t.find(".js-quote-details-wrapper"),r={};i.find(".js-field-group-input").each(function(){var t=e(this),n=t.attr("name"),i=new a(t,s(n));r[n]={input:t,validator:i,required:t.prop("required")},t.on("input",function(){i.checkValue(t.val())}).on("blur",function(){i.hideToolTip()})}),this.data=function(){var e,t;for(e in r)t=r[e].input,n[e]=t.val().trim();return n},this.valid=function(){var e,t,n,a=!0;for(t in r)if(e=r[t],n=e.input.val().trim(),e.validator.checkValue(n),e.required&&!n){a=!1;break}return a}}return{template:i,init:r}}),define("hbs!templates/modalWindow/bulkSelectionModal",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return' data-ingest-subcategory="'+this.escapeExpression((i=null!=(i=t.ingest_subcategory||(null!=e?e.ingest_subcategory:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"ingest_subcategory",hash:{},data:a}):i))+'"'},3:function(e,t,n,a){return" border-right-solid"},5:function(e,t,n,a){return'                                <div class="js-modal-taxes-details container-inline-block left-align v-align-top text-sregular padding-left-large"></div>\n'},7:function(e,t,n,a){return"                                    <br/>\n                                    <span>"+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::ERROR::Please note that you can still purchase these assets on-demand from their detail page.",{name:"_",hash:{},data:a}))+"</span>\n"},9:function(e,t,n,a){return'                            <label class="container-inline-block cursor-pointer grey gravel-text padding-left-xsmall margin-bottom-small margin-left-small">\n                                <input type="checkbox" value="all" class="js-modal-bulk-selection-all-checkbox margin-right-small" data-t="selected-assets-select-all-checkbox">\n                                <span class="js-modal-bulk-selection-all-checkbox-label">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"LIBRARY::ACTION::Select all assets",{name:"_",hash:{},data:a}))+"</span>\n                            </label>\n"},11:function(e,t,n,a){return" on-medium-6"},13:function(e,t,n,a){return" on-medium-12"},15:function(e,t,n,a){var i;return'                                    <div class="js-modal-bulk-selection-tabs column on-small-12 on-medium-6">\n                                        <div class="padding-medium">\n'+(null!=(i=t.if.call(e,null!=e?e.display_edit_all_disclaimer:e,{name:"if",hash:{},fn:this.program(16,a,0),inverse:this.noop,data:a}))?i:"")+'\n                                            <div class="modal-bulk-selection--tabs container-relative">\n                                                <ul>\n'+(null!=(i=t.if.call(e,null!=e?e.display_quote_details:e,{name:"if",hash:{},fn:this.program(18,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=e?e.display_art_buyers:e,{name:"if",hash:{},fn:this.program(20,a,0),inverse:this.program(22,a,0),data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=e?e.display_license_transfer:e,{name:"if",hash:{},fn:this.program(25,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=e?e.display_license_comments:e,{name:"if",hash:{},fn:this.program(27,a,0),inverse:this.noop,data:a}))?i:"")+"                                                </ul>\n                                            </div>\n\n"+(null!=(i=t.if.call(e,null!=e?e.display_quote_details:e,{name:"if",hash:{},fn:this.program(29,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=(t["if-or"]||e&&e["if-or"]||t.helperMissing).call(e,null!=e?e.display_art_buyers:e,null!=e?e.display_license_references:e,{name:"if-or",hash:{},fn:this.program(34,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=e?e.display_license_transfer:e,{name:"if",hash:{},fn:this.program(39,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=e?e.display_license_comments:e,{name:"if",hash:{},fn:this.program(41,a,0),inverse:this.noop,data:a}))?i:"")+"                                        </div>\n                                    </div>\n"},16:function(e,t,n,a){return'                                                <div class="js-edit-all-disclaimer theme blue bleu-de-france white-text text-sregular border-radius-4 padding-small center-align margin-bottom-small">\n                                                    <span data-t="note-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::Please note that all your edits will apply to all selected assets",{name:"_",hash:{},data:a}))+"</span>\n                                                </div>\n"},18:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["components/bulkSelectionModal/tabsHeaderItem"],e,{name:"components/bulkSelectionModal/tabsHeaderItem",hash:{active:null!=e?e.display_details_tab_active:e,label:(t._||e&&e._||t.helperMissing).call(e,"MODAL::QUOTES::Quote Details",{name:"_",hash:{},data:a}),dataT:"quote-details-tab-text",tab:"quote_details"},data:a,indent:"                                                        ",helpers:t,partials:n}))?i:""},20:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["components/bulkSelectionModal/tabsHeaderItem"],e,{name:"components/bulkSelectionModal/tabsHeaderItem",hash:{active:null!=e?e.display_details_tab_active:e,label:(t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::Request details",{name:"_",hash:{},data:a}),dataT:"request-details-tab-text",tab:"license_references"},data:a,indent:"                                                        ",helpers:t,partials:n}))?i:""},22:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.display_license_references:e,{name:"if",hash:{},fn:this.program(23,a,0),inverse:this.noop,data:a}))?i:""},23:function(e,t,n,a){var i;return(null!=(i=this.invokePartial(n["components/bulkSelectionModal/tabsHeaderItem"],e,{name:"components/bulkSelectionModal/tabsHeaderItem",hash:{active:null!=e?e.display_details_tab_active:e,label:(t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::References",{name:"_",hash:{},data:a}),dataT:"references-tab-text",tab:"license_references"},data:a,indent:"                                                        ",helpers:t,partials:n}))?i:"")+"                                                    "},25:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["components/bulkSelectionModal/tabsHeaderItem"],e,{name:"components/bulkSelectionModal/tabsHeaderItem",hash:{active:null!=e?e.display_license_transfer_active:e,label:(t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::License Transfer",{name:"_",hash:{},data:a}),dataT:"license-tranfer-tab-text",tab:"license_transfer"},data:a,indent:"                                                        ",helpers:t,partials:n}))?i:""},27:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["components/bulkSelectionModal/tabsHeaderItem"],e,{name:"components/bulkSelectionModal/tabsHeaderItem",hash:{counterLabel:null!=e?e.display_nb_comments:e,counterIdentifier:"js-comments-count-label",active:null!=e?e.display_license_comments_active:e,label:(t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::Comments",{name:"_",hash:{},data:a}),dataT:"license-comments-tab-text",tab:"license_comments"},data:a,indent:"                                                        ",helpers:t,partials:n}))?i:""},29:function(e,t,n,a){var i;return'                                                <div class="tab-content" data-tab="quote_details" data-is-hidden="'+(null!=(i=t.if.call(e,null!=e?e.display_details_tab_active:e,{name:"if",hash:{},fn:this.program(30,a,0),inverse:this.program(32,a,0),data:a}))?i:"")+'">\n'+(null!=(i=this.invokePartial(n["modalWindow/quoteDetailsFieldSet"],e,{name:"modalWindow/quoteDetailsFieldSet",data:a,indent:"                                                    ",helpers:t,partials:n}))?i:"")+"                                                </div>\n"},30:function(e,t,n,a){return"false"},32:function(e,t,n,a){return"true"},34:function(e,t,n,a){var i;return'                                                <div class="tab-content" data-tab="license_references" data-is-hidden="'+(null!=(i=t.if.call(e,null!=e?e.display_details_tab_active:e,{name:"if",hash:{},fn:this.program(30,a,0),inverse:this.program(32,a,0),data:a}))?i:"")+'">\n'+(null!=(i=t.if.call(e,null!=e?e.display_art_buyers:e,{name:"if",hash:{},fn:this.program(35,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=e?e.display_license_references:e,{name:"if",hash:{},fn:this.program(37,a,0),inverse:this.noop,data:a}))?i:"")+"                                                </div>\n"},35:function(e,t,n,a){return'                                                        <div class="art-buyers-select-form padding-bottom-large padding-top-large border-bottom-1 border-bottom-solid nurse-border">\n                                                            <div class="row">\n                                                                <div class="column on-small-12 on-medium-6">\n                                                                    <div class="margin-bottom-small">\n                                                                        '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::ART BUYER(S)",{name:"_",hash:{},data:a}))+'\n                                                                    </div>\n                                                                    <div class="js-artbuyer-select-form-container">\n                                                                    </div>\n                                                                </div>\n                                                            </div>\n                                                        </div>\n'},37:function(e,t,n,a){var i;return'                                                        <div class="row">\n                                                            <div class="left-align">\n                                                                <p>\n                                                                    <span class="text-up" data-t="references-title-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MEMBER::HISTORY::References",{name:"_",hash:{},data:a}))+'</span>\n                                                                    <span class="right grey dove-text text-sregular" data-t="references-mandatory-note-text"><sup>*</sup>'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"ORGANIZATION::REFERENCE::Mandatory References",{name:"_",hash:{},data:a}))+"</span>\n                                                                </p>\n                                                            </div>\n                                                        </div>\n"+(null!=(i=this.invokePartial(n["modalWindow/licenseReferencesFieldSet"],e,{name:"modalWindow/licenseReferencesFieldSet",data:a,indent:"                                                        ",helpers:t,partials:n}))?i:"")},39:function(e,t,n,a){var i;return'                                                <div class="tab-content" data-tab="license_transfer" data-is-hidden="'+(null!=(i=t.if.call(e,null!=e?e.display_license_transfer_active:e,{name:"if",hash:{},fn:this.program(30,a,0),inverse:this.program(32,a,0),data:a}))?i:"")+'">\n'+(null!=(i=this.invokePartial(n["modalWindow/licenseTransferFieldSet"],e,{name:"modalWindow/licenseTransferFieldSet",data:a,indent:"                                                    ",helpers:t,partials:n}))?i:"")+"                                                </div>\n"},41:function(e,t,n,a){var i;return'                                                <div class="tab-content" data-tab="license_comments" data-is-hidden="'+(null!=(i=t.if.call(e,null!=e?e.display_license_comments_active:e,{name:"if",hash:{},fn:this.program(30,a,0),inverse:this.program(32,a,0),data:a}))?i:"")+'">\n                                                    <div class="js-license-comments-wrapper padding-top-medium container-relative"></div>\n                                                </div>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div class="motmot">\n    <div class="mti-modal modal-bulk-selection js-modal-bulk-selection modal--large modal--secondary modal--with-header animated fade-in" data-state="shown"'+(null!=(i=t.if.call(e,null!=e?e.ingest_subcategory:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'>\n        <div class="modal__body overflow-visible">\n            <i class="modal__close mti-icon icon-close js-modal-hide-modal" data-t="close-icon"></i>\n            <form class="js-modal-licensing-bulk-form" method="post" novalidate>\n                <div class="modal__header center-align">\n                    <span data-t="modal-bulk-title">'+this.escapeExpression((s=null!=(s=t.title||(null!=e?e.title:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"title",hash:{},data:a}):s))+'</span>\n                </div>\n                <div class="modal__content grey gravel-text">\n                    <div class="js-modal-bulk-content-wrapper container-relative padding-large">\n                        <div class="border-1 border-solid border-radius-4 white nurse-border padding-medium margin-bottom-xlarge">\n                            <div class="container-inline-block padding-right-large '+(null!=(i=t.if.call(e,null!=e?e.display_totals_with_taxes:e,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+'">\n                                <table class="left-align v-align-top text-sregular">\n                                    <tbody>\n                                        <tr class="padding-bottom-xsmall">\n                                            <td class="padding-right-xlarge" data-t="number-of-assets-label">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::INFO::Number of assets",{name:"_",hash:{},data:a}))+'</td>\n                                            <td class="js-modal-nb-assets" data-t="number-of-assets-text-value"></td>\n                                        </tr>\n                                        <tr class="padding-bottom-xsmall">\n                                            <td class="padding-right-xlarge">\n                                                <strong data-t="price-label">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::INFO::Price",{name:"_",hash:{},data:a}))+'</strong>\n                                            </td>\n                                            <td class="js-modal-total-prices-column"></td>\n                                        </tr>\n                                    </tbody>\n                                </table>\n                            </div>\n'+(null!=(i=t.if.call(e,null!=e?e.display_totals_with_taxes:e,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+'                            <div class="js-error-header left-align v-align-top text-small red lust-text" data-is-hidden="true">\n                                <i class="mti-icon icon-alert"></i>\n                                <span class="js-error-header-message"></span>\n'+(null!=(i=t.if.call(e,null!=e?e.credit_card_purchase_enabled:e,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.noop,data:a}))?i:"")+'                            </div>\n                            <div class="js-error-additional-licensing-disabled left-align v-align-top text-small red lust-text" data-is-hidden="true">\n                                <i class="mti-icon icon-alert"></i>\n                                <span>'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::ERROR::Sorry, Your selection contains assets that cannot be licensed multiple times.",{name:"_",hash:{},data:a}))+"</span>\n                            </div>\n                        </div>\n"+(null!=(i=t.if.call(e,null!=e?e.assets_selectable:e,{name:"if",hash:{},fn:this.program(9,a,0),inverse:this.noop,data:a}))?i:"")+'                        <div class="border-1 border-solid border-radius-4 nurse-border">\n                            <div class="row">\n                                <div class="column on-small-12'+(null!=(i=t.if.call(e,null!=e?e.has_modal_tabs:e,{name:"if",hash:{},fn:this.program(11,a,0),inverse:this.program(13,a,0),data:a}))?i:"")+'">\n                                    <div class="modal-bulk-selection-assets-wrapper overflow-scroll border-right-solid grey alabaster">\n'+(null!=(i=this.invokePartial(n["components/bulkSelectionModal/assetsTable"],e,{name:"components/bulkSelectionModal/assetsTable",hash:{tableIsSelectable:null!=e?e.assets_selectable:e,assets:null!=e?e.assets:e},data:a,indent:"                                        ",helpers:t,partials:n}))?i:"")+"                                    </div>\n                                </div>\n"+(null!=(i=t.if.call(e,null!=e?e.has_modal_tabs:e,{name:"if",hash:{},fn:this.program(15,a,0),inverse:this.noop,data:a}))?i:"")+'                            </div>\n                        </div>\n                        <div class="js-modal-bulk-selection-tooltip tooltip tooltip--fixed-width in-front" data-is-hidden="true"></div>\n                    </div>\n                </div>\n                <div class="modal__footer right-align">\n'+(null!=(i=this.invokePartial(n.footerButtonsTemplate,e,{name:"footerButtonsTemplate",data:a,indent:"                    ",helpers:t,partials:n}))?i:"")+"                </div>\n            </form>\n        </div>\n    </div>\n</div>\n"},usePartial:!0,useData:!0})}),define("hbs!templates/components/bulkSelectionModal/assetsTable",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return" table--condensed"},3:function(e,t,n,a,i,s){var r,o;return'            <tr class="js-modal-table-asset-row js-modal-tr-'+this.escapeExpression((o=null!=(o=t.key||a&&a.key)?o:t.helperMissing,"function"==typeof o?o.call(e,{name:"key",hash:{},data:a}):o))+(null!=(r=t.unless.call(e,null!=e?e.is_selectable:e,{name:"unless",hash:{},fn:this.program(4,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'" data-select="'+this.escapeExpression((o=null!=(o=t.key||a&&a.key)?o:t.helperMissing,"function"==typeof o?o.call(e,{name:"key",hash:{},data:a}):o))+'" data-t="selected-asset-'+this.escapeExpression(this.lambda(null!=e?e.content_id:e,e))+'">\n'+(null!=(r=t.if.call(e,null!=s[1]?s[1].tableIsSelectable:s[1],{name:"if",hash:{},fn:this.program(6,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'                <td class="table__td">\n                    <div class="license-image container-relative">\n                        <img class="c-align pointer-events-none" src="'+this.escapeExpression(this.lambda(null!=e?e.content_thumb_url:e,e))+'" data-t="selected-asset-thumbnail"/>\n                    </div>\n                </td>\n'+(null!=(r=t.with.call(e,t.lookup.call(e,null!=e?e.license_details:e,null!=e?e.default_license_id:e,{name:"lookup",hash:{},data:a}),{name:"with",hash:{},fn:this.program(9,a,0,i,s),inverse:this.noop,data:a}))?r:"")+(null!=(r=t.if.call(e,null!=s[1]?s[1].tableIsSelectable:s[1],{name:"if",hash:{},fn:this.program(12,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'                <td class="table__td center-align">\n                    <div class="margin-right-medium table-assets-select__actions">\n'+(null!=(r=t.if.call(e,null!=e?e.is_selectable:e,{name:"if",hash:{},fn:this.program(15,a,0,i,s),inverse:this.program(17,a,0,i,s),data:a}))?r:"")+"                    </div>\n                </td>\n            </tr>\n"},4:function(e,t,n,a){return" disabled"},6:function(e,t,n,a){var i,s;return'                    <td class="table__td table__checkbox">\n                        <input type="checkbox" class="js-modal-table-asset-checkbox" value="'+this.escapeExpression((s=null!=(s=t.key||a&&a.key)?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"key",hash:{},data:a}):s))+'" data-t="selected-asset-checkbox" '+(null!=(i=t.unless.call(e,null!=e?e.is_selectable:e,{name:"unless",hash:{},fn:this.program(7,a,0),inverse:this.noop,data:a}))?i:"")+"/>\n                    </td>\n"},7:function(e,t,n,a){return' disabled="disabled"'},9:function(e,t,n,a,i,s){var r,o;return'                    <td class="table__td">\n                        <div class="js-modal-license-dropdown license-dropdown'+(null!=(r=t.unless.call(e,null!=s[1]?s[1].has_multiple_licenses:s[1],{name:"unless",hash:{},fn:this.program(10,a,0,i,s),inverse:this.noop,data:a}))?r:"")+' container-relative padding-right-large" data-rel="'+this.escapeExpression((o=null!=(o=t.key||a&&a.key)?o:t.helperMissing,"function"==typeof o?o.call(e,{name:"key",hash:{},data:a}):o))+'">\n'+(null!=(r=this.invokePartial(n["components/bulkSelectionModal/columnLicenseDetails"],e,{name:"components/bulkSelectionModal/columnLicenseDetails",hash:{asset_details:null!=e?e.asset_details:e,is_additional_licensing_disabled:null!=e?e.is_additional_licensing_disabled:e,
license_type_label:null!=e?e.license_type_label:e},data:a,indent:"                            ",helpers:t,partials:n}))?r:"")+'                        </div>\n                    </td>\n                    <td class="js-modal-license-price table__td" data-rel="'+this.escapeExpression((o=null!=(o=t.key||a&&a.key)?o:t.helperMissing,"function"==typeof o?o.call(e,{name:"key",hash:{},data:a}):o))+'">\n'+(null!=(r=this.invokePartial(n["components/bulkSelectionModal/columnLicensePrice"],e,{name:"components/bulkSelectionModal/columnLicensePrice",hash:{facing_price:null!=e?e.facing_price:e,license_price:null!=e?e.license_price:e,display_license_price:null!=e?e.display_license_price:e,is_additional_licensing_disabled:null!=e?e.is_additional_licensing_disabled:e},data:a,indent:"                        ",helpers:t,partials:n}))?r:"")+"                    </td>\n"},10:function(e,t,n,a){return" disabled pointer-events-none"},12:function(e,t,n,a){var i;return'                    <td class="table__td center-align">\n'+(null!=(i=t.if.call(e,null!=e?e.is_selectable:e,{name:"if",hash:{},fn:this.program(13,a,0),inverse:this.noop,data:a}))?i:"")+"                    </td>\n"},13:function(e,t,n,a){var i;return'                            <span class="js-modal-asset-request-info-status request-info-status cursor-pointer" data-rel="'+this.escapeExpression((i=null!=(i=t.key||a&&a.key)?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"key",hash:{},data:a}):i))+'" data-select="'+this.escapeExpression((i=null!=(i=t.key||a&&a.key)?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"key",hash:{},data:a}):i))+'" data-t="request-info-status">\n                                <i class="mti-icon icon-radio-active text-sregular no-padding"></i>\n                            </span>\n'},15:function(e,t,n,a){var i;return'                            <span class="js-modal-asset-toggle-remove table-assets-select__action cursor-pointer" data-rel="'+this.escapeExpression((i=null!=(i=t.key||a&&a.key)?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"key",hash:{},data:a}):i))+'" data-t="remove-from-selection-button">\n                                <i class="mti-icon mti-icon--framed icon-close half-heavy-metal-overlay white-text text-regular no-padding"></i>\n                            </span>\n'},17:function(e,t,n,a){var i;return'                            <i class="js-modal-icon-alert mti-icon icon-alert red lust-text" data-rel="'+this.escapeExpression((i=null!=(i=t.key||a&&a.key)?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"key",hash:{},data:a}):i))+'" data-t="selected-asset-disabled-info"></i>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a,i,s){var r;return'<table class="table-assets-select table table--default'+(null!=(r=t.if.call(e,null!=e?e.tableIsSelectable:e,{name:"if",hash:{},fn:this.program(1,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'">\n    <tbody>\n'+(null!=(r=t.each.call(e,null!=e?e.assets:e,{name:"each",hash:{},fn:this.program(3,a,0,i,s),inverse:this.noop,data:a}))?r:"")+"    </tbody>\n</table>\n"},usePartial:!0,useData:!0,useDepths:!0})}),define("hbs!templates/components/bulkSelectionModal/columnLicenseDetails",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return' class="red bright-text"'},3:function(e,t,n,a){var i;return'            <span class="container-inline-block">'+this.escapeExpression((i=null!=(i=t.type_label||(null!=e?e.type_label:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"type_label",hash:{},data:a}):i))+'</span>\n            <span class="container-inline-block">'+this.escapeExpression((i=null!=(i=t.sub_type_label||(null!=e?e.sub_type_label:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"sub_type_label",hash:{},data:a}):i))+'</span>\n            <span class="container-inline-block">'+this.escapeExpression((i=null!=(i=t.resolution||(null!=e?e.resolution:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"resolution",hash:{},data:a}):i))+"</span>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return"<div"+(null!=(i=(t["if-or"]||e&&e["if-or"]||t.helperMissing).call(e,(t.not||e&&e.not||t.helperMissing).call(e,null!=e?e.is_included_in_current_plan:e,{name:"not",hash:{},data:a}),null!=e?e.is_additional_licensing_disabled:e,{name:"if-or",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+' >\n    <span class="container-block" data-t="selected-asset-license-label">'+this.escapeExpression((s=null!=(s=t.user_facing_license_type_label||(null!=e?e.user_facing_license_type_label:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"user_facing_license_type_label",hash:{},data:a}):s))+'</span>\n    <div class="font-thin text-small" data-t="selected-asset-license-details">\n'+(null!=(i=t.with.call(e,null!=e?e.asset_details:e,{name:"with",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+'    </div>\n    <i class="container-absolute mti-icon mti-icon--framed icon-down to-the-right no-padding text-regular"></i>\n</div>\n'},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/columnLicensePrice",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i,s;return'    <span class="container-block'+(null!=(i=t.if.call(e,null!=e?e.is_additional_licensing_disabled:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.noop,data:a}))?i:"")+'" data-t="selected-asset-license-price">'+this.escapeExpression((s=null!=(s=t.license_price||(null!=e?e.license_price:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"license_price",hash:{},data:a}):s))+'</span>\n    <span class="container-block font-thin text-small'+(null!=(i=t.if.call(e,null!=e?e.is_additional_licensing_disabled:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.noop,data:a}))?i:"")+'" data-t="selected-asset-license-facing-price">'+this.escapeExpression((s=null!=(s=t.facing_price||(null!=e?e.facing_price:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"facing_price",hash:{},data:a}):s))+"</span>\n"},2:function(e,t,n,a){return" red bright-text"},4:function(e,t,n,a){return'    <span class="container-block">-</span>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.display_license_price:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(4,a,0),data:a}))?i:""},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/columnTotalPrices",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return'    <p class="no-margin text-sregular">\n        <span class="quota" data-t="price-text-value-free">\n            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"HEADER::MEMBER::Free",{name:"_",hash:{},data:a}))+"\n\n        </span>\n    </p>\n"},3:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.total_prices_are_included_in_your_plan:e,{name:"if",hash:{},fn:this.program(4,a,0),inverse:this.program(6,a,0),data:a}))?i:""},4:function(e,t,n,a){return'    <p class="no-margin text-sregular">\n        <span class="quota" data-t="price-text-value-bundle">\n            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"HEADER::MEMBER::Included in your plan",{name:"_",hash:{},data:a}))+"\n        </span>\n    </p>\n"},6:function(e,t,n,a){var i;return null!=(i=t.each.call(e,null!=e?e.total_prices:e,{name:"each",hash:{},fn:this.program(7,a,0),inverse:this.noop,data:a}))?i:""},7:function(e,t,n,a){var i,s;return'        <p class="no-margin text-sregular'+(null!=(i=t.if.call(e,null!=e?e.is_above_available_quota:e,{name:"if",hash:{},fn:this.program(8,a,0),inverse:this.noop,data:a}))?i:"")+'">\n            <span class="quota" data-t="price-text-value-'+this.escapeExpression((s=null!=(s=t.index||a&&a.index)?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"index",hash:{},data:a}):s))+'">\n                '+this.escapeExpression((t.number||e&&e.number||t.helperMissing).call(e,null!=e?e.quota:e,{name:"number",hash:{},data:a}))+"\n"+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"credits",logic:"eq",value:null!=e?e.quota_type:e},fn:this.program(10,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"images",logic:"eq",value:null!=e?e.quota_type:e},fn:this.program(12,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"premium_credits",logic:"eq",value:null!=e?e.quota_type:e},fn:this.program(14,a,0),inverse:this.noop,data:a}))?i:"")+"            </span>\n            "+(null!=(i=t.if.call(e,null!=e?e.facing_price:e,{name:"if",hash:{},fn:this.program(16,a,0),inverse:this.noop,data:a}))?i:"")+"\n        </p>\n"},8:function(e,t,n,a){return" red lust-text"},10:function(e,t,n,a){return"                    "+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Credit","HEADER::MEMBER::Credits",null!=e?e.quota:e,{name:"ngettext",hash:{},data:a}))+"\n"},12:function(e,t,n,a){return"                    "+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Image","HEADER::MEMBER::Images",null!=e?e.quota:e,{name:"ngettext",hash:{},data:a}))+"\n"},14:function(e,t,n,a){return"                    "+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Premium Credit","HEADER::MEMBER::Premium Credits",null!=e?e.quota:e,{name:"ngettext",hash:{},data:a}))+"\n"},16:function(e,t,n,a){var i;return'<strong data-t="price-text-currency-value-'+this.escapeExpression((i=null!=(i=t.index||a&&a.index)?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"index",hash:{},data:a}):i))+'">('+this.escapeExpression((i=null!=(i=t.facing_price||(null!=e?e.facing_price:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"facing_price",hash:{},data:a}):i))+")</strong>"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.total_prices_are_free:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(3,a,0),data:a}))?i:""},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/footer/buttonsApproverLicense",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<button class="js-modal-button-approve-request button button--dialog button--action" data-t="modal-license-bulk-btn-cta">\n    <i class="mti-icon icon-shopping-cart margin-right-xsmall"></i>\n    <span data-t="modal-license-bulk-btn-cta-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"FILE::Confirm Licensing",{name:"_",hash:{},data:a}))+"</span>\n</button>\n"},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/footer/buttonsBulkLicense",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<button class="js-modal-button-license button button--dialog button--action" data-t="modal-license-bulk-btn-cta">\n    <i class="mti-icon icon-shopping-cart margin-right-xsmall"></i>\n    <span data-t="modal-license-bulk-btn-cta-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::License",{name:"_",hash:{},data:a}))+"</span>\n</button>\n"},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/footer/buttonsRequesterCreate",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<button type="button" class="js-modal-button-save-request button button--dialog button--action" data-t="modal-license-save-request-btn-cta">\n    <i class="mti-icon icon-pending margin-right-xsmall"></i>\n    <span data-t="modal-license-save-request-btn-cta-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::Save",{name:"_",hash:{},data:a}))+'</span>\n</button>\n<button class="js-modal-button-send-request button button--dialog button--action" data-t="modal-license-send-request-btn-cta">\n    <i class="mti-icon icon-share margin-right-xsmall"></i>\n    <span data-t="modal-license-send-request-btn-cta-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::Send request",{name:"_",hash:{},data:a}))+"</span>\n</button>\n"},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/footer/buttonsRequesterEdit",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<label class="switch margin-right-medium margin-left-medium" data-t="modal-license-request-notify-checkbox">\n    <input class="js-modal-license-request-notify-checkbox" type="checkbox" name="notify" />\n    <span class="white-text" data-t="modal-license-request-notify-checkbox-label">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"COMMENT::ACTION::Notify",{name:"_",hash:{},data:a}))+'</span>\n</label>\n<button class="js-modal-button-update-request button button--dialog button--action" data-t="modal-license-update-request-btn-cta">\n    <i class="mti-icon icon-update margin-right-xsmall"></i>\n    <span data-t="modal-license-update-request-btn-cta-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::Update request",{name:"_",hash:{},data:a}))+"</span>\n</button>\n"},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/footer/buttonsGenerateQuote",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<button class="js-modal-button-generate-quote button button--dialog button--action" data-t="modal-generate-quote-btn-cta">\n    <i class="mti-icon margin-right-xsmall"></i>\n    <span class="padding-left-xsmall padding-right-xsmall" data-t="modal-generate-quote-btn-cta-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::QUOTES::Generate Quote",{name:"_",hash:{},data:a}))+"</span>\n</button>\n"},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/taxesDetailsTemplate",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i,s;return'            <tr class="padding-bottom-xsmall">\n                <td class="padding-right-xlarge" data-t="tax-rate-label">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::INFO::Tax Rate",{name:"_",hash:{},data:a}))+'</td>\n                <td data-t="tax-rate-value">'+this.escapeExpression((t.number||e&&e.number||t.helperMissing).call(e,null!=(i=null!=e?e.taxes_data:e)?i.rate:i,{name:"number",hash:{},data:a}))+'%</td>\n            </tr>\n            <tr class="padding-bottom-xsmall">\n                <td class="padding-right-large"><strong data-t="price-incl-taxes-label">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::INFO::Total price (Tax incl.)",{name:"_",hash:{},data:a}))+'</strong></td>\n                <td class="js-modal-total-prices-taxes" data-t="price-incl-taxes-value">'+this.escapeExpression((s=null!=(s=t.prices_including_taxes||(null!=e?e.prices_including_taxes:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"prices_including_taxes",hash:{},data:a}):s))+"</td>\n            </tr>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<table>\n    <tbody>\n        <tr class="padding-bottom-xsmall">\n            <td class="padding-right-xlarge"><strong data-t="price-excl-taxes-label">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::INFO::Total price (Tax excl.)",{name:"_",hash:{},data:a}))+'</strong></td>\n            <td class="js-modal-total-prices" data-t="price-excl-taxes-value">'+this.escapeExpression((s=null!=(s=t.prices_excluding_taxes||(null!=e?e.prices_excluding_taxes:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"prices_excluding_taxes",hash:{},data:a}):s))+"</td>\n        </tr>\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.taxes_data:e)?i.included:i,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+"    </tbody>\n</table>\n"},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/toolTipHintRequestIncomplete",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<span class="container-inline-block white-text text-small" data-t="selected-asset-status-incomplete-text">\n    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::INFO::Incomplete",{name:"_",hash:{},data:a}))+"\n</span>\n"},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/toolTipHintRequestReady",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<span class="container-inline-block white-text text-small" data-t="selected-asset-status-ready-text">\n    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::INFO::Ready",{name:"_",hash:{},data:a}))+"\n</span>\n"},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/toolTipErrorPermissions",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return"        <span>"+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::ERROR::We are sorry but this content is not available for selling.",{name:"_",hash:{},data:a}))+"</span>\n"},3:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.quota_unavailable:e,{name:"if",hash:{},fn:this.program(4,a,0),inverse:this.program(6,a,0),data:a}))?i:""},4:function(e,t,n,a){return"        <span>"+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::ERROR::You cannot license this asset type with your current plan. Therefore this asset has been removed from your selection.",{name:"_",hash:{},data:a}))+"</span>\n"},6:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.asset_disabled:e,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.noop,data:a}))?i:""},7:function(e,t,n,a){return"        <span>"+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::ERROR::You cannot license this asset type due to Administrator restrictions. Therefore this asset has been removed from your selection.",{name:"_",hash:{},data:a}))+"</span>\n    "},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="container-inline-block white-text text-small" data-t="asset-disabled-text">\n'+(null!=(i=t.if.call(e,null!=e?e.asset_is_not_purchasable:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(3,a,0),data:a}))?i:"")+"</div>\n"},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/toolTipErrorQuota",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<span class="container-inline-block white-text text-small" data-t="above-available-quota-error-text">\n    '+this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::ERROR::Your selection exceeds your %s available quota. Please update your selection to continue or ask your administrator to increase your quota.",{name:"_",hash:{},data:a}),null!=e?e.total_quota:e,{name:"sprintf",hash:{},data:a}))+"\n</span>\n"},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/toolTipErrorQuotesQuota",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<span class="container-inline-block white-text text-small" data-t="above-available-quota-error-text">\n    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::QUOTES::ERROR::Your selection includes Stock assets you may not be able to license",{name:"_",hash:{},data:a}))+"\n</span>\n"},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/toolTipLicenseSelect",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i,s;return'        <label class="text-sregular cursor-pointer" data-t="license-dropdown-radio">\n            <div class="container-relative padding-left-large padding-bottom-small'+(null!=(i=(t["if-or"]||e&&e["if-or"]||t.helperMissing).call(e,null!=e?e.is_included_in_current_plan:e,(t.not||e&&e.not||t.helperMissing).call(e,null!=e?e.is_additional_licensing_disabled:e,{name:"not",hash:{},data:a}),{name:"if-or",hash:{},fn:this.program(2,a,0),inverse:this.program(4,a,0),data:a}))?i:"")+'">\n                <input type="radio" name="license-select-radio" class="js-modal-asset-license-radio container-absolute to-the-left to-the-top margin-top-xsmall"\n                    value="'+this.escapeExpression((s=null!=(s=t.key||a&&a.key)?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"key",hash:{},data:a}):s))+'"\n                    data-rel="'+this.escapeExpression(this.lambda((i=a&&a.root)&&i.id,e))+'"\n                    data-t="license-dropdown-radio-input"\n'+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:(i=a&&a.root)&&i.default_license_id,logic:"eq",value:a&&a.key},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:"")+'                />\n                <span class="container-block no-stretch" data-t="license-dropdown-radio-label">'+this.escapeExpression(this.lambda(null!=e?e.user_facing_license_type_label:e,e))+'</span>\n                <div class="font-thin text-small" data-t="license-dropdown-radio-details">\n'+(null!=(i=t.with.call(e,null!=e?e.asset_details:e,{name:"with",hash:{},fn:this.program(8,a,0),inverse:this.noop,data:a}))?i:"")+"                </div>\n            </div>\n        </label>\n"},2:function(e,t,n,a){return" grey gravel-text"},4:function(e,t,n,a){return" red bright-text"},6:function(e,t,n,a){return'                    checked="true"\n'},8:function(e,t,n,a){var i;return'                        <span class="container-inline-block">'+this.escapeExpression((i=null!=(i=t.type_label||(null!=e?e.type_label:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"type_label",hash:{},data:a}):i))+'</span>\n                        <span class="container-inline-block">'+this.escapeExpression((i=null!=(i=t.sub_type_label||(null!=e?e.sub_type_label:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"sub_type_label",hash:{},data:a}):i))+'</span>\n                        <span class="container-inline-block">'+this.escapeExpression((i=null!=(i=t.resolution||(null!=e?e.resolution:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"resolution",hash:{},data:a}):i))+"</span>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="padding-top-xsmall padding-left-small padding-right-medium" data-t="selected-asset-license-dropdown-'+this.escapeExpression(this.lambda((i=a&&a.root)&&i.id,e))+'">\n'+(null!=(i=t.each.call(e,null!=e?e.licenses:e,{name:"each",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+"</div>\n"},useData:!0})}),define("lib/bulkSelectionModal",["jquery","i18n","i18n-config","viewHelpers/numberFormatI18n","page_config","lib/ajax","lib/commentsModule","lib/licenseType","lib/licenseHistoryConstants","lib/licenseRequestModal","lib/member","lib/selectAllComponent","lib/utils","components/licenseTransferFieldSet","components/licenseReferencesFieldSet","components/multipleSelectFormComponent","components/quoteDetailsFieldSet","hbs!templates/modalWindow/bulkSelectionModal","hbs!templates/modalWindow/fieldInputValidator","hbs!templates/components/bulkSelectionModal/assetsTable","hbs!templates/components/bulkSelectionModal/columnLicenseDetails","hbs!templates/components/bulkSelectionModal/columnLicensePrice","hbs!templates/components/bulkSelectionModal/columnTotalPrices","hbs!templates/components/bulkSelectionModal/footer/buttonsApproverLicense","hbs!templates/components/bulkSelectionModal/footer/buttonsBulkLicense","hbs!templates/components/bulkSelectionModal/footer/buttonsRequesterCreate","hbs!templates/components/bulkSelectionModal/footer/buttonsRequesterEdit","hbs!templates/components/bulkSelectionModal/footer/buttonsGenerateQuote","hbs!templates/components/bulkSelectionModal/tabsHeaderItem","hbs!templates/components/bulkSelectionModal/taxesDetailsTemplate","hbs!templates/components/bulkSelectionModal/toolTipHintAdd","hbs!templates/components/bulkSelectionModal/toolTipHintRemove","hbs!templates/components/bulkSelectionModal/toolTipHintRequestIncomplete","hbs!templates/components/bulkSelectionModal/toolTipHintRequestReady","hbs!templates/components/bulkSelectionModal/toolTipErrorPermissions","hbs!templates/components/bulkSelectionModal/toolTipErrorQuota","hbs!templates/components/bulkSelectionModal/toolTipErrorQuotesQuota","hbs!templates/components/bulkSelectionModal/toolTipLicenseSelect"],function(e,t,n,a,i,s,r,o,l,c,u,d,p,h,f,_,m,E,g,v,b,T,I,S,y,A,O,R,C,L,D,N,P,M,w,x,k,F){"use strict";function U(t,n){var a=n+" .modal-bulk-selection--tabs__item",i=t.find(a),s=t.find(n+" .tab-content"),r=function(t){i.each(function(){var n=e(this);t!=n.attr("data-tab")?n.removeClass("active"):n.addClass("active")}),s.each(function(){var n=e(this);n.attr("data-is-hidden",t!=n.attr("data-tab"))})};return t.on("click",a,function(){r(e(this).attr("data-tab"))}),{select:r}}function H(e,t,n,a,i){var s=t.positionRelativeTo(".js-modal-bulk-content-wrapper");e.removeClass("tooltip--top tooltip--secondary tooltip--bottom tooltip--error tooltip--primary"),e.addClass(n),e.css({top:s.top+a,left:s.left+i}).attr("data-is-hidden",!1)}function j(e,t){var n=0;for(var a in e){var i=e[a];(!i.is_removed&&t?i.is_quotable:i.is_allowed_and_purchasable)&&(n+=1)}return n}function V(e,t,n,i){var s,r,l,c,u,d,p,h,f,_,m={},E={};for(s in e)u=e[s],re(u)&&!u.is_bundle_licensable&&(_=u.default_license_id,l=J(u,_),r=l.license_type_id,l.display_license_price&&t.hasOwnProperty(r)&&(E.hasOwnProperty(r)?E[r]+=l.quota:E[r]=l.quota));for(r in E)h=E[r],n&&n[r]&&(d=n[r],p=d.currency_type,f=h*d.currency_value,c=a.formatCurrency(f,d.currency_type)),m[r]={quota:h,quota_type:t[r].label_type,facing_price:c,currency_type:p,quota_value:f,license_type_id:r,is_above_available_quota:!i&&h>t[r].quota};return Object.keys(m).length>1&&m[o.LICENSE_TYPE_ID_CCE_BUNDLE]&&delete m[o.LICENSE_TYPE_ID_CCE_BUNDLE],m}function Y(t,n){var i,s,r,o={},l=[],c=[],u=n.rate;for(s in t)i=t[s],i.currency_type&&(o.hasOwnProperty(i.currency_type)||(o[i.currency_type]=0),o[i.currency_type]+=i.quota_value);return r=Object.keys(o),e.map(r,function(e){var t=o[e],i=t;l.push(a.formatCurrency(t,e)),n.included&&(i+=i*u/100,c.push(a.formatCurrency(i,e)))}),{taxes_data:n,prices_excluding_taxes:l.join(", "),prices_including_taxes:c.join(", ")}}function G(e){var t=!1;for(var n in e)if(e[n].is_above_available_quota){t=!0;break}return t}function B(e,t){return Object.keys(e).every(function(n){var a=e[n],i=J(a,a.default_license_id);return t[i.license_type_id]})}function q(e){return Object.keys(e).some(function(t){return!e[t].is_allowed_and_purchasable})}function W(e){var t,n,a,i,s=e.license_requests||e.contents_data,r=e.is_quotes_modal;for(n in s)t=s[n].possible_licenses,a=s[n].default_license_id,i=s[n].license_details,t.includes(a)||(a=t[0]),s[n].default_license_id=a,s[n].has_multiple_licenses=t.length>1,s[n].license_details[a].display_license_price=r||!i[a].is_additional_licensing_disabled,s[n].is_removed||(s[n].is_selectable=e.is_quotes_modal?s[n].is_quotable:s[n].is_allowed_and_purchasable);return s}function K(e,t){var n={};for(var i in e)n[i]=a.format(e[i].quota)+" "+e[i].label_type,t&&t[i]&&(n[i]+=" ("+a.formatCurrency(e[i].quota*t[i].currency_value,t[i].currency_type)+")");return n}function z(e,t,n){var a,i,s=!1;for(i in e)if(a=e[i],!a.is_removed&&(n||a.is_allowed_and_purchasable)&&(s=!0,!a[t])){s=!1;break}return s}function Q(e,i,s,r,o,l){var c,u,d=o.find(".js-modal-nb-assets"),p=o.find(".js-modal-total-prices-column"),h=o.find(".js-modal-taxes-details"),f=V(e,i,s,l),_=G(f),m=j(e,l),E=Z(e),g=X(e),v=q(e),b=B(e,i),T=!1;if(p.html(I({total_prices:f,total_prices_are_free:z(e,"is_free",l),total_prices_are_included_in_your_plan:z(e,"is_bundle_licensable",l)})),ae(i,s,r)&&h.html(L(Y(f,r))),d.removeClass("red lust-text"),d.text(t.sprintf(n.ngettext("LICENSE::HISTORY::CONTENT_COUNT::%s Asset","LICENSE::HISTORY::CONTENT_COUNT::%s Assets",m),a.format(m))),T=!m||!E,l||(T=T||_||!g),o.find(".js-modal-button-license",T).attr("disabled",T),o.find(".js-modal-button-send-request",T).attr("disabled",T),o.find(".js-modal-button-save-request",T).attr("disabled",T),o.find(".js-modal-button-update-request",T).attr("disabled",T),o.find(".js-modal-button-approve-request",T).attr("disabled",T),o.find(".js-modal-button-generate-quote",T).attr("disabled",T),m?o.find(".js-modal-bulk-selection-all-checkbox").removeAttr("disabled"):(o.find(".js-modal-bulk-selection-all-checkbox").attr("disabled",!0),d.addClass("red lust-text")),o.find(".js-error-licenses-not-included").attr("data-is-hidden",E),o.find(".js-error-additional-licensing-disabled").attr("data-is-hidden",g),u=_||v||!b,o.find(".js-error-header").attr("data-is-hidden",!u),u){if(_){var S=K(i,s),y=[];for(var A in S)f[A]&&f[A].is_above_available_quota&&y.push(S[A]);c=t.sprintf(n.gettext("MODAL::SELECTION::ERROR::Your selection exceeds your available quota of %s. Please update your selection to continue or ask your administrator to increase your quota."),y.join(", "))}else b?v&&(c=n.gettext("MODAL::SELECTION::ERROR::Your selection contains asset types or licenses not authorized by your administrator; these won't be licensed.")):c=n.gettext("MODAL::SELECTION::ERROR::Your selection contains asset types or licenses not included in your plan; these won't be licensed.");o.find(".js-error-header-message").text(c)}return T}function Z(e){var t,n,a,i,s=!0;for(t in e)if(i=e[t],re(i)&&(n=i.default_license_id,a=J(i,n),!a.is_included_in_current_plan)){s=!1;break}return s}function X(e){var t,n,a,i,s=!0;for(t in e)if(i=e[t],i.is_allowed_and_purchasable&&!i.is_removed&&(n=i.default_license_id,a=J(i,n),a.is_additional_licensing_disabled)){s=!1;break}return s}function $(e){var t,n,a,i=[];for(t in e)n=e[t],re(n)&&(a=J(n,n.default_license_id),i.push({content_id:n.content_id,license_id:n.default_license_id,relicense:!!a.downloaded}));return i}function J(e,t){return e.license_details[t]||{}}function ee(e){return e.possible_licenses.reduce(function(t,n){return t[n]=e.license_details[n],t},{})}function te(t,n,a,i,s,r){var o=!0;return e.isFunction(t.resetFields)&&t.resetFields(),r&&!t.valid()&&(o=!1,a.select(s)),n[i]=t.data(),o}function ne(){de&&(de.destroy(),de=null),ce.remove(),pe.removeClass("overflow-hidden")}function ae(e,t,n){var a=Object.keys(e);return!(!a.length||!n.included)&&a.every(function(e){return t.hasOwnProperty(e)})}function ie(t,n){var a={display_license_references:!1,mandatory_license_references:null,optional_license_references:null,condensed_license_references_display:!0};e.isEmptyObject(n)||(e.isEmptyObject(n.mandatory_references)||(a.display_license_references=!0,a.mandatory_license_references=n.mandatory_references),e.isEmptyObject(n.optional_references)||(a.display_license_references=!0,a.optional_license_references=n.optional_references)),e.extend(t,a)}function se(e){e.has_modal_tabs=!0,e.display_art_buyers||e.display_license_references||e.display_quote_details?(e.display_details_tab=!0,e.display_details_tab_active=!0):e.display_license_transfer?e.display_license_transfer_active=!0:e.display_license_comments?e.display_license_comments_active=!0:e.has_modal_tabs=!1}function re(e){return!e.is_removed&&(e.is_allowed_and_purchasable||e.is_quotable)}function oe(){ce.find(".mti-modal").on("scroll",le),e(window).on("resize",le),setTimeout(le,250)}function le(){var t=ce.find(".modal__body"),n=ce.find(".modal__footer"),a=t[0].getBoundingClientRect(),i=Math.ceil(e(window).height()-a.height-a.top);n.css({transform:"translateY("+(i<0?i:0)+"px)",transition:"all .15s ease"})}var ce,ue,de,pe=e("body");e.fn.positionRelativeTo=function(t){var n,a=e(this),i=a.offsetParent(),s=a.position()
;return t?"BODY"==i.get(0).tagName?s:e(t,i).length?s:i[0]==e(t)[0]?s:(n=i.positionRelativeTo(t),s.top+=n.top,s.left+=n.left,s):s};var he=function(t,a,i){var s,o,l,S,y,A,O,R,j=W(t),V=e.Deferred(),Y=!1,G=t.quotas_data_by_license_type_id,B=t.currency_data_by_license_type_id,q=K(G,B),z=t.taxes,Z=Object.keys(j).length>1,X=e.extend({"components/bulkSelectionModal/columnLicenseDetails":b,"components/bulkSelectionModal/columnLicensePrice":T,"components/bulkSelectionModal/columnTotalPrices":I,"components/bulkSelectionModal/assetsTable":v,"components/bulkSelectionModal/tabsHeaderItem":C,"components/bulkSelectionModal/taxesDetailsTemplate":L,"modalWindow/fieldInputValidator":g,"modalWindow/licenseTransferFieldSet":h.template,"modalWindow/licenseReferencesFieldSet":f.template,"modalWindow/quoteDetailsFieldSet":m.template},a||{}),re={title:t.title||n.gettext("FILE::Confirm Licensing"),assets:j,credit_card_purchase_enabled:u.hasEnterpriseCreditCardPurchaseEnabled(),display_totals_with_taxes:ae(G,B,z),assets_selectable:t.assets_selectable&&Z,display_art_buyers:t.display_art_buyers,display_edit_all_disclaimer:Z&&!t.display_quote_details,display_license_comments:!e.isEmptyObject(i),display_nb_comments:i&&i.data.comments.length,display_license_transfer:t.can_license_transfer,display_license_transfer_as_one_column:!0,display_quote_details:t.display_quote_details,ingest_subcategory:t.data_ingest_subcategory||null};return ie(re,t.license_references),se(re),ce=e('<div style="display: none;"></div>'),ce.html(E(re,{partials:X})),Q(j,G,B,z,ce,t.is_quotes_modal),O=ce.find(".js-modal-bulk-selection-tooltip"),pe.addClass("overflow-hidden"),ce.on("click",".js-modal-license-dropdown",function(){var t,n,a=e(this);a.hasClass("disabled")||(n=a.attr("data-rel"),t=j[n],O.html(F({id:n,default_license_id:t.default_license_id,licenses:ee(t)})),Y=!0,H(O,a,"tooltip--secondary tooltip--bottom",10+a.height(),a.width()/2))}).on("click",".js-modal-asset-license-radio",function(){var n=e(this),a=n.attr("data-rel"),i=n.val(),s=J(j[a],i),r=s;r.display_license_price=t.is_quotes_modal||!s.is_additional_licensing_disabled,Y=!1,j[a].default_license_id=i,O.attr("data-is-hidden",!0),e('.js-modal-license-dropdown[data-rel="'+a+'"').html(b(s)),e('.js-modal-license-price[data-rel="'+a+'"').html(T(r)),Q(j,G,B,z,ce,t.is_quotes_modal)}).on("click",function(t){e(t.target).closest(".js-modal-license-dropdown").length||e(t.target).closest(".js-modal-bulk-selection-tooltip").length||(Y=!1,O.attr("data-is-hidden",!0))}).on("mouseover",".js-modal-icon-alert",function(){var n,a,i,s=e(this),r=s.attr("data-rel"),o=s.attr("data-is-total-quota-error"),l=t.is_quotes_modal?k:x;o?O.html(l({total_quota:q[r]})):(n=j[r],i=J(n,n.default_license_id),a=!!G[i.license_type_id],O.html(w({asset_is_not_purchasable:!n.is_purchasable,asset_disabled:a&&n.is_purchasable&&!n.is_allowed_and_purchasable,quota_unavailable:!a}))),Y=!0,H(O,s,"tooltip--error tooltip--bottom",26,8)}).on("click",".js-modal-asset-toggle-remove",function(){var n=e(this),a=n.attr("data-rel");j[a].is_removed=!j[a].is_removed,j[a].is_removed?(ce.find(".js-modal-tr-"+a).addClass("is-removed"),n.attr("data-t","add-back-to-selection-button"),y&&y.disableItem(a)):(ce.find(".js-modal-tr-"+a).removeClass("is-removed"),n.attr("data-t","remove-from-selection-button"),y&&y.enableItem(a)),Q(j,G,B,z,ce,t.is_quotes_modal)}).on("mouseover",".js-modal-asset-toggle-remove",function(){var t=e(this),n=t.attr("data-rel");O.html(j[n].is_removed?D:N),Y=!0,H(O,e(this),"tooltip--primary tooltip--top",-10,8)}).on("mouseover",".js-modal-asset-request-info-status",function(){var t=e(this),n=t.attr("data-rel");O.html(c.isItemDataFulFilled(n)?M:P),Y=!0,H(O,e(this),"tooltip--primary tooltip--top",-10,8)}).on("mouseout",".js-modal-icon-alert, .js-modal-asset-toggle-remove, .js-modal-asset-request-info-status",function(){Y=!1,O.attr("data-is-hidden",!0)}),ce.find(".modal-bulk-selection-assets-wrapper").on("scroll",function(e){Y&&(O.attr("data-is-hidden",!0),Y=!1)}),ce.find(".js-modal-hide-modal").click(function(){ne(),V.reject()}),re.display_license_references&&(l=new f.init(ce)),re.display_license_transfer&&(o=new h.init(ce)),re.display_quote_details&&(S=new m.init(ce)),re.display_art_buyers&&(de=new _(ce.find(".js-artbuyer-select-form-container"),n.gettext("LICENSE::REQUEST::Select art buyer(s)"),c.formatApproversData(t.approvers,t.license_requests),!0)),e.isEmptyObject(i)||(A=new r(ce.find(".js-license-comments-wrapper"),i.data,i.actions),A.onDataChanged(function(e){p.updateCountDisplay(ce.find(".js-comments-count-label"),e.comments.length)})),t.license_requests&&(y=new d({classNameSelected:"table__tr--selected",elementSelector:".js-modal-table-asset-row",toggleAllSelector:".js-modal-bulk-selection-all-checkbox",elementCheckboxSelector:".js-modal-table-asset-checkbox"},ce),c.init(t,ce,y,l,o,de)),s=U(ce,".js-modal-bulk-selection-tabs"),R=ce.find(".js-modal-licensing-bulk-form"),ue=function(e){var n={},a=Q(j,G,B,z,ce,t.is_quotes_modal);return re.display_license_references&&(te(l,n,s,"license_references","license_references",e)||(a=!0)),re.display_license_transfer&&(te(o,n,s,"license_transfer","license_transfer",e)||(a=!0)),re.display_art_buyers&&(te(de,n,s,"approvers","license_references",e)||(a=!0)),re.display_quote_details&&(te(S,n,s,"quote","quote_details",e)||(a=!0)),A&&i.data.draftMode&&(n.comments=A.getData().comments.reduce(function(e,t){return e.push(t.comment),e},[])),t.license_requests?(y.reset(),c.isFulfilled()?n={license_requests:c.getFormData(t.license_requst_action)}:a=!0):n.assets=$(j),{fulfilled:!a,data:n}},R.submit(function(e){var t={};e.preventDefault(),e.stopPropagation(),t=ue(!0),t.fulfilled&&V.resolve(t.data)}),pe.append(ce),ce.show(),oe(),V.promise()};return{showBulkLicense:function(t,n){var a,r=e.Deferred();return he(t,{footerButtonsTemplate:y}).then(function(t){a.attr("disabled",!0),a.attr("data-is-loading",!0),n&&e.isFunction(n)&&n(t),s.post(i.base_url+"/Download/Ajax/CreateAndDownloadBulk",t).done(function(e){e&&e.member&&e.assets?r.resolve(e.assets,e.member):r.reject(!0)}).fail(function(){r.reject(!0)})}).fail(function(){r.reject()}),a=ce.find(".js-modal-button-license"),r.promise()},showRequestLicense:function(t,a){var r,o,l=i.base_url+"/Ajax/license-requests/",u=!t.hasOwnProperty("commentsInDraftMode")||t.commentsInDraftMode,d=e.Deferred(),a=a||{},p=function(e){r.attr("disabled",!0),o.attr("disabled",!0),s.post(a.endPoint?a.endPoint:l,e).done(function(e){d.resolve(e)}).fail(function(){d.reject(!0)})};return e.extend(t,{display_art_buyers:!0,can_license_transfer:!1,title:n.gettext("FILE::License Request"),assets_selectable:a.assetsAreSelectable}),he(t,{footerButtonsTemplate:A},c.buildCommentsObjectForModal(u,t.comments)).then(function(e){o.attr("data-is-loading",!0),p(e)}).fail(function(){d.reject()}),o=ce.find(".js-modal-button-send-request"),r=ce.find(".js-modal-button-save-request"),r.on("click",function(e){var t=ue();e.preventDefault(),t.data.save_draft=!0,r.attr("data-is-loading",!0),p(t.data)}),d.promise()},showEditRequestLicense:function(t){var a,r=e.Deferred();return e.extend(t,{can_license_transfer:!1,display_art_buyers:!0,title:n.gettext("FILE::Edit request(s)"),assets_selectable:!0}),he(t,{footerButtonsTemplate:O},c.buildCommentsObjectForModal(!1,t.comments)).then(function(e){e.notify=ce.find(".js-modal-license-request-notify-checkbox").prop("checked"),a.attr("disabled",!0),a.attr("data-is-loading",!0),s.post(i.base_url+"/Ajax/license-requests/edit",e).done(function(e){r.resolve(e)}).fail(function(){r.reject(!0)})}).fail(function(){r.reject()}),a=ce.find(".js-modal-button-update-request"),r.promise()},showApproveRequestLicense:function(t){var n,a=e.Deferred();return e.extend(t,{assets_selectable:!0,role_approver:!0,license_requst_action:l.LICENSE_REQUESTS.ACTIONS.APPROVE}),he(t,{footerButtonsTemplate:S},c.buildCommentsObjectForModal(!1,t.comments)).then(function(e){n.attr("disabled",!0),n.attr("data-is-loading",!0),s.post(i.base_url+"/Ajax/license-requests/approve",e).done(function(e){a.resolve(e)}).fail(function(){a.reject(!0)})}).fail(function(){a.reject()}),n=ce.find(".js-modal-button-approve-request"),a.promise()},showGenerateQuote:function(t){var a,r=e.Deferred();return e.extend(t,{is_quotes_modal:!0,can_license_transfer:!1,display_art_buyers:!1,display_quote_details:!0,license_references:!1,title:n.gettext("MODAL::QUOTES::Download a Quote"),assets_selectable:!1}),he(t,{footerButtonsTemplate:R}).then(function(e){a.attr("disabled",!0),a.attr("data-is-loading",!0),s.post(i.base_url+"/Ajax/Quote/Create",e).done(function(e){r.resolve(e)}).fail(function(){r.reject(!0)})}).fail(function(){r.reject()}),a=ce.find(".js-modal-button-generate-quote"),r.promise()},hide:ne}}),define("quickerCheckout/analytics/dunamis/events/dunamisLicenseEvent",["quickerCheckout/analytics/dunamis/dunamisCatchWrapper","lib/analytics/dunamis","lodash","lib/member","quickerCheckout/analytics/dunamis/dunamisUtils","page_config"],function(e,t,n,a,i,s){"use strict";function r(a,r){e.execFunction(function(){var e;if(!n.isObject(a))throw Error("Purchase eventData must be an object");e={"content.id":a.contentId,"stk.license.id":a.licenseId,"stk.license.plan.quota_total":a.subscriptionPlanTotalQuota,"stk.license.plan.quota_used":a.subscriptionPlanUsedQuota,"stk.license.creditpack.quota_total":a.creditPackTotalQuota,"stk.license.creditpack.quota_used":a.creditPackUsedQuota},s.isFreeEnabled&&(e["stk.license.plan.free_daily_quota_total"]=a.freeDailyTotalQuota,e["stk.license.plan.free_daily_quota_used"]=a.freeDailyUsedQuota,e["stk.user.free_licenses_total"]=a.totalFreeLicenses),a.downloadPackType&&(e["stk.license.download_pack_type"]=a.downloadPackType),e[t.constants.STOCK_USER_QUOTA_BALANCE]=a.subscriptionPlanAvailableQuota,e[t.constants.STOCK_USER_CREDIT_BALANCE]=a.creditPackAvailableQuota,e[t.constants.EVENT_WORKFLOW_PROPERTY]=t.constants.STOCK_CHECKOUT,e[t.constants.EVENT_USER_GUID_PROPERTY]=a.userGuid,e[t.constants.EVENT_SUBCATEGORY_PROPERTY]=a.eventSubcategory,i.trackWrapper("license",a.eventSubtype,e,null,r)},"error-license-event","license-event")}function o(e){var t;if(!n.isObject(e))throw Error("state must be an object");return t={userGuid:a.getGuid(),eventSubtype:"license-"+(n.get(e,"asset_details.asset_type")?e.asset_details.asset_type.toLowerCase():void 0),eventSubcategory:e.id,contentId:n.get(e,"asset_details.content_id"),licenseId:e.license_id,subscriptionPlanUsedQuota:e.is_plan_quota_used?1:0,creditPackUsedQuota:n.get(e,"credit_pack_info.asset_credit_cost")},l(t,e.member),t}function l(e,t){e.subscriptionPlanAvailableQuota=n.get(t,"default_entitlement.total_quota_available"),e.subscriptionPlanTotalQuota=n.get(t,"default_entitlement.total_subscription_plan_quota"),e.creditPackAvailableQuota=n.get(t,"default_entitlement.available_credit_pack_quota"),e.creditPackTotalQuota=n.get(t,"default_entitlement.total_credit_packs_quota"),e.freeDailyTotalQuota=n.get(t,"default_entitlement.total_free_daily_quota"),e.freeDailyUsedQuota=n.get(t,"default_entitlement.used_free_daily_quota"),e.totalFreeLicenses=n.get(t,"default_entitlement.total_free_licenses")}function c(e,t){var i,r="license-"+e.asset_type.toLowerCase();if(!n.isObject(t))throw Error("licenseData must be an object");return s.isFreeEnabled&&e.is_free&&(r+="-free"),i={userGuid:a.getGuid(),eventSubtype:r,eventSubcategory:"search",contentId:e.content_id,licenseId:t.license_id,subscriptionPlanUsedQuota:t.is_plan_quota_used?1:0,creditPackUsedQuota:n.get(t,"credit_pack_info.asset_credit_cost"),downloadPackType:e.download_pack_type},l(i,t.member),i}return{send:r,getEventDataFromState:o,getEventDataFromLicenseAPI:c}}),define("lib/organization/licensing",["i18n","i18n-config","jquery","app/actions/detailsActions","app/client","app/utils/librariesToast","app/stock-portal","lib/ajax","lib/analytics","lib/assetDownloader","lib/assetSave","lib/assetsStore","lib/bulkSelectionModal","lib/error","lib/license","lib/librariesStore","lib/member","lib/modal-window","lib/organization","lib/uiEvents","lib/utils","page_config","quickerCheckout/analytics/dunamis/events/dunamisLicenseEvent","app/constants/dunamis","app/constants/analytics"],function(e,t,n,a,i,s,r,o,l,c,u,d,p,h,f,_,m,E,g,v,b,T,I,S,y){"use strict";function A(e){return e&&h.displayShortErrorModal(e)}function O(e,t){I.send(I.getEventDataFromLicenseAPI(e,{license_id:e.license_id,member:t}),{finding_method:l.determineFindingMethod(),selection_method:l.getSelectionMethod()})}function R(e,t){var a,i=!n.isEmptyObject(t.license_transfer),s=!e.downloaded||e.display_as_unlicensed,r=e.license_details[t.license_id]||{};return n.isArray(e.license_transfers)||(e.license_transfers=[]),a=n.extend(e,t||{}),a.downloaded=a.licensed=!0,a.display_as_unlicensed=s&&i,e.license_details[t.license_id]=r,i?(r.hasOwnProperty("has_all_licenses_transferred")||(e.license_details[t.license_id].has_all_licenses_transferred=!0),a.license_transfers.push(e.license_transfer)):e.license_details[t.license_id].has_all_licenses_transferred=!1,a}function C(a,i,s){var r,o,l=n.Deferred(),c=[];return n.each(i,function(e,t){if(r=t.content_id,!t.bulk_purchase_ok)return void c.push(r);o=R(a.contents_data[r],t),a.contents_data[r]=o,L(o,t.license_id),D(o,s)}),N(s),c.length?l.reject(e.sprintf(t.gettext("GENERIC::Sorry, we have been unable to license the following assets: %s"),c.join(", "))):l.resolve(a,s),l}function L(e,t){d.addAsset(e.content_id,e),d.setAssetDownloadedInCache(e.content_id,t)}function D(e,t){z?r.enterpriseLicensingDone({asset:e,licenseId:e.license_id}):(v.trigger(v.ASSET_LICENSED,{contentId:e.content_id,downloaded:e.downloaded,display_as_unlicensed:e.display_as_unlicensed,transferData:e.license_transfers}),Q.dispatch(a.contentLicensed(e.content_id,e.license_id))),O(e,t)}function N(e){n.isEmptyObject(e.default_entitlement)||m.updateDefaultEntitlement(e.default_entitlement)}function P(){return n.Deferred().reject()}function M(e,t,a){var i,s,r,o=n.Deferred();return t&&t.content_ids&&1===t.content_ids.length?(s=t.content_ids[0],i=e&&e.contents_data&&e.contents_data[s],r=t.selected_license_ids&&t.selected_license_ids[s],G(e,s,r,a)?o.resolve(e):w(i,r,e).then(function(){o.resolve(e)}).fail(function(e){m.hasEnterpriseCreditCardPurchaseEnabled()&&g.isOrganizationErrorKey(e)?o.reject(e):(e&&E.displayOrganizationErrorModal(e),o.reject())})):o.resolve(e),o}function w(e,t,a){var i,s,r,o=a.quotas_data_by_license_type_id,l=n.Deferred();if(e.is_not_allowed_by_org_admin)return l.reject(g.ERROR_KEY_CONTENT_TYPE_DENIED_BY_ADMIN);if(!e.is_allowed_and_purchasable)return l.reject(g.ERROR_KEY_ENTERPRISE_UPGRADE_ASSET);if(e.is_additional_licensing_disabled&&f.isAlreadyLicensed(e.content_id,e,t))return E.showAdditionalLicensingDisabledModal().then(function(){return c.getDownloadUrlAndTriggerOrPromptDownload(e.content_id,t).then(function(){return l.reject()})});if(!e.is_free&&!e.is_bundle_licensable){if(t=n.inArray(t,e.possible_licenses||[])>=0?t:e.default_license_id,i=e.license_details&&e.license_details[t]||{},s=i.license_type_id,!(r=o&&o[s]))return l.reject(g.ERROR_KEY_ENTERPRISE_QUOTA_UNAVAILABLE);if(r.is_organization_out_of_quota)return l.reject(a.is_cce_trial?g.ERROR_KEY_ENTERPRISE_TRIAL_NO_LICENSES:g.ERROR_KEY_ENTERPRISE_OVERAGE_DISABLED_NO_LICENSES);if(i.quota>r.quota)return l.reject(g.getNotEnoughQuotaErrorKeyByQuotaType(r.label_type))}return l.resolve()}function x(e,t,a){var i=n.Deferred(),s=T.base_url+"/Ajax/Content/bulklicensingdata",r={content_ids:e,selected_license_ids:n.isEmptyObject(t)?null:t};return o.post(s,r).done(function(e){M(e,r,a).then(i.resolve).fail(i.reject)}).fail(function(){i.reject(Z)}),i}function k(e){return o.post(T.base_url+"/Download/Ajax/CreateAndDownloadBulk",{assets:e})}function F(e){return p.showBulkLicense(e).then(function(t,n){return C(e,t,n)}).always(p.hide)}function U(e,t,a,i,s){return x(e,t,s).then(function(e){return n.isFunction(a)?a(e):n.Deferred().resolve(e)}).then(function(e){return e.by_pass_modal_usage?e:F(e)}).then(function(e,t){return n.isFunction(i)?i(e,t):n.Deferred().resolve(e,t)}).fail(function(e){g.isOrganizationErrorKey(e)&&m.hasEnterpriseCreditCardPurchaseEnabled()||A(e)})}function H(e,t,a,i,s){var r={};return n.isNumeric(t)&&(r[e]=t),a=a||function(n){return B(n,e,t,s)},U([e],r,a,i,s)}function j(e,t,n){var a=e&&e.contents_data||{},i=a[t];return f.isAlreadyLicensed(t,i,n)}function V(e,t,n,a){var a=a||{};return j(e,t,n)&&a.libId===_.LIBRARY_DESKTOP_ID&&a.action!==f.ACTION_RE_LICENSE}function Y(e,t,n,a){var a=a||{};return j(e,t,n)&&b.isValidOpenInAction(a.openInAction)}function G(e,t,n,a){return Y(e,t,n,a)||V(e,t,n,a)}function B(e,t,a,i){var s=e.contents_data[t],a=a||s.default_license_id;return Y(e,t,a,i)?(_.openAssetInSelectedApp(s,i.openInAction),P()):V(e,t,a,i)?c.getDownloadUrlAndTriggerOrPromptDownload(t,a).then(function(){return P()}):s.is_directly_licensable?(e.by_pass_modal_usage=!0,k([{content_id:t,license_id:a,relicense:j(e,t,a)}]).then(function(n){var i=n.assets[0],s=R(e.contents_data[t],{download_url:i.download_url,license_id:i.license_id||a,download_pack_type:i.download_pack_type||null});return L(s,a),D(s,n.member),N(n.member),e.contents_data[t]=s,e})):n.Deferred().resolve(e)}function q(e,t){var n=t.contentId,a=t.action||f.ACTION_LICENSE,i=t.libId||null,r=t.libName||null,o=t.openInAction||null,l=b.isValidOpenInAction(o),d=T.isPhoenixEnabled?s.isAutoDownloadEnabled():i===_.LIBRARY_DESKTOP_ID;v.trigger(v.DETAIL_BUTTON.UPDATE_STATE,{action:a,lib_name:r,lib_id:i,app_action:o,contentId:n,isDownloaded:d}),b.updateDefaultLibrary(_,i,o,null,r),i&&u.saveToDefaultLib({content_id:e.content_id},a),l&&_.openAssetInSelectedApp(e,o),d&&c.triggerOrPromptDownload(e.download_url,e.format,e.is_vector)}function W(e){var t=e.contentId,n=e.licenseId||f.getLicenseId(t);return H(t,n,function(a){return B(a,t,n,e)},function(n){return q(n.contents_data[t],e)},e)}function K(e){z=!0;var t=e.licenseId;H(e.contentId,t,null,function(n){var a=t||n.contents_data[e.contentId].default_license_id;c.getDownloadUrlAndTriggerOrPromptDownload(e.contentId,a)},e).fail(function(n){if(g.isOrganizationErrorKey(n)&&m.hasEnterpriseCreditCardPurchaseEnabled()){var a={contentId:e.contentId,licenseId:t,dunamisTrackingData:{}};return a.dunamisTrackingData[S.PROPERTIES.CHECKOUT.SELECTION_METHOD]=y.SELECTION_DETAIL,r.startCheckout(a)}}).always(function(){r.enterpriseLicensingDone(),z=!1})}var z=!1,Q=i.getInstance(),Z=t.gettext("GENERIC::We weren't able to complete your request. Please try again");return{isEnabled:function(){var e=m.getDefaultEntitlement();return T.isEnterpriseBulkLicensingModalEnabled&&e&&e.is_cce},license:k,processLicensing:H,processBulkLicensing:U,processLicensingForMosaicUi:W,processStockPortalLicensing:K}}),define("app/init",["jquery","page_config","lib/analytics/dunamis","quickerCheckout/adobestock/handlers","lib/assetDownloader","app/stock-portal","lib/organization/licensing"],function(e,t,n,a,i,s,r){"use strict";function o(){e(window).on("stock-portal-track",function(t,a,i,s){n.track(a,i,s,e("body"))})}function l(){window.addEventListener("portal:finishPurchase",function(e){a.onFinishPurchase(e.detail)})}function c(){window.addEventListener("portal:downloadAsset",function(e){a.onDownloadAsset(e.detail)}),window.addEventListener("portal:redownloadForFree",function(e){i.getDownloadUrlAndTriggerOrPromptDownload(e.detail.contentId,e.detail.licenseId).then(s.redownloadForFreeComplete).fail(s.redownloadForFreeError)})}function u(){window.addEventListener("portal:enterpriseLicensing",function(e){r.processStockPortalLicensing(e.detail)})}function d(){window.addEventListener("portal:addAssetToLibrary",function(e){a.onAddAssetToLibrary(e.detail)})}function p(){t.member&&s.renderFollowCardsHomepage(t.member.member_id)}function h(){e(window).on("portal:initialized",s.onPortalInitialized)}function f(){t.contributorId&&s.renderFollowToggleButton(t.contributorId)}function _(){h(),o(),l(),c(),d(),u(),f(),p()}return{initializeStockWebPortalListeners:_}}),define("app/actions/searchParamsActions",["jquery","page_config","app/actions/actionTypes","app/constants/assetTypeFilters","app/actions/searchActions","app/ajax/search","app/constants/searchFilters","app/utils/searchData"],function(e,t,n){"use strict";function a(e,t){return{option:e,isSelected:t,type:n.UPDATE_IMAGE_SUBCATEGORY_FILTER}}function i(e){return{keyword:e,type:n.UPDATE_KEYWORD}}function s(e){return{filter:e,type:n.TOGGLE_FILTER_IS_MINIMIZED}}function r(e){return{assetTypeState:e,type:n.UPDATE_ASSET_TYPE_STATE}}return{toggleFilterIsMinimized:s,updateAssetTypeState:r,updateImageSubcategoryFilter:a,updateKeyword:i}}),function(e){"function"==typeof define&&define.amd?define("vendor/jquery/jquery.minicolors.min",["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";function t(t,n){var a,i,s,r,o,c=e('<div class="minicolors" />'),u=e.minicolors.defaults;if(!t.data("minicolors-initialized")){if(n=e.extend(!0,{},u,n),c.addClass("minicolors-theme-"+n.theme).toggleClass("minicolors-with-opacity",n.opacity),void 0!==n.position&&e.each(n.position.split(" "),function(){c.addClass("minicolors-position-"+this)}),a="rgb"===n.format?n.opacity?"25":"20":n.keywords?"11":"7",t.addClass("minicolors-input").data("minicolors-initialized",!1).data("minicolors-settings",n).prop("size",a).wrap(c).after('<div class="minicolors-panel minicolors-slider-'+n.control+'"><div class="minicolors-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-opacity-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-grid minicolors-sprite"><div class="minicolors-grid-inner"></div><div class="minicolors-picker"><div></div></div></div></div>'),n.inline||(t.after('<span class="minicolors-swatch minicolors-sprite minicolors-input-swatch"><span class="minicolors-swatch-color"></span></span>'),t.next(".minicolors-input-swatch").on("click",function(e){e.preventDefault(),t.focus()})),r=t.parent().find(".minicolors-panel"),r.on("selectstart",function(){return!1}).end(),n.swatches&&0!==n.swatches.length)for(r.addClass("minicolors-with-swatches"),i=e('<ul class="minicolors-swatches"></ul>').appendTo(r),o=0;o<n.swatches.length;++o)s=n.swatches[o],s=E(s)?f(s,!0):A(h(s,!0)),e('<li class="minicolors-swatch minicolors-sprite"><span class="minicolors-swatch-color"></span></li>').appendTo(i).data("swatch-color",n.swatches[o]).find(".minicolors-swatch-color").css({backgroundColor:T(s),opacity:s.a}),n.swatches[o]=s;n.inline&&t.parent().addClass("minicolors-inline"),l(t,!1),t.data("minicolors-initialized",!0)}}function n(e){var t=e.parent();e.removeData("minicolors-initialized").removeData("minicolors-settings").removeProp("size").removeClass("minicolors-input"),t.before(e).remove()}function a(e){var t=e.parent(),n=t.find(".minicolors-panel"),a=e.data("minicolors-settings");!e.data("minicolors-initialized")||e.prop("disabled")||t.hasClass("minicolors-inline")||t.hasClass("minicolors-focus")||(i(),t.addClass("minicolors-focus"),n.stop(!0,!0).fadeIn(a.showSpeed,function(){a.show&&a.show.call(e.get(0))}))}function i(){e(".minicolors-focus").each(function(){var t=e(this),n=t.find(".minicolors-input"),a=t.find(".minicolors-panel"),i=n.data("minicolors-settings");a.fadeOut(i.hideSpeed,function(){i.hide&&i.hide.call(n.get(0)),t.removeClass("minicolors-focus")})})}function s(e,t,n){var a,i,s,o,l=e.parents(".minicolors").find(".minicolors-input"),c=l.data("minicolors-settings"),u=e.find("[class$=-picker]"),d=e.offset().left,p=e.offset().top,h=Math.round(t.pageX-d),f=Math.round(t.pageY-p),_=n?c.animationSpeed:0;t.originalEvent.changedTouches&&(h=t.originalEvent.changedTouches[0].pageX-d,f=t.originalEvent.changedTouches[0].pageY-p),h<0&&(h=0),f<0&&(f=0),h>e.width()&&(h=e.width()),f>e.height()&&(f=e.height()),e.parent().is(".minicolors-slider-wheel")&&u.parent().is(".minicolors-grid")&&(a=75-h,i=75-f,s=Math.sqrt(a*a+i*i),o=Math.atan2(i,a),o<0&&(o+=2*Math.PI),s>75&&(s=75,h=75-75*Math.cos(o),f=75-75*Math.sin(o)),h=Math.round(h),f=Math.round(f)),e.is(".minicolors-grid")?u.stop(!0).animate({top:f+"px",left:h+"px"},_,c.animationEasing,function(){r(l,e)}):u.stop(!0).animate({top:f+"px"},_,c.animationEasing,function(){r(l,e)})}function r(e,t){function n(e,t){var n,a;return e.length&&t?(n=e.offset().left,a=e.offset().top,{x:n-t.offset().left+e.outerWidth()/2,y:a-t.offset().top+e.outerHeight()/2}):null}var a,i,s,r,l,u,d,p=e.val(),h=e.attr("data-opacity"),f=e.parent(),_=e.data("minicolors-settings"),E=f.find(".minicolors-input-swatch"),g=f.find(".minicolors-grid"),v=f.find(".minicolors-slider"),b=f.find(".minicolors-opacity-slider"),T=g.find("[class$=-picker]"),S=v.find("[class$=-picker]"),y=b.find("[class$=-picker]"),A=n(T,g),O=n(S,v),R=n(y,b);if(t.is(".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider")){switch(_.control){case"wheel":r=g.width()/2-A.x,l=g.height()/2-A.y,u=Math.sqrt(r*r+l*l),d=Math.atan2(l,r),d<0&&(d+=2*Math.PI),u>75&&(u=75,A.x=69-75*Math.cos(d),A.y=69-75*Math.sin(d)),i=m(u/.75,0,100),a=m(180*d/Math.PI,0,360),s=m(100-Math.floor(O.y*(100/v.height())),0,100),p=I({h:a,s:i,b:s}),v.css("backgroundColor",I({h:a,s:i,b:100}));break;case"saturation":a=m(parseInt(A.x*(360/g.width()),10),0,360),i=m(100-Math.floor(O.y*(100/v.height())),0,100),s=m(100-Math.floor(A.y*(100/g.height())),0,100),p=I({h:a,s:i,b:s}),v.css("backgroundColor",I({h:a,s:100,b:s})),f.find(".minicolors-grid-inner").css("opacity",i/100);break;case"brightness":a=m(parseInt(A.x*(360/g.width()),10),0,360),i=m(100-Math.floor(A.y*(100/g.height())),0,100),s=m(100-Math.floor(O.y*(100/v.height())),0,100),p=I({h:a,s:i,b:s}),v.css("backgroundColor",I({h:a,s:i,b:100})),f.find(".minicolors-grid-inner").css("opacity",1-s/100);break;default:a=m(360-parseInt(O.y*(360/v.height()),10),0,360),i=m(Math.floor(A.x*(100/g.width())),0,100),s=m(100-Math.floor(A.y*(100/g.height())),0,100),p=I({h:a,s:i,b:s}),g.css("backgroundColor",I({h:a,s:100,b:100}))}h=_.opacity?parseFloat(1-R.y/b.height()).toFixed(2):1,o(e,p,h)}else E.find("span").css({backgroundColor:p,opacity:h}),c(e,p,h)}function o(e,t,n){var a,i=e.parent(),s=e.data("minicolors-settings"),r=i.find(".minicolors-input-swatch");s.opacity&&e.attr("data-opacity",n),"rgb"===s.format?(a=E(t)?f(t,!0):A(h(t,!0)),n=""===e.attr("data-opacity")?1:m(parseFloat(e.attr("data-opacity")).toFixed(2),0,1),!isNaN(n)&&s.opacity||(n=1),t=e.minicolors("rgbObject").a<=1&&a&&s.opacity?"rgba("+a.r+", "+a.g+", "+a.b+", "+parseFloat(n)+")":"rgb("+a.r+", "+a.g+", "+a.b+")"):(E(t)&&(t=b(t)),t=p(t,s.letterCase)),e.val(t),r.find("span").css({backgroundColor:t,opacity:n}),c(e,t,n)}function l(t,n){var a,i,s,r,o,l,u,d,v,T,y=t.parent(),A=t.data("minicolors-settings"),O=y.find(".minicolors-input-swatch"),R=y.find(".minicolors-grid"),C=y.find(".minicolors-slider"),L=y.find(".minicolors-opacity-slider"),D=R.find("[class$=-picker]"),N=C.find("[class$=-picker]"),P=L.find("[class$=-picker]");switch(E(t.val())?(a=b(t.val()),(o=m(parseFloat(g(t.val())).toFixed(2),0,1))&&t.attr("data-opacity",o)):a=p(h(t.val(),!0),A.letterCase),a||(a=p(_(A.defaultValue,!0),A.letterCase)),i=S(a),r=A.keywords?e.map(A.keywords.split(","),function(t){return e.trim(t.toLowerCase())}):[],l=""!==t.val()&&e.inArray(t.val().toLowerCase(),r)>-1?p(t.val()):E(t.val())?f(t.val()):a,n||t.val(l),A.opacity&&(s=""===t.attr("data-opacity")?1:m(parseFloat(t.attr("data-opacity")).toFixed(2),0,1),isNaN(s)&&(s=1),t.attr("data-opacity",s),O.find("span").css("opacity",s),d=m(L.height()-L.height()*s,0,L.height()),P.css("top",d+"px")),"transparent"===t.val().toLowerCase()&&O.find("span").css("opacity",0),O.find("span").css("backgroundColor",a),A.control){case"wheel":v=m(Math.ceil(.75*i.s),0,R.height()/2),T=i.h*Math.PI/180,u=m(75-Math.cos(T)*v,0,R.width()),d=m(75-Math.sin(T)*v,0,R.height()),D.css({top:d+"px",left:u+"px"}),d=150-i.b/(100/R.height()),""===a&&(d=0),N.css("top",d+"px"),C.css("backgroundColor",I({h:i.h,s:i.s,b:100}));break;case"saturation":u=m(5*i.h/12,0,150),d=m(R.height()-Math.ceil(i.b/(100/R.height())),0,R.height()),D.css({top:d+"px",left:u+"px"}),d=m(C.height()-i.s*(C.height()/100),0,C.height()),N.css("top",d+"px"),C.css("backgroundColor",I({h:i.h,s:100,b:i.b})),y.find(".minicolors-grid-inner").css("opacity",i.s/100);break;case"brightness":u=m(5*i.h/12,0,150),d=m(R.height()-Math.ceil(i.s/(100/R.height())),0,R.height()),D.css({top:d+"px",left:u+"px"}),d=m(C.height()-i.b*(C.height()/100),0,C.height()),N.css("top",d+"px"),C.css("backgroundColor",I({h:i.h,s:i.s,b:100})),y.find(".minicolors-grid-inner").css("opacity",1-i.b/100);break;default:u=m(Math.ceil(i.s/(100/R.width())),0,R.width()),d=m(R.height()-Math.ceil(i.b/(100/R.height())),0,R.height()),D.css({top:d+"px",left:u+"px"}),d=m(C.height()-i.h/(360/C.height()),0,C.height()),N.css("top",d+"px"),R.css("backgroundColor",I({h:i.h,s:100,b:100}))}t.data("minicolors-initialized")&&c(t,l,s)}function c(e,t,n){var a,i,s,r=e.data("minicolors-settings"),o=e.data("minicolors-lastChange");if(!o||o.value!==t||o.opacity!==n){if(e.data("minicolors-lastChange",{value:t,opacity:n}),r.swatches&&0!==r.swatches.length){for(a=E(t)?f(t,!0):A(t),i=-1,s=0;s<r.swatches.length;++s)if(a.r===r.swatches[s].r&&a.g===r.swatches[s].g&&a.b===r.swatches[s].b&&a.a===r.swatches[s].a){i=s;break}e.parent().find(".minicolors-swatches .minicolors-swatch").removeClass("selected"),-1!==i&&e.parent().find(".minicolors-swatches .minicolors-swatch").eq(s).addClass("selected")}r.change&&(r.changeDelay?(clearTimeout(e.data("minicolors-changeTimeout")),e.data("minicolors-changeTimeout",setTimeout(function(){r.change.call(e.get(0),t,n)},r.changeDelay))):r.change.call(e.get(0),t,n)),e.trigger("change").trigger("input")}}function u(t){var n,a=e(t).attr("data-opacity");if(E(e(t).val()))n=f(e(t).val(),!0);else{n=A(h(e(t).val(),!0))}return n?(void 0!==a&&e.extend(n,{a:parseFloat(a)}),n):null}function d(t,n){var a,i=e(t).attr("data-opacity");if(E(e(t).val()))a=f(e(t).val(),!0);else{a=A(h(e(t).val(),!0))}return a?(void 0===i&&(i=1),n?"rgba("+a.r+", "+a.g+", "+a.b+", "+parseFloat(i)+")":"rgb("+a.r+", "+a.g+", "+a.b+")"):null}function p(e,t){return"uppercase"===t?e.toUpperCase():e.toLowerCase()}function h(e,t){return e=e.replace(/^#/g,""),e.match(/^[A-F0-9]{3,6}/gi)?3!==e.length&&6!==e.length?"":(3===e.length&&t&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),"#"+e):""}function f(e,t){var n=e.replace(/[^\d,.]/g,""),a=n.split(",");return a[0]=m(parseInt(a[0],10),0,255),a[1]=m(parseInt(a[1],10),0,255),a[2]=m(parseInt(a[2],10),0,255),a[3]&&(a[3]=m(parseFloat(a[3],10),0,1)),t?a[3]?{r:a[0],g:a[1],b:a[2],a:a[3]}:{r:a[0],g:a[1],b:a[2]}:void 0!==a[3]&&a[3]<=1?"rgba("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")":"rgb("+a[0]+", "+a[1]+", "+a[2]+")"}function _(e,t){return E(e)?f(e):h(e,t)}function m(e,t,n){return e<t&&(e=t),e>n&&(e=n),e}function E(e){var t=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return!(!t||4!==t.length)}function g(e){return e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+(\.\d{1,2})?|\.\d{1,2})[\s+]?/i),e&&6===e.length?e[4]:"1"}function v(e){var t={},n=Math.round(e.h),a=Math.round(255*e.s/100),i=Math.round(255*e.b/100);if(0===a)t.r=t.g=t.b=i;else{var s=i,r=(255-a)*i/255,o=n%60*(s-r)/60;360===n&&(n=0),n<60?(t.r=s,t.b=r,t.g=r+o):n<120?(t.g=s,t.b=r,t.r=s-o):n<180?(t.g=s,t.r=r,t.b=r+o):n<240?(t.b=s,t.r=r,t.g=s-o):n<300?(t.b=s,t.g=r,t.r=r+o):n<360?(t.r=s,t.g=r,t.b=s-o):(t.r=0,t.g=0,t.b=0)}return{r:Math.round(t.r),g:Math.round(t.g),b:Math.round(t.b)}}function b(e){return e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i),e&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}function T(t){var n=[t.r.toString(16),t.g.toString(16),t.b.toString(16)];return e.each(n,function(e,t){1===t.length&&(n[e]="0"+t)}),"#"+n.join("")}function I(e){return T(v(e))}function S(e){var t=y(A(e));return 0===t.s&&(t.h=360),t}function y(e){
var t={h:0,s:0,b:0},n=Math.min(e.r,e.g,e.b),a=Math.max(e.r,e.g,e.b),i=a-n;return t.b=a,t.s=0!==a?255*i/a:0,0!==t.s?e.r===a?t.h=(e.g-e.b)/i:e.g===a?t.h=2+(e.b-e.r)/i:t.h=4+(e.r-e.g)/i:t.h=-1,t.h*=60,t.h<0&&(t.h+=360),t.s*=100/255,t.b*=100/255,t}function A(e){return e=parseInt(e.indexOf("#")>-1?e.substring(1):e,16),{r:e>>16,g:(65280&e)>>8,b:255&e}}e.minicolors={defaults:{animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",defaultValue:"",format:"hex",hide:null,hideSpeed:100,inline:!1,keywords:"",letterCase:"lowercase",opacity:!1,position:"bottom left",show:null,showSpeed:100,theme:"default",swatches:[]}},e.extend(e.fn,{minicolors:function(s,r){switch(s){case"destroy":return e(this).each(function(){n(e(this))}),e(this);case"hide":return i(),e(this);case"opacity":return void 0===r?e(this).attr("data-opacity"):(e(this).each(function(){l(e(this).attr("data-opacity",r))}),e(this));case"rgbObject":return u(e(this));case"rgbString":case"rgbaString":return d(e(this),"rgbaString"===s);case"settings":return void 0===r?e(this).data("minicolors-settings"):(e(this).each(function(){var t=e(this).data("minicolors-settings")||{};n(e(this)),e(this).minicolors(e.extend(!0,t,r))}),e(this));case"show":return a(e(this).eq(0)),e(this);case"value":return void 0===r?e(this).val():(e(this).each(function(){"object"==typeof r&&null!==r?(r.opacity&&e(this).attr("data-opacity",m(r.opacity,0,1)),r.color&&e(this).val(r.color)):e(this).val(r),l(e(this))}),e(this));default:return"create"!==s&&(r=s),e(this).each(function(){t(e(this),r)}),e(this)}}}),e([document]).on("mousedown.minicolors touchstart.minicolors",function(t){e(t.target).parents().add(t.target).hasClass("minicolors")||i()}).on("mousedown.minicolors touchstart.minicolors",".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider",function(t){var n=e(this);t.preventDefault(),e(t.delegateTarget).data("minicolors-target",n),s(n,t,!0)}).on("mousemove.minicolors touchmove.minicolors",function(t){var n=e(t.delegateTarget).data("minicolors-target");n&&s(n,t)}).on("mouseup.minicolors touchend.minicolors",function(){e(this).removeData("minicolors-target")}).on("click.minicolors",".minicolors-swatches li",function(t){t.preventDefault();var n=e(this),a=n.parents(".minicolors").find(".minicolors-input"),i=n.data("swatch-color");o(a,i,g(i)),l(a)}).on("mousedown.minicolors touchstart.minicolors",".minicolors-input-swatch",function(t){var n=e(this).parent().find(".minicolors-input");t.preventDefault(),a(n)}).on("focus.minicolors",".minicolors-input",function(){var t=e(this);t.data("minicolors-initialized")&&a(t)}).on("blur.minicolors",".minicolors-input",function(){var t,n,a,i,s,r=e(this),o=r.data("minicolors-settings");r.data("minicolors-initialized")&&(t=o.keywords?e.map(o.keywords.split(","),function(t){return e.trim(t.toLowerCase())}):[],""!==r.val()&&e.inArray(r.val().toLowerCase(),t)>-1?s=r.val():(E(r.val())?a=f(r.val(),!0):(n=h(r.val(),!0),a=n?A(n):null),s=null===a?o.defaultValue:"rgb"===o.format?f(o.opacity?"rgba("+a.r+","+a.g+","+a.b+","+r.attr("data-opacity")+")":"rgb("+a.r+","+a.g+","+a.b+")"):T(a)),i=o.opacity?r.attr("data-opacity"):1,"transparent"===s.toLowerCase()&&(i=0),r.closest(".minicolors").find(".minicolors-input-swatch > span").css("opacity",i),r.val(s),""===r.val()&&r.val(_(o.defaultValue,!0)),r.val(p(r.val(),o.letterCase)))}).on("keydown.minicolors",".minicolors-input",function(t){var n=e(this);if(n.data("minicolors-initialized"))switch(t.keyCode){case 9:i();break;case 13:case 27:i(),n.blur()}}).on("keyup.minicolors",".minicolors-input",function(){var t=e(this);t.data("minicolors-initialized")&&l(t,!0)}).on("paste.minicolors",".minicolors-input",function(){var t=e(this);t.data("minicolors-initialized")&&setTimeout(function(){l(t,!0)},1)})}),define("lib/hbsBasicHelpers",["page_config","Handlebars","app/utils/routes","lib/hbsBasicHelpersFunctions","i18n-config"],function(e,t,n,a){"use strict";var i=function(e,t){return e?!t.fn||t.fn(this):!!t.inverse&&t.inverse(this)};return t.registerHelper("staticCdn",function(t){return e.static_base_uri+t}),t.registerHelper("ccIconFilePathBuilder",function(e,t){return e.replace("{{this}}",t.toLowerCase())}),t.registerHelper("concat",function(){var e=arguments[arguments.length-1],t=e.hash&&void 0!=e.hash.separator?e.hash.separator:"";return Array.prototype.slice.call(arguments,0,-1).join(t)}),t.registerHelper("linkOpenTag",a.linkOpenTag),t.registerHelper("linkCloseTag",a.linkCloseTag),t.registerHelper("linkBuilder",a.linkBuilder),t.registerHelper("urlConcatQuery",function(){var e=arguments[0];e||(e="");var t="?";e.indexOf(t)>=0&&(t="&");for(var n=1;n<arguments.length-1;n++)e+=t+arguments[n],t="&";return e}),t.registerHelper("adobeUrl",function(t){var n="";switch(e.base_url){case"/de":case"/at":case"/ch_de":case"/lu_de":n="/de/";break;case"/fr":case"/be_fr":case"/lu_fr":case"/ca_fr":case"/ch_fr":n="/fr/";break;case"/es":case"/mx":n="/es/";break;case"/it":case"/ch_it":n="/it/";break;case"/nl":case"/be_nl":n="/nl/";break;case"/pt":n="/pt/";break;case"/br":n="/br/";break;case"/tw":n="/zh-tw/";break;case"/ja":case"/pl":case"/ru":case"/tr":case"/fi":case"/cz":case"/kr":case"/dk":case"/no":case"/se":n=e.base_url+"/";break;default:n="/"}return"https://www.adobe.com"+n+t}),t.registerHelper("minutes",function(e){var t=parseInt(e/1e3%60),n=parseInt(e/6e4%60);return t<10&&(t="0"+t),n<10&&(n="0"+n),n+":"+t}),t.registerHelper("if-plus",function(e){var t;switch(e.hash.logic){case"more":t=e.hash.value>e.hash.tovalue;break;case"less":t=e.hash.value<e.hash.tovalue;break;case"eq":t=e.hash.value==e.hash.tovalue;break;case"notEq":t=e.hash.value!=e.hash.tovalue}return e.fn||e.inverse?t?e.fn(this):e.inverse(this):t}),t.registerHelper("price_level",function(t){var n,a={1:"",2:"",3:""},i="";if(""===e.currency_character)i=a[t];else for(n=0;n<t;n++)i+=e.currency_character;return i}),t.registerHelper("in-array",function(e){var t=e.hash.array||[],n=t.indexOf(e.hash.value)>=0;return i.call(this,n,e)}),t.registerHelper("not-in-array",function(e){var t=e.hash.array||[],n=-1===t.indexOf(e.hash.value);return i.call(this,n,e)}),t.registerHelper("all-in-array",function(){for(var e=arguments.length-2,t=arguments[e]||[],n=arguments[arguments.length-1],a=0;a<e;a++){var i=arguments[a];if(Array.isArray(i)){for(var s=0;s<i.length;s++)if(-1===t.indexOf(i[s]))return n.inverse(this)}else if(-1===t.indexOf(i))return n.inverse(this)}return n.fn(this)}),t.registerHelper("not-all-in-array",function(){for(var e=arguments.length-2,t=arguments[e]||[],n=arguments[arguments.length-1],a=0;a<e;a++){var i=arguments[a];if(Array.isArray(i)){for(var s=0;s<i.length;s++)if(-1===t.indexOf(i[s]))return n.fn(this)}else if(-1===t.indexOf(i))return n.fn(this)}return n.inverse(this)}),t.registerHelper("none-in-array",function(){for(var e=arguments.length-2,t=arguments[e]||[],n=arguments[arguments.length-1],a=0;a<e;a++){var i=arguments[a];if(Array.isArray(i)){for(var s=0;s<i.length;s++)if(t.indexOf(i[s])>=0)return n.inverse(this)}else if(t.indexOf(i)>=0)return n.inverse(this)}return n.fn(this)}),t.registerHelper("filesize",function(e){return e?t.helpers.number((e/Math.pow(1024,2)).toFixed(2)):"0"}),t.registerHelper("bitrate",function(e){return e?t.helpers.number(e/1e3):0}),t.registerHelper("baseUrl",function(t){return e.base_url+"/"+t}),t.registerHelper("url",function(e){if(!e.hash.route)return"";var t=e.hash.route,a=null;e.hash.query&&(a=JSON.parse(e.hash.query));var i={};return Object.keys(e.hash).forEach(function(t){["route","query"].includes(t)||(i[t]=e.hash[t])}),n.getRoute(i,t,a)}),t.registerHelper("if-or",function(){for(var e=!1,t=arguments.length-1,n=arguments[t],a=0;a<t;a++)if(e||arguments[a]){e=!0;break}return n.fn||n.inverse?e?n.fn(this):n.inverse(this):e}),t.registerHelper("if-sub-expression",function(e){return e.hash?(e.hash.operator&&"NOT"==e.hash.operator&&(e.hash.toCompare=!e.hash.toCompare),e.hash.toCompare&&(e.hash[e.hash.keyToChange]=e.hash.valueToChange),e.hash):""}),t.registerHelper("unless-all",function(){for(var e=!0,t=arguments.length-1,n=arguments[t],a=0;a<t;a++)if(arguments[a]){e=!1;break}return n.fn||n.inverse?e?n.fn(this):n.inverse(this):e}),t.registerHelper("if-all-true",function(){for(var e=!0,t=arguments.length-1,n=arguments[t],a=0;a<t;a++)if(!arguments[a]){e=!1;break}return n.fn||n.inverse?e?n.fn(this):n.inverse(this):e}),t.registerHelper("feature-flag",a.featureFlag),t.registerHelper("not",function(e){return!e}),t.registerHelper("debug",function(e){}),t.registerHelper("times",function(e,t){var n,a="";for(n=0;n<e;++n)a+=t.fn(n);return a}),t.registerHelper("inc",function(e){return parseInt(e)+1}),t.registerHelper("json",function(e){return JSON.stringify(e,null,0)}),t.registerHelper("escape",function(e){return t.escapeExpression(e)}),t.registerHelper("truncate",a.truncate),t}),define("components/search/filtersHelper",["jquery","lodash","page_config","i18n-config","app/client","app/constants/searchFilters","app/actions/searchParamsActions","app/actions/filterActions","app/constants/ui","app/stock-portal","vendor/jquery/jquery.minicolors.min","lib/hbsBasicHelpers"],function(e,t,n,a,i,s,r,o,l,c){"use strict";function u(){m===c.FILTERS?c.renderFiltersPanel():m===c.FIND_SIMILAR&&c.renderFindSimilarControlsPanel()}function d(){e(_).addClass(l.FILTER_PANEL_OPEN),h()}function p(){e(_).removeClass(l.FILTER_PANEL_OPEN),h()}function h(){window.dispatchEvent(new CustomEvent("reload.adobestock_mosaic",{detail:{assetType:f.getState().page.filter_asset_type}}))}var f=i.getInstance(),_=".js-slide-in",m=c.FILTERS,E=function(e){var t={};t[s.KEYWORD]=e,f.dispatch(o.updateSearchFilters(t))},g=function(){var a=l.FILTER_PANEL_CLOSE;return e(_).toggleClass(l.FILTER_PANEL_OPEN),h(),v()?(a=l.FILTER_PANEL_OPEN,n.isStockPanelEnabled?u():f.dispatch(o.openFiltersPanel())):(n.isStockPanelEnabled&&(m=t.get(c.getState(),"panel.searchPanel.active",c.FILTERS),c.hidePanel()),f.dispatch(o.closeFiltersPanel())),a},v=function(){return e(_).hasClass(l.FILTER_PANEL_OPEN)};return{updateKeyword:E,isFiltersPanelOpen:v,toggleShowFilterPanel:g,showPanel:d,closePanel:p,openLastSelectedPanel:u,renderMosaic:h}}),define("lib/autocomplete",["jquery","lodash","page_config","components/search/searchHelper","components/search/filtersHelper","lib/ajax","app/constants/ui","app/client","lib/analytics/dunamis"],function(e,t,n,a,i,s,r,o,l){"use strict";function c(){var e=Date.now();return N=e}function u(e){if(!n.isGloballySafeCollectionEnabled){var t=e.val(),a=e.closest(T);v=t;var i={language_id:n.autocomplete_language_id,query:t,ff_1127001950:n.isUnorderedAutocomplete?1:0};return s.ajax(n.autocomplete_api_url,{data:i,dataType:"jsonp",cache:!0,success:d.bind(null,a,N)})}}function d(e,t,n){var a=Math.min(n.hits.length,y),i="";if(t===N){for(var s=0;s<a;++s){var r=p(n.hits[s]._highlightResult.term.value,n.hits[s].term,s);i+='<li class="term-item nav__item" data-term="'+n.hits[s].term+'" data-term-index="'+s+'">',i+='<a href="#" class="nav__link js-search-item bold" data-term="'+n.hits[s].term+'" data-term-index="'+s+'">'+r+"</a>",i+="</li>"}I=a-1,I>0?(e.find(".js-search-autocomplete-panel").html(i),P(e,!0)):P(e,!1)}}function p(e,t,n){var a="";if(-1!==e.indexOf("<em>")){e.split("<em>").forEach(function(e){0===e.length?a+='<em class="js-search-item normal-font-style font-normal" data-term="'+t+'" data-term-index="'+n+'">':a+=e})}else a+=t;return a}function h(t){var n=e(t.target);if(""!==n.val())u(n),R=n.val();else{var a=n.closest(T);P(a,!1,"clear")}S=null}function f(t){var a,i=null,s=e(t.target);if((n.isUsingAjax&&t.keyCode===r.ENTER_KEY||t.keyCode===C)&&t.preventDefault(),t.keyCode){var o=[C,L,D];-1!==e.inArray(t.keyCode,o)&&(i=t.keyCode)}if(null!==i&&""!==s.val()){if(a=s.closest(T),i===D)P(a,!1,"clear");else if(null===S)null===I?u(s):i===L?S=0:i===C&&(S=I);else if(null!==S)if(i===L){if(S<I?S++:S=0,S<0)return}else i===C&&S--;_(a,s,S,v)}}function _(e,t,a,s){if(null!==a){var r,o=e.find(".js-search-autocomplete-panel");o.children(".term-item").removeClass("active").attr("data-active","false"),o.children("[data-term-index="+a+"]").addClass("active").attr("data-active","true"),-1===a?(t.val(s),g(e,null),n.isUsingAjax&&i.updateKeyword(s),m()):(r=o.children("[data-term-index="+a+"]").attr("data-term"),n.isUsingAjax&&i.updateKeyword(r),g(e,a),t.val(r))}}function m(){S=null}function E(t){var s,r=e(t.target),c=r.attr("data-term"),u=r.attr("data-term-index"),d=r.closest(T),p=d.find(".js-search-autocomplete-panel"),h={search_page:1},f=l.constants,_=o.getInstance(),m=(_.getState(),{}),E=f.AUTO_SUGGEST;(r.is(p.children(".term-item"))||""!==c&&""!==u&&r.hasClass("js-search-item"))&&(t.preventDefault(),g(d,u),s=d.find(b).val(),d.find(b).val(c),m[f.EVENT_PARAMS.STOCK_SEARCH_KEYWORD]=c,l.track(f.SEARCH_BEGIN,E,m,r),h[f.SEARCH_TYPE]=E,a.shouldSearchInLicenseHistory()?a.performSearchInLicenseHistory(c):n.isUsingAjax?(u&&(h.acp=u,h.aco=s),P(d,!1),i.updateKeyword(c),a.performSearch(!1,h)):(e(".js-search-type").val(E),d.submit()),P(d,!1))}function g(t,n){null===n?null!==A&&A.remove():(null===A&&(A=e(document.createElement("input")).attr("type","hidden").attr("name","acp"),t.append(A),O=e(document.createElement("input")).attr("type","hidden").attr("name","aco"),t.append(O)),A.val(n),O.val(t.find(b).val()))}var v,b=e(".js-search-text-input"),T=e(".js-search-form"),I=null,S=null,y=8,A=null,O=null,R=null,C=38,L=40,D=27,N=Date.now();e("body").on("mousedown",function(e){E(e)}),b.attr("autocomplete","off"),b.on("input",function(e){h(e)}).on("keydown",function(e){f(e)}).on("blur",function(){var t=e(this).closest(T);P(t,!1,"clear")});var P=function(t,n,a){var i=t.find(".js-search-autocomplete-container"),s=i.find(".js-search-autocomplete-panel");return n?""!==s.html()&&i.attr("data-state",""):(i.attr("data-state","hidden"),"clear"===a&&(s.html(""),I=null,S=null),c()),s.find("li").on("mouseenter",function(){e(this).attr("data-active",!0)}),s.find("li").on("mouseleave",function(){e(this).removeAttr("data-active")}),{originalText:v,selectedIndex:S}};return{setAutocompletePanel:P,updateSelection:_,onBodyClick:E,advanceSession:c,autocomplete_callback:d,onInputKeydown:f,queryAutocompleteApi:u}}),require(["jquery","lib/modal-window","lib/accessRequest"],function(e,t,n){"use strict";e("body").on("click",".js-enterprise-access-request-banner",function(){var e=this.getAttribute("modal-id");t.displayAccessRequestModal(e,n.ACCESS_REQUEST_ORIGIN_BANNER_VALUE)})}),define("lib/enterpriseAccessRequestBanner",function(){}),define("lib/footer",["jquery","lib/cookie","page_config","app/constants/ui","lib/utils"],function(e,t,n,a,i){"use strict";function s(){c=e(".js-region-modal-canvas"),u=document.getElementById("region-modal-canvas"),d=document.getElementById("region-selector-toggler"),p=document.getElementById("choose-region-close-icon"),h=c.find("a").last().get(0)}function r(){e(d).on("click",function(e){e.preventDefault(),c.show(),setTimeout(function(){p.focus()},0)}),e("body").on("click",".modal-toggler",function(){c.hide()}),e("body").on("click",".region-link",function(){var a=e(this).attr("href").replace(/[\/]/g,""),i=new Date,s=i.getTime();i.setTime(s+31536e6),t(n.SUSI.COOKIE_VHOST,a,{path:"/",expires:i})}),e(p).keydown(o),e(document).keydown(l)}function o(e){e.keyCode!==a.ENTER_KEY&&e.keyCode!==a.SPACE_KEY||(e.preventDefault(),c.hide(),d.focus())}function l(e){if(c.is(":visible")){if(e.keyCode===a.ESC_KEY)return c.hide(),void d.focus();i.keyboardTabbingHandler(e,p,h)}}var c,u,d,p,h;return s(),r(),{construct:s,addEventListeners:r,handleModalKeyboardEvents:l,handleCloseModalOnKeyboard:o}}),define("hbs!templates/search/fscTile",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'        <div class="js-fsc-tile margin-right-large container-inline-block padding-top-small" data-id="'+this.escapeExpression(this.lambda(null!=e?e.contentId:e,e))+'">\n            <div class="border-radius-4 white border-1 border-solid bon-jour-border">\n                <div class="container-table fsc-tile">\n                    <div class="container-table-cell fsc-tile__image-container center-align grey bon-jour border-1 border-top-left-radius-4 border-bottom-left-radius-4">\n                        \x3c!--if content has a url, put img inside a tag to open to that url in new tab--\x3e\n'+(null!=(i=t.if.call(e,null!=e?e.content_url:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=e?e.thumbnail_240:e,{name:"if",hash:{},fn:this.program(4,a,0),inverse:this.program(6,a,0),data:a}))?i:"")+"                        \x3c!--close a tag if exists--\x3e\n"+(null!=(i=t.if.call(e,null!=e?e.content_url:e,{name:"if",hash:{},fn:this.program(8,a,0),inverse:this.noop,data:a}))?i:"")+'                    </div>\n                    <div class="container-table-cell v-align-top no-wrap">\n                        <div class="margin-top-small padding-left-large">\n                            <label>\n                                <h5 class="grey dove-text font-normal half-tracking">\n                                    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"SEARCH::FSC::FIND SIMILAR BY",{name:"_",hash:{},data:a}))+':\n                                </h5>\n                            </label>\n                            <div class="margin-top-large grey dove-text">\n                                <div class="fsc-tile__radio">\n                                    <label class="switch text-sregular" data-t="fsc-options-all-radio-label-text">\n                                        <input\n'+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"all",logic:"eq",value:null!=e?e.findSimilarBy:e},fn:this.program(10,a,0),inverse:this.noop,data:a}))?i:"")+'                                            id="fsc-options-all"\n                                            name="fsc-options-'+this.escapeExpression(this.lambda(null!=e?e.contentId:e,e))+'"\n                                            type="radio"\n                                            value="all"\n                                            data-id="'+this.escapeExpression(this.lambda(null!=e?e.contentId:e,e))+'"\n                                            data-t="fsc-options-all"\n                                        />\n                                        '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"SEARCH::FSC::All attributes",{name:"_",hash:{},data:a}))+'\n                                    </label>\n                                </div>\n                                <div class="fsc-tile__radio">\n                                    <label class="switch text-sregular" data-t="fsc-options-content-radio-label-text">\n                                        <input\n'+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"content",logic:"eq",value:null!=e?e.findSimilarBy:e},fn:this.program(10,a,0),inverse:this.noop,data:a}))?i:"")+'                                            id="fsc-options-content"\n                                            name="fsc-options-'+this.escapeExpression(this.lambda(null!=e?e.contentId:e,e))+'"\n                                            type="radio"\n                                            value="content"\n                                            data-id="'+this.escapeExpression(this.lambda(null!=e?e.contentId:e,e))+'"\n                                            data-t="fsc-options-content"\n                                        />\n                                        '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"SEARCH::FSC::Content",{name:"_",hash:{},data:a}))+'\n                                    </label>\n                                </div>\n                                <div class="fsc-tile__radio">\n                                    <label class="switch text-sregular" data-t="fsc-options-color-radio-label-text">\n                                        <input\n'+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"color",logic:"eq",value:null!=e?e.findSimilarBy:e},fn:this.program(10,a,0),inverse:this.noop,data:a}))?i:"")+'                                            id="fsc-options-color"\n                                            name="fsc-options-'+this.escapeExpression(this.lambda(null!=e?e.contentId:e,e))+'"\n                                            type="radio"\n                                            value="color"\n                                            data-id="'+this.escapeExpression(this.lambda(null!=e?e.contentId:e,e))+'"\n                                            data-t="fsc-options-color"\n                                        />\n                                        '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"SEARCH::FSC::Color",{name:"_",hash:{},data:a}))+"\n                                    </label>\n                                </div>\n"+(null!=(i=(t["unless-all"]||e&&e["unless-all"]||t.helperMissing).call(e,null!=e?e.isVideo:e,null!=e?e.hideComposition:e,{name:"unless-all",hash:{},fn:this.program(12,a,0),inverse:this.noop,data:a}))?i:"")+'                            </div>\n                        </div>\n                    </div>\n                    <div class="container-table-cell no-stretch v-align-top">\n                        <div class="right-align margin-right-small margin-top-xsmall">\n                            <button class="js-fsc-tile-close-btn" data-id="'+this.escapeExpression(this.lambda(null!=e?e.contentId:e,e))+'">\n                                <i class="mti-icon icon-close grey dove-text"></i>\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n'},2:function(e,t,n,a){return'                            <a\n                                href="'+this.escapeExpression(this.lambda(null!=e?e.content_url:e,e))+'"\n                                target="_blank"\n                            >\n'},4:function(e,t,n,a){return'                            <img class="responsive-img responsive-image-height" src="'+this.escapeExpression(this.lambda(null!=e?e.thumbnail_240:e,e))+'"/>\n'},6:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["search/fscTileUnavailableImage"],e,{name:"search/fscTileUnavailableImage",data:a,indent:"                            ",helpers:t,partials:n}))?i:""},8:function(e,t,n,a){return"                            </a>\n"},10:function(e,t,n,a){return'                                                checked="checked"\n'},12:function(e,t,n,a){var i;return'                                    <div>\n                                        <label class="switch text-sregular" data-t="fsc-options-composition-radio-label-text">\n                                            <input\n'+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"composition",logic:"eq",value:null!=e?e.findSimilarBy:e},fn:this.program(13,a,0),inverse:this.noop,data:a}))?i:"")+'                                                id="fsc-options-composition"\n                                                name="fsc-options-'+this.escapeExpression(this.lambda(null!=e?e.contentId:e,e))+'"\n                                                type="radio"\n                                                value="composition"\n                                                data-id="'+this.escapeExpression(this.lambda(null!=e?e.contentId:e,e))+'"\n                                                data-t="fsc-options-composition"\n                                            />\n                                            <span>'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"SEARCH::FSC::Composition",{name:"_",hash:{},data:a}))+'</span>\n                                            <strong class="margin-left-xsmall">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"SEARCH::FSC::BETA",{name:"_",hash:{},data:a}))+"</strong>\n                                        </label>\n                                    </div>\n"},13:function(e,t,n,a){return'                                                    checked="checked"\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="padding-left-large padding-right-large container-table">\n'+(null!=(i=t.each.call(e,null!=e?e.similarContentData:e,{name:"each",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+"</div>\n"},usePartial:!0,useData:!0})}),define("hbs!templates/search/fscTileUnavailableImage",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<div>\n    <i class="mti-icon mti-5x icon-cancel grey mountain-mist-text"></i>\n</div>\n<div>\n    <span class="text-sregular grey mountain-mist-text js-fsc-unavailable-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"SEARCH::FSC::Find Similar Image Not Available",{name:"_",hash:{},data:a}))+"</span>\n</div>\n"},useData:!0})}),define("components/search/findSimilarControls",["jquery","lodash","page_config","app/client","app/stock-portal","app/actions/searchActions","app/actions/multiImageActions","app/constants/searchFilters","app/constants/analytics","hbs!templates/search/fscTile","hbs!templates/search/fscTileUnavailableImage","lib/utils","lib/analytics","lib/contentDetails","app/utils/search","app/utils/searchData","components/search/searchHelper","lib/analytics/dunamis","lib/hbsBasicHelpers"],function(e,t,n,a,i,s,r,o,l,c,u,d,p,h,f,_,m,E){"use strict";function g(){e(P).on("change",v)}function v(e,t){var a,i,s,o=E.constants,c={};n.isStockPanelEnabled?(a=t.findSimilarBy,s=t.similarContentId,i=c.search_type=o.VISUAL_SEARCH.PANEL_FSC_TILE_FIND_SIMILAR):(a=e.target.value,s=e.target.getAttribute("data-id"),i=c.search_type=o.VISUAL_SEARCH.FSC_TILE_FIND_SIMILAR),p.setSelectionMethod(l.SELECTION_TILE),f.handleClickSimilarAnalyticsDunamis(i,a),f.logSimilarAnalyticsDunamis(i,a),N.dispatch(r.updateFindSimilarBy(s,a)),m.performSearch(!1,c)}function b(n,a){var s,r,p,h,f="",_=[],E=N.getState(),g=E.view.multiImage,v=E.filters[o.NATIVE_VISUAL_SEARCH],b=[],T={},I=e(P),S=!1;if(n){for(_=n.toString().split(o.SIMILAR_CONTENT_ID_SEPARATOR),r=_.length-1;r>=0;r--)s=Number(_[r]),(f=d.getValueFromArrayById(g.metadata,"contentId",s))&&(p=m.shouldHideFscComposition(f),h=t.get(E.filters,o.FIND_SIMILAR_BY,f.findSimilarBy),S=p&&h===l.FSC_OPTIONS.FSC_OPTION_COMPOSITION,S&&(h=l.FSC_OPTIONS.FSC_OPTION_ALL),b.push({contentId:s,content_url:f.content_url,thumbnail_240:f.thumbnail_240,findSimilarBy:h,isVideo:f.isVideo,hideComposition:p}),a&&(T={similarContentId:s.toString(),imgUrl:f.content_url,imgThumbnailUrl:f.thumbnail_240,findSimilarBy:h,hideComposition:p},i.renderFindSimilarControlsPanel(T)),S&&m.showIncompatibleFSCCompositionAlert());I.html(c({similarContentData:b},{partials:{"search/fscTileUnavailableImage":u}}))}else v||(I.empty(),i.onlyClearFindSimilarControls())}function T(a){var s,r,d=N.getState(),p=d.filters[o.SIMILAR_CONTENT_ID],h=O(),f=[],_={},E=e(P),g=!1;a?(s=m.shouldHideFscComposition(),r=t.get(d.filters,o.FIND_SIMILAR_BY,l.FSC_OPTIONS.FSC_OPTION_ALL),g=s&&r===l.FSC_OPTIONS.FSC_OPTION_COMPOSITION,g&&(r=l.FSC_OPTIONS.FSC_OPTION_ALL),h&&a===h.native_visual_search?f.push({contentId:h.native_visual_search,thumbnail_240:h.dataUri,findSimilarBy:r,hideComposition:s}):f.push({contentId:a,findSimilarBy:r,hideComposition:s}),n.isStockPanelEnabled&&(_={similarContentId:"",imageToken:a,imgThumbnailUrl:t.get(h,"dataUri",""),findSimilarBy:r,hideComposition:s},n.isObjectArrangementUploadEnabled&&(_.isObjectArrangementUploadEnabled=!0),i.renderFindSimilarControlsPanel(_)),g&&m.showIncompatibleFSCCompositionAlert(),E.html(c({similarContentData:f},{partials:{"search/fscTileUnavailableImage":u}}))):p||(E.empty(),i.onlyClearFindSimilarControls())}function I(e){var a=N.getState(),s=t.get(a.filters,o.NATIVE_VISUAL_SEARCH,null),r=t.get(a.filters,o.SIMILAR_CONTENT_ID,null);s?T(s):r?b(r,e):n.isStockPanelEnabled&&i.onlyClearFindSimilarControls()}function S(e){d.addItemToLocalStorage(o.FSC_IMAGE,e)}function y(){O()&&d.removeItemFromLocalStorage(o.FSC_IMAGE)}function A(){n.isStockPanelEnabled?i.onlyClearFindSimilarControls():e(P).empty()}function O(){var e=localStorage.getItem(o.FSC_IMAGE);return e?d.doubleParseObject(e):null}function R(){var e=localStorage.getItem(o.FSC_IMAGE_GROUP);return e?d.doubleParseObject(e):[]}function C(e){var t=M.getFscGroupFromLocalStorage();return t[e]?t[e]:{}}function L(e){var t=M.getFscGroupFromLocalStorage(),n=!1;t.map(function(a,i){a[o.NATIVE_VISUAL_SEARCH]===e[o.NATIVE_VISUAL_SEARCH]&&(t[i]=e,n=!0)}),n||t.push(e),t.length>o.MAX_FIND_SIMILAR_IMAGES&&t.shift(),d.addItemToLocalStorage(o.FSC_IMAGE_GROUP,t)}function D(e){var t=M.getFscGroupFromLocalStorage(),n=-1;t.map(function(t,a){t.native_visual_search===e&&(n=a)}),-1!=n&&delete t[n],d.addItemToLocalStorage(o.FSC_IMAGE_GROUP,t)}var N=a.getInstance(),P=".js-fsc-tile-container",M={setUpFindSimilarByListener:g,toggleVisualSearchTile:I,toggleFSCTile:b,toggleNativeSearchFSCTile:T,fscContainerSelector:P,fscCloseSelector:".js-fsc-tile-close-btn",removeVisualSearchTile:A,getImageFromFscGroupInLocalStorage:C,addImageToFscGroupInLocalStorage:L,removeImageFromFscGroupInLocalStorage:D,handleFindSimilarByChange:v,getFSCImageFromLocalStorage:O,addFSCImageToLocalStorage:S,removeFSCImageFromLocalStorage:y,getFscGroupFromLocalStorage:R};return M}),define("lib/filters",["jquery","lib/cookie"],function(e,t){"use strict";function n(e){var n=e,a=n.attr("name"),i=new Date;a&&(i.setTime(i.getTime()+31536e6),t(a.replace(/\[|]/gi,""),n.is(":checked")?"checked":"unchecked",{path:"/",expires:i}))}function a(){e.each(c,function(t,a){n(e(a))})}function i(){l.length&&(a(),s(),l.find("input").on("change",function(){n(e(this)),s()}))}function s(){var e=t("filterscontent_type:photo"),n=t("filterscontent_type:illustration"),a=t("filterscontent_type:video"),i=t("filterscontent_type:zip_vector"),s={};return"unchecked"===e&&"unchecked"===n&&"unchecked"===i&&"checked"===a?(s.videoOnly=!0,!0):(s.videoOnly=!1,!1)}function r(){c.prop({checked:!1}),e(document.getElementById("filters-content_type:video")).prop({checked:!0}),a()}function o(){c.prop({checkbox:!1}),e(document.getElementById("filters-content_type:zip_vector")).prop({checked:!0}),e(document.getElementById("filters-content_type:illustration")).prop({checked:!0}),a()}var l=e("#filter-options-menu"),c=l.find("input");return{init:function(){i()},isVideoOnlyChecked:s,selectVideoCheckboxOnly:r,selectVectorsOnly:o}}),define("app/constants/thumbnailBadges",[],function(){"use strict";return{LICENSED_BADGE:"LICENSED_BADGE",TRANSFERRED_BADGE:"TRANSFERRED_BADGE",REQUESTED_BADGE:"REQUESTED_BADGE",SELECTOR_THUMBNAIL_BADGE_CONTAINER:".js-thumbnail-badge-container"}}),define("lib/badges",["jquery","lodash","i18n-config","page_config","lib/contentDetails","lib/utils","app/constants/thumbnailBadges","hbs!templates/thumbnailBadge","hbs!templates/thumbnailLicensedBadge","hbs!templates/badgeTooltip"],function(e,t,n,a,i,s,r,o,l,c){"use strict";function u(t,n,a,s){var u,d=e(".js-search-result-cell[data-content-id="+n+"]"),p=e(".js-details[data-content_id="+n+"]"),h={is3D:i.is3D(n),isTemplate:i.isTemplate(n)};if(t===r.REQUESTED_BADGE){var f=_.formatPendingLicenseRequestTooltipData(s);Object.assign(h,{displayRequestedBadge:f&&f.length>0,license_request_data:f})}else{var m=_.formatLicenseTransferTooltipData(a),E=t===r.LICENSED_BADGE,g=t===r.TRANSFERRED_BADGE&&m&&m.length>0;Object.assign(h,{displayLicensedBadge:E,displayTransferredBadge:g,isPremium:i.isPremium(n),isEditorial:i.isEditorial(n),isIllustrative:i.isIllustrative(n),license_transfer_tooltip_data:m})}[d,p].forEach(function(e){u=e.find(r.SELECTOR_THUMBNAIL_BADGE_CONTAINER),u.length&&u.html(o(h,{partials:{thumbnailLicensedBadge:l,badgeTooltip:c}}))})}
function d(e,n){var a=t.get(n,"license_transfers",[]),i=t.get(n,"display_as_unlicensed",!1),s=parseInt(e,10);i?_.renderThumbnailBadge(r.TRANSFERRED_BADGE,s,a):_.renderThumbnailBadge(r.LICENSED_BADGE,s,a)}function p(e){return Array.isArray(e)?e.map(function(e,t){return{dataT:"license-request-tooltip-"+t,rows:[{label:n.gettext("ORGANIZATION::LICENSE_REQUEST::Request date:"),value:e.createdAt,labelDataT:"request-date-label",valueDataT:"request-date-text"},{label:n.gettext("ORGANIZATION::LICENSE_REQUEST::Requestor:"),value:e.requesterDisplayName,labelDataT:"requester-label",valueDataT:"requester-text"},{label:n.ngettext("ORGANIZATION::LICENSE_REQUEST::Art Buyer:","ORGANIZATION::LICENSE_REQUEST::Art Buyers:",e.approversDisplayNames.length),value:e.approversDisplayNames.join(", "),labelDataT:"art-buyers-label",valueDataT:"art-buyers-text"}]}}):[]}function h(e){return Array.isArray(e)?e.map(function(e,t){return{dataT:"license-transfer-table-"+t,rows:[{label:n.gettext("ORGANIZATION::LICENSE_TRANSFER::Date:"),labelDataT:"license-transfer-date-label",value:e.date,valueDataT:"license-transfer-date-text"},{label:n.gettext("ORGANIZATION::LICENSE_TRANSFER::Client:"),labelDataT:"license-transfer-client-name-label",value:e.client_name,valueDataT:"license-transfer-client-name-text"},{label:n.gettext("ORGANIZATION::LICENSE_TRANSFER::Notes:"),labelDataT:"license-transfer-notes-label",value:e.notes?e.notes:"-",valueDataT:"license-transfer-notes-text"}]}}):[]}function f(e){var t="";return s.isObject(e)?(e.is_editorial||e.is_illustrative?t="en_US"===a.locale_code?"Editorial Only":n.gettext("FILE::Editorial"):e.is_premium&&!e.is_video?t="Premium":e.is_free&&(t=n.gettext("FILE::Free")),t):""}var _;return _={badgeLicensedOrTransferred:d,formatLicenseTransferTooltipData:h,formatPendingLicenseRequestTooltipData:p,getBadgeText:f,renderThumbnailBadge:u}}),define("app/actions/pageActions",["app/actions/actionTypes"],function(e){"use strict";function t(t,n){return{name:t||"",checked:n,type:e.CHECK_FILTER_TOGGLE}}function n(t){return{data:t||{},type:e.UPDATE_PAGE_DATA}}return{checkFilterToggle:t,updatePageData:n}}),define("components/search/assetTypeDropdown",["lodash","page_config","jquery","app/actions/pageActions","app/actions/searchActions","app/actions/searchParamsActions","app/client","app/constants/assetTypeFilters","app/constants/analytics","app/constants/cookies","app/constants/searchFilters","app/utils/routes","app/utils/observer","app/utils/search","app/utils/searchData","components/search/filtersHelper","components/search/searchHelper","components/search/findSimilarControls","lib/analytics","lib/cookie","lib/window"],function(e,t,n,a,i,s,r,o,l,c,u,d,p,h,f,_,m,E,g,v,b){"use strict";function T(){k&&v(c.LAST_SELECTED_ASSET_TYPE,k.val(),F),I()}function I(){k.on("change",function(e){var a,i=w.getState(),s=n(this).val(),r=i.filters[u.KEYWORD],o=v(c.LAST_SELECTED_ASSET_TYPE),l=h.isVisualSearchActive(),p="videos"===o||"videos"===s||f.isOnlyVideoContentTypeFilterEnabled(i);if(y(e),t.isUsingAjax){if(m.shouldSearchInLicenseHistory())return void m.performSearchInLicenseHistory(r);if("audio"===s&&!m.shouldSearchInLicenseHistory()){h.handleDunamisAssetDropdownChange();var _=r?"?k="+encodeURI(r):"";return void b.setLocation(d.getSearchRouteWithBaseURL(s)+_)}a=S(s),w.dispatch(a)}l&&p&&E.toggleVisualSearchTile(!0)})}function S(e){switch(e){case"premium":return i.setAssetTypeToPremium();default:return a.updatePageData({filter_asset_type:e})}}function y(e){var t=e.target.value;m.closeAlertHandler(),A(t),O(t)}function A(e){v(c.LAST_SELECTED_ASSET_TYPE,e,F)}function O(e){x.attr("action",t.base_url+d.getSearchRoute(e))}function R(e){return k.val(e)}function C(){return k.val()}function L(e){R(e),A(e),w.dispatch(S(e))}function D(e){R(e),A(e)}function N(e){switch(e){case o.FREE:return!(!t.isFreeEnabled||t.is_mobile);case o.EDITORIAL:return!t.is_mobile;default:return!1}}function P(t,n,a){var i=e.get(t,"page.filter_asset_type"),s=e.get(n,"page.filter_asset_type");i!==s&&(U.isFilterPanelOpenByDefaultForAssetType(s)&&!_.isFiltersPanelOpen()&&_.toggleShowFilterPanel(),a(s))}function M(e){p.listen(function(t,n){P(t,n,e)})}var w=r.getInstance(),x=n(".js-search-form"),k=n(".js-filter-view-type"),F={path:"/",expires:31},U={initializeObserver:M,forceUpdateDropdown:L,forceUpdateDropdownWithoutSearch:D,handleAssetTypeChange:y,init:T,setValue:R,updateAssetTypeCookie:A,updateSearchFormAction:O,getValue:C,isFilterPanelOpenByDefaultForAssetType:N,updateFiltersPanelForAssetType:P};return U}),function(){!function(e,t,n){var a,i,s;s="slidesjs",i={width:940,height:528,start:1,navigation:{active:!0,effect:"slide"},pagination:{active:!0,effect:"slide"},play:{active:!1,effect:"slide",interval:5e3,auto:!1,swap:!0,pauseOnHover:!1,restartDelay:2500},effect:{slide:{speed:500},fade:{speed:300,crossfade:!0}},callback:{loaded:function(){},start:function(){},complete:function(){}}},a=function(){function t(t,n){this.element=t,this.options=e.extend(!0,{},i,n),this._defaults=i,this._name=s,this.init()}return t}(),a.prototype.init=function(){var n,a,i,s,r=this;n=e(this.element),this.data=e.data(this),json_fader=e(this.options.fader_data).html(),this.options.data_slide_urls=JSON.parse(json_fader);var o=this.options,l=this.data;return e.data(this,"animating",!1),e.data(this,"total",n.children().not(".slidesjs-navigation",n).length),e.data(this,"current",this.options.start-1),e.data(this,"vendorPrefix",this._getVendorPrefix()),"undefined"!=typeof TouchEvent&&(e.data(this,"touch",!0),this.options.effect.slide.speed=this.options.effect.slide.speed/2),n.css({overflow:"hidden"}),n.slidesContainer=n.children().not(".slidesjs-navigation",n).wrapAll("<div class='slidesjs-container'>",n).parent().css({overflow:"hidden",position:"relative"}),e(".slidesjs-container",n).wrapInner("<div class='slidesjs-control'>",n).children(),e(".slidesjs-control",n).css({position:"relative",left:0}),e(".slidesjs-control",n).children().addClass("slidesjs-slide").css({position:"absolute",top:0,left:0,width:"100%",zIndex:0,display:"none",webkitBackfaceVisibility:"hidden"}),e.each(e(".slidesjs-control",n).children(),function(t){var n;return n=e(this),n.attr("slidesjs-index",t)}),this.data.touch&&(e(".slidesjs-control",n).on("touchstart",function(e){return r._touchstart(e)}),e(".slidesjs-control",n).on("touchmove",function(e){return r._touchmove(e)}),e(".slidesjs-control",n).on("touchend",function(e){return r._touchend(e)})),n.fadeIn(0),this.update(),this.data.touch&&this._setuptouch(),e(".slidesjs-control",n).children(":eq("+this.data.current+")").eq(0).fadeIn(0,function(){return e(this).css({zIndex:10})}),this.options.navigation.active&&(e("<a>",{class:"slidesjs-previous slidesjs-navigation",href:"#",title:"Previous",text:"Previous"}).appendTo(n),e("<a>",{class:"slidesjs-next slidesjs-navigation",href:"#",title:"Next",text:"Next"}).appendTo(n)),e(".slidesjs-next",n).click(function(e){return e.preventDefault(),r.stop(!0),r.next(r.options.navigation.effect)}),e(".slidesjs-previous",n).click(function(e){return e.preventDefault(),r.stop(!0),r.previous(r.options.navigation.effect)}),this.options.play.active&&(i=e("<a>",{class:"slidesjs-play slidesjs-navigation",href:"#",title:"Play",text:"Play"}).appendTo(n),s=e("<a>",{class:"slidesjs-stop slidesjs-navigation",href:"#",title:"Stop",text:"Stop"}).appendTo(n),i.click(function(e){return e.preventDefault(),r.play(!0)}),s.click(function(e){return e.preventDefault(),r.stop(!0)}),this.options.play.swap&&s.css({display:"none"})),this.options.pagination.active&&(a=e("<ul>",{class:"slidesjs-pagination"}).appendTo(n),e.each(new Array(this.data.total),function(t){var n,i;return n=e("<li>",{class:"slidesjs-pagination-item"}).appendTo(a),i=e("<a>",{href:"#","data-slidesjs-item":t,html:t+1}).appendTo(n),i.click(function(t){return t.preventDefault(),r.stop(!0),r.gotoNext(1*e(t.currentTarget).attr("data-slidesjs-item")+1)})})),e(".fader").on("click",function(n){return!!e(n.target).hasClass("btn-box-home")||!(e(n.target).hasClass("box-fader")||e(n.target).parent().hasClass("box-fader")||e(n.target).parent().parent().hasClass("box-fader"))&&void t.open(o.data_slide_urls[l.current][1])}),e(this.element).on("click",function(){t.open(o.data_slide_urls[l.current][1])}),e(t).bind("resize",function(){return r.update()}),this._setActive(),this.options.play.auto&&this.play(),this.options.callback.loaded(this.options.start)},a.prototype._setActive=function(t){var n,a;return n=e(this.element),this.data=e.data(this),a=t>-1?t:this.data.current,e(".active",n).removeClass("active"),e(".slidesjs-pagination li:eq("+a+") a",n).addClass("active")},a.prototype.update=function(){var t,n,a;return t=e(this.element),this.data=e.data(this),e(".slidesjs-control",t).children(":not(:eq("+this.data.current+"))").css({display:"none",left:0,zIndex:0}),a=t.width(),n=this.options.height/this.options.width*a,this.options.width=a,this.options.height=n,e(".slidesjs-control, .slidesjs-container",t).css({width:a,height:n})},a.prototype.next=function(t){return e(this.element),this.data=e.data(this),e.data(this,"direction","next"),void 0===t&&(t=this.options.navigation.effect),"fade"===t?this._fade():this._slide()},a.prototype.previous=function(t){return e(this.element),this.data=e.data(this),e.data(this,"direction","previous"),void 0===t&&(t=this.options.navigation.effect),"fade"===t?this._fade():this._slide()},a.prototype.gotoNext=function(t){var n;if(e(this.element),this.data=e.data(this),void 0===n&&(n=this.options.pagination.effect),t>this.data.total?t=this.data.total:t<1&&(t=1),"number"==typeof t)return"fade"===n?this._fade(t):this._slide(t);if("string"==typeof t){if("first"===t)return"fade"===n?this._fade(0):this._slide(0);if("last"===t)return"fade"===n?this._fade(this.data.total):this._slide(this.data.total)}},a.prototype._setuptouch=function(){var t,n,a,i;return t=e(this.element),this.data=e.data(this),i=e(".slidesjs-control",t),n=this.data.current+1,a=this.data.current-1,a<0&&(a=this.data.total-1),n>this.data.total-1&&(n=0),i.children(":eq("+n+")").css({display:"block",left:this.options.width}),i.children(":eq("+a+")").css({display:"block",left:0})},a.prototype._touchstart=function(t){var n;return e(this.element),this.data=e.data(this),n=t.originalEvent.touches[0],this._setuptouch(),e.data(this,"touchtimer",Number(new Date)),e.data(this,"touchstartx",n.pageX),e.data(this,"touchstarty",n.pageY),t.stopPropagation()},a.prototype._touchend=function(t){var n,a,i,s,r,o,l=this;return n=e(this.element),this.data=e.data(this),t.originalEvent.touches[0],s=e(".slidesjs-control",n),s.position().left>.5*this.options.width||s.position().left>.1*this.options.width&&Number(new Date)-this.data.touchtimer<250?(e.data(this,"direction","previous"),this._slide()):s.position().left<-.5*this.options.width||s.position().left<-.1*this.options.width&&Number(new Date)-this.data.touchtimer<250?(e.data(this,"direction","next"),this._slide()):(i=this.data.vendorPrefix,o=i+"Transform",a=i+"TransitionDuration",r=i+"TransitionTimingFunction",s[0].style[o]="translateX(0px)",s[0].style[a]=.85*this.options.effect.slide.speed+"ms"),s.on("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",function(){return i=l.data.vendorPrefix,o=i+"Transform",a=i+"TransitionDuration",r=i+"TransitionTimingFunction",s[0].style[o]="",s[0].style[a]="",s[0].style[r]=""}),t.stopPropagation()},a.prototype._touchmove=function(t){var n,a,i,s,r;return n=e(this.element),this.data=e.data(this),s=t.originalEvent.touches[0],a=this.data.vendorPrefix,i=e(".slidesjs-control",n),r=a+"Transform",e.data(this,"scrolling",Math.abs(s.pageX-this.data.touchstartx)<Math.abs(s.pageY-this.data.touchstarty)),this.data.animating||this.data.scrolling||(t.preventDefault(),this._setuptouch(),i[0].style[r]="translateX("+(s.pageX-this.data.touchstartx)+"px)"),t.stopPropagation()},a.prototype.play=function(t){var n,a,i,s=this;if(n=e(this.element),this.data=e.data(this),!this.data.playInterval&&(t&&(a=this.data.current,this.data.direction="next","fade"===this.options.play.effect?this._fade():this._slide()),e.data(this,"playInterval",setInterval(function(){return a=s.data.current,s.data.direction="next","fade"===s.options.play.effect?s._fade():s._slide()},this.options.play.interval)),i=e(".slidesjs-container",n),this.options.play.pauseOnHover&&(i.unbind(),i.bind("mouseenter",function(){return s.stop()}),i.bind("mouseleave",function(){return s.options.play.restartDelay?e.data(s,"restartDelay",setTimeout(function(){return s.play(!0)},s.options.play.restartDelay)):s.play()})),e.data(this,"playing",!0),e(".slidesjs-play",n).addClass("slidesjs-playing"),this.options.play.swap))return e(".slidesjs-play",n).hide(),e(".slidesjs-stop",n).show()},a.prototype.stop=function(t){var n;if(n=e(this.element),this.data=e.data(this),clearInterval(this.data.playInterval),this.options.play.pauseOnHover&&t&&e(".slidesjs-container",n).unbind(),e.data(this,"playInterval",null),e.data(this,"playing",!1),e(".slidesjs-play",n).removeClass("slidesjs-playing"),this.options.play.swap)return e(".slidesjs-stop",n).hide(),e(".slidesjs-play",n).show()},a.prototype._slide=function(t){var n,a,i,s,r,o,l,c,u,d=this;if(n=e(this.element),this.data=e.data(this),!this.data.animating&&t!==this.data.current+1)return e.data(this,"animating",!0),a=this.data.current,t>-1?(t-=1,u=t>a?1:-1,i=t>a?-this.options.width:this.options.width,r=t):(u="next"===this.data.direction?1:-1,i="next"===this.data.direction?-this.options.width:this.options.width,r=a+u),-1===r&&(r=this.data.total-1),r===this.data.total&&(r=0),this._setActive(r),l=e(".slidesjs-control",n),t>-1&&l.children(":not(:eq("+a+"))").css({display:"none",left:0,zIndex:0}),l.children(":eq("+r+")").css({display:"block",left:u*this.options.width,zIndex:10}),this.options.callback.start(a+1),this.data.vendorPrefix?(o=this.data.vendorPrefix,c=o+"Transform",s=o+"TransitionDuration",o+"TransitionTimingFunction",l[0].style[c]="translateX("+i+"px)",l[0].style[s]=this.options.effect.slide.speed+"ms",l.on("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",function(){return l[0].style[c]="",l[0].style[s]="",l.children(":eq("+r+")").css({left:0}),l.children(":eq("+a+")").css({display:"none",left:0,zIndex:0}),e.data(d,"current",r),e.data(d,"animating",!1),l.unbind("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd"),l.children(":not(:eq("+r+"))").css({display:"none",left:0,zIndex:0}),d.data.touch&&d._setuptouch(),d.options.callback.complete(r+1)})):l.stop().animate({left:i},this.options.effect.slide.speed,function(){return l.css({left:0}),l.children(":eq("+r+")").css({left:0}),l.children(":eq("+a+")").css({display:"none",left:0,zIndex:0},e.data(d,"current",r),e.data(d,"animating",!1),d.options.callback.complete(r+1))})},a.prototype._fade=function(t){var n,a,i,s,r,o=this;if(n=e(this.element),this.data=e.data(this),this.data.current<this.options.data_slide_urls.length&&this.data.total!=this.options.data_slide_urls.length&&(e(".slidesjs-control").append('<img src="'+this.options.data_slide_urls[this.data.current+1][0]+'" class="slidesjs-slide" slidesjs-index="'+(this.data.current+1)+'" style="position: absolute; top: 0px; width: 100%;">'),this.data.total++),!this.data.animating&&t!==this.data.current+1)return e.data(this,"animating",!0),a=this.data.current,t?(t-=1,r=t>a?1:-1,i=t):(r="next"===this.data.direction?1:-1,i=a+r),-1===i&&(i=this.data.total-1),i===this.data.total&&(i=0),this._setActive(i),s=e(".slidesjs-control",n),s.children(":eq("+i+")").css({display:"none",left:0,zIndex:10}),this.options.callback.start(a+1),this.options.effect.fade.crossfade?(s.children(":eq("+this.data.current+")").stop().fadeOut(this.options.effect.fade.speed),s.children(":eq("+i+")").stop().fadeIn(this.options.effect.fade.speed,function(){return s.children(":eq("+i+")").css({zIndex:0}),e.data(o,"animating",!1),e.data(o,"current",i),o.options.callback.complete(i+1)})):s.children(":eq("+a+")").stop().fadeOut(this.options.effect.fade.speed,function(){return s.children(":eq("+i+")").stop().fadeIn(o.options.effect.fade.speed,function(){return s.children(":eq("+i+")").css({zIndex:10})}),e.data(o,"animating",!1),e.data(o,"current",i),o.options.callback.complete(i+1)})},a.prototype._getVendorPrefix=function(){var e,t,a,i,s;for(e=n.body||n.documentElement,a=e.style,i="transition",s=["Moz","Webkit","Khtml","O","ms"],i=i.charAt(0).toUpperCase()+i.substr(1),t=0;t<s.length;){if("string"==typeof a[s[t]+i])return s[t];t++}return!1},e.fn[s]=function(t){return this.each(function(){if(!e.data(this,"plugin_"+s))return e.data(this,"plugin_"+s,new a(this,t))})}}(jQuery,window,document)}.call(this),define("vendor/jquery/jquery.slides-3",function(){}),function(e){"function"==typeof define&&define.amd?define("vendor/jquery/jqueryui.slide",["jquery"],e):e(jQuery)}(function(e){var t=e;e.effects={effect:{}},function(e,t){function n(e,t,n){var a=u[t.type]||{};return null==e?n||!t.def?null:t.def:(e=a.floor?~~e:parseFloat(e),isNaN(e)?t.def:a.mod?(e+a.mod)%a.mod:0>e?0:a.max<e?a.max:e)}function a(t){var n=l(),a=n._rgba=[];return t=t.toLowerCase(),h(o,function(e,i){var s,r=i.re.exec(t),o=r&&i.parse(r),l=i.space||"rgba";if(o)return s=n[l](o),n[c[l].cache]=s[c[l].cache],a=n._rgba=s._rgba,!1}),a.length?("0,0,0,0"===a.join()&&e.extend(a,s.transparent),n):s[t]}function i(e,t,n){return n=(n+1)%1,6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}var s,r=/^([\-+])=\s*(\d+\.?\d*)/,o=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],l=e.Color=function(t,n,a,i){return new e.Color.fn.parse(t,n,a,i)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=l.support={},p=e("<p>")[0],h=e.each;p.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=p.style.backgroundColor.indexOf("rgba")>-1,h(c,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),l.fn=e.extend(l.prototype,{parse:function(t,i,r,o){if(void 0===t)return this._rgba=[null,null,null,null],this;(t.jquery||t.nodeType)&&(t=e(t).css(i),i=void 0);var u=this,d=e.type(t),p=this._rgba=[];return void 0!==i&&(t=[t,i,r,o],d="array"),"string"===d?this.parse(a(t)||s._default):"array"===d?(h(c.rgba.props,function(e,a){p[a.idx]=n(t[a.idx],a)}),this):"object"===d?(t instanceof l?h(c,function(e,n){t[n.cache]&&(u[n.cache]=t[n.cache].slice())}):h(c,function(a,i){var s=i.cache;h(i.props,function(e,a){if(!u[s]&&i.to){if("alpha"===e||null==t[e])return;u[s]=i.to(u._rgba)}u[s][a.idx]=n(t[e],a,!0)}),u[s]&&e.inArray(null,u[s].slice(0,3))<0&&(u[s][3]=1,i.from&&(u._rgba=i.from(u[s])))}),this):void 0},is:function(e){var t=l(e),n=!0,a=this;return h(c,function(e,i){var s,r=t[i.cache];return r&&(s=a[i.cache]||i.to&&i.to(a._rgba)||[],h(i.props,function(e,t){if(null!=r[t.idx])return n=r[t.idx]===s[t.idx]})),n}),n},_space:function(){var e=[],t=this;return h(c,function(n,a){t[a.cache]&&e.push(n)}),e.pop()},transition:function(e,t){var a=l(e),i=a._space(),s=c[i],r=0===this.alpha()?l("transparent"):this,o=r[s.cache]||s.to(r._rgba),d=o.slice();return a=a[s.cache],h(s.props,function(e,i){var s=i.idx,r=o[s],l=a[s],c=u[i.type]||{};null!==l&&(null===r?d[s]=l:(c.mod&&(l-r>c.mod/2?r+=c.mod:r-l>c.mod/2&&(r-=c.mod)),d[s]=n((l-r)*t+r,i)))}),this[i](d)},blend:function(t){if(1===this._rgba[3])return this;var n=this._rgba.slice(),a=n.pop(),i=l(t)._rgba;return l(e.map(n,function(e,t){return(1-a)*i[t]+a*e}))},toRgbaString:function(){var t="rgba(",n=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===n[3]&&(n.pop(),t="rgb("),t+n.join()+")"},toHslaString:function(){var t="hsla(",n=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&t<3&&(e=Math.round(100*e)+"%"),e});return 1===n[3]&&(n.pop(),t="hsl("),t+n.join()+")"},toHexString:function(t){var n=this._rgba.slice(),a=n.pop();return t&&n.push(~~(255*a)),"#"+e.map(n,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,c.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,n,a=e[0]/255,i=e[1]/255,s=e[2]/255,r=e[3],o=Math.max(a,i,s),l=Math.min(a,i,s),c=o-l,u=o+l,d=.5*u;return t=l===o?0:a===o?60*(i-s)/c+360:i===o?60*(s-a)/c+120:60*(a-i)/c+240,n=0===c?0:d<=.5?c/u:c/(2-u),[Math.round(t)%360,n,d,null==r?1:r]},c.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],a=e[2],s=e[3],r=a<=.5?a*(1+n):a+n-a*n,o=2*a-r;return[Math.round(255*i(o,r,t+1/3)),Math.round(255*i(o,r,t)),Math.round(255*i(o,r,t-1/3)),s]},h(c,function(t,a){var i=a.props,s=a.cache,o=a.to,c=a.from;l.fn[t]=function(t){if(o&&!this[s]&&(this[s]=o(this._rgba)),void 0===t)return this[s].slice();var a,r=e.type(t),u="array"===r||"object"===r?t:arguments,d=this[s].slice();return h(i,function(e,t){var a=u["object"===r?e:t.idx];null==a&&(a=d[t.idx]),d[t.idx]=n(a,t)}),c?(a=l(c(d)),a[s]=d,a):l(d)},h(i,function(n,a){l.fn[n]||(l.fn[n]=function(i){var s,o=e.type(i),l="alpha"===n?this._hsla?"hsla":"rgba":t,c=this[l](),u=c[a.idx];return"undefined"===o?u:("function"===o&&(i=i.call(this,u),o=e.type(i)),null==i&&a.empty?this:("string"===o&&(s=r.exec(i))&&(i=u+parseFloat(s[2])*("+"===s[1]?1:-1)),c[a.idx]=i,this[l](c)))})})}),l.hook=function(t){var n=t.split(" ");h(n,function(t,n){e.cssHooks[n]={set:function(t,i){var s,r,o="";if("transparent"!==i&&("string"!==e.type(i)||(s=a(i)))){if(i=l(s||i),!d.rgba&&1!==i._rgba[3]){for(r="backgroundColor"===n?t.parentNode:t;(""===o||"transparent"===o)&&r&&r.style;)try{o=e.css(r,"backgroundColor"),r=r.parentNode}catch(e){}i=i.blend(o&&"transparent"!==o?o:"_default")}i=i.toRgbaString()}try{t.style[n]=i}catch(e){}}},e.fx.step[n]=function(t){t.colorInit||(t.start=l(t.elem,n),t.end=l(t.end),t.colorInit=!0),e.cssHooks[n].set(t.elem,t.start.transition(t.end,t.pos))}})},l.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),e.cssHooks.borderColor={expand:function(e){var t={};return h(["Top","Right","Bottom","Left"],function(n,a){t["border"+a+"Color"]=e}),t}},s=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(t),function(){function n(t){var n,a,i=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,s={};if(i&&i.length&&i[0]&&i[i[0]])for(a=i.length;a--;)n=i[a],"string"==typeof i[n]&&(s[e.camelCase(n)]=i[n]);else for(n in i)"string"==typeof i[n]&&(s[n]=i[n]);return s}function a(t,n){var a,i,r={};for(a in n)i=n[a],t[a]!==i&&(s[a]||!e.fx.step[a]&&isNaN(parseFloat(i))||(r[a]=i));return r}var i=["add","remove","toggle"],s={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(n,a){e.fx.step[a]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(t.style(e.elem,a,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(t,s,r,o){var l=e.speed(s,r,o);return this.queue(function(){var s,r=e(this),o=r.attr("class")||"",c=l.children?r.find("*").addBack():r;c=c.map(function(){return{el:e(this),start:n(this)}}),s=function(){e.each(i,function(e,n){t[n]&&r[n+"Class"](t[n])})},s(),c=c.map(function(){return this.end=n(this.el[0]),this.diff=a(this.start,this.end),this}),r.attr("class",o),c=c.map(function(){var t=this,n=e.Deferred(),a=e.extend({},l,{queue:!1,complete:function(){n.resolve(t)}});return this.el.animate(this.diff,a),n.promise()}),e.when.apply(e,c.get()).done(function(){s(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(r[0])})})},e.fn.extend({addClass:function(t){return function(n,a,i,s){return a?e.effects.animateClass.call(this,{add:n},a,i,s):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(n,a,i,s){return arguments.length>1?e.effects.animateClass.call(this,{remove:n},a,i,s):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(n,a,i,s,r){return"boolean"==typeof a||void 0===a?i?e.effects.animateClass.call(this,a?{add:n}:{remove:n},i,s,r):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:n},a,i,s)}}(e.fn.toggleClass),switchClass:function(t,n,a,i,s){return e.effects.animateClass.call(this,{add:n,remove:t},a,i,s)}})}(),function(){function t(t,n,a,i){return e.isPlainObject(t)&&(n=t,t=t.effect),t={effect:t},null==n&&(n={}),e.isFunction(n)&&(i=n,a=null,n={}),("number"==typeof n||e.fx.speeds[n])&&(i=a,a=n,n={}),e.isFunction(a)&&(i=a,a=null),n&&e.extend(t,n),a=a||n.duration,t.duration=e.fx.off?0:"number"==typeof a?a:a in e.fx.speeds?e.fx.speeds[a]:e.fx.speeds._default,t.complete=i||n.complete,t}function n(t){return!(t&&"number"!=typeof t&&!e.fx.speeds[t])||("string"==typeof t&&!e.effects.effect[t]||(!!e.isFunction(t)||"object"==typeof t&&!t.effect))}e.extend(e.effects,{version:"1.11.4",save:function(e,t){for(var n=0;n<t.length;n++)null!==t[n]&&e.data("ui-effects-"+t[n],e[0].style[t[n]])},restore:function(e,t){var n,a;for(a=0;a<t.length;a++)null!==t[a]&&(n=e.data("ui-effects-"+t[a]),void 0===n&&(n=""),e.css(t[a],n))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var n,a;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":a=0;break;case"center":a=.5;break;case"right":a=1;break;default:a=e[1]/t.width}return{x:a,y:n}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},a=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),i={width:t.width(),height:t.height()},s=document.activeElement;try{s.id}catch(e){s=document.body}return t.wrap(a),(t[0]===s||e.contains(t[0],s))&&e(s).focus(),a=t.parent(),"static"===t.css("position")?(a.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,a){n[a]=t.css(a),isNaN(parseInt(n[a],10))&&(n[a]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(i),a.css(n).show()},removeWrapper:function(t){var n=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===n||e.contains(t[0],n))&&e(n).focus()),t},setTransition:function(t,n,a,i){return i=i||{},e.each(n,function(e,n){var s=t.cssUnit(n);s[0]>0&&(i[n]=s[0]*a+s[1])}),i}}),e.fn.extend({effect:function(){function n(t){function n(){e.isFunction(s)&&s.call(i[0]),e.isFunction(t)&&t()}var i=e(this),s=a.complete,o=a.mode;(i.is(":hidden")?"hide"===o:"show"===o)?(i[o](),n()):r.call(i[0],a,n)}var a=t.apply(this,arguments),i=a.mode,s=a.queue,r=e.effects.effect[a.effect];return e.fx.off||!r?i?this[i](a.duration,a.complete):this.each(function(){a.complete&&a.complete.call(this)}):!1===s?this.each(n):this.queue(s||"fx",n)},show:function(e){return function(a){if(n(a))return e.apply(this,arguments);var i=t.apply(this,arguments);return i.mode="show",this.effect.call(this,i)}}(e.fn.show),hide:function(e){return function(a){if(n(a))return e.apply(this,arguments);var i=t.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}}(e.fn.hide),toggle:function(e){return function(a){if(n(a)||"boolean"==typeof a)return e.apply(this,arguments);var i=t.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}}(e.fn.toggle),cssUnit:function(t){var n=this.css(t),a=[];return e.each(["em","px","%","pt"],function(e,t){n.indexOf(t)>0&&(a=[parseFloat(n),t])}),a}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,n){t[n]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,n){e.easing["easeIn"+t]=n,e.easing["easeOut"+t]=function(e){return 1-n(1-e)},e.easing["easeInOut"+t]=function(e){return e<.5?n(2*e)/2:1-n(-2*e+2)/2}})}();e.effects,e.effects.effect.slide=function(t,n){var a,i=e(this),s=["position","top","bottom","left","right","width","height"],r=e.effects.setMode(i,t.mode||"show"),o="show"===r,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l,d={};e.effects.save(i,s),i.show(),a=t.distance||i["top"===c?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(i).css({overflow:"hidden"}),o&&i.css(c,u?isNaN(a)?"-"+a:-a:a),d[c]=(o?u?"+=":"-=":u?"-=":"+=")+a,i.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===r&&i.hide(),e.effects.restore(i,s),e.effects.removeWrapper(i),n()}})}}),define("components/modalMenu",["jquery"],function(e){"use strict";e("body").on("click",".js-modal-toggler",function(){var t=e(this),n=t.siblings(".js-modal-menu");n.toggle(),n.css({top:15,left:10})})}),define("lib/searchheader",["jquery","lodash","components/search/searchHelper","components/search/filtersHelper","components/search/findSimilarControls","page_config","i18n-config","Handlebars","app/constants/cookies","lib/cookie","lib/assetsStore","lib/window","lib/uiEvents","lib/filters","lib/utils","lib/member","lib/analytics","lib/autocomplete","lib/badges","app/actions/filterActions","app/actions/multiImageActions","app/actions/searchActions","app/actions/historyActions","app/client","app/constants/analytics","app/constants/searchFilters","app/constants/ui","app/constants/thumbnailBadges","app/utils/search","app/utils/observer","components/search/assetTypeDropdown","hbs!templates/search/recentSearches","lib/analytics/dunamis","app/utils/searchData","vendor/jquery/jquery.slides-3","vendor/jquery/jqueryui.slide","components/modalMenu","vendor/jquery/jquery.minicolors.min","lib/hbsBasicHelpers"],function(e,t,n,a,i,s,r,o,l,c,u,d,p,h,f,_,m,E,g,v,b,T,I,S,y,A,O,R,C,L,D,N,P,M){"use strict";function w(t,a){var i,r,o=a||he.USERTYPED,l={},c={},u=e(ne),d=u.val();if(!n.validateKeyword(d))return void t.preventDefault();isNaN(d)||9!==d.length||(o=he.CONTENT_ID),i={search_page:1,search_type:o},c[he.EVENT_PARAMS.STOCK_SEARCH_KEYWORD]=d,P.track(he.SEARCH_BEGIN,o,c,u),n.shouldSearchInLicenseHistory()?(n.performSearchInLicenseHistory(d),E.setAutocompletePanel(J,!1)):s.isUsingAjax?(r=E.setAutocompletePanel(J,!1),-1!==r.selectedIndex&&(i.acp=r.selectedIndex,i.aco=r.originalText),
n.renderFindSimilarControlsOnKeywordChange(d),n.togglePreviewThumbs(n.getSimilarContentId(),!0),n.performActionAndSearch(v.updateSearchFilters(l),!1,i,!0)):(J.find("input[name=load_type]").val("search"),J.find("input[name=search_type]").val(o),J.submit())}function x(){var t,a={filters:{}},i=e(ne).val();n.validateKeyword(i)&&(a[A.KEYWORD]=i,t=e.extend({},a),de.dispatch(v.updateSearchFilters(t)))}function k(e){var t=e.currentTarget.getAttribute("data-ingest-clicktype"),a=de.getState(),s=M.isOnlyVideoContentTypeFilterEnabled(a),r=C.isVisualSearchActive(),o={search_type:t};r&&s&&i.toggleVisualSearchTile(),n.clearFilters(o),P.track(he.SEARCH_BEGIN,t,null,z)}function F(){var e;(e=de.getState().view.recentSearches)&&de.dispatch(T.hideRecentSearches())}function U(t){var n=de.getState().view.recentSearches,a=C.getRecentSearches(),i=e(ne).val().length;t.stopPropagation(),0===i&&x(),a.length>0&&!n&&0===i&&de.dispatch(T.showRecentSearches())}function H(e){e.stopPropagation(),C.clearRecentSearches()}function j(e){return parseInt(e.attr("data-keyword-index"),10)}function V(e){var t=e.attr("data-action");return t||""}function Y(t){var n=e(ie),i="",r=se,o=C.getRecentSearches().length;switch(n.length&&(r=j(n)),t.keyCode){case oe:r+=1;break;case le:r-=1}(r<=se||r>o)&&(r=0),W(!0,r),n=e(ie),n.length&&(i=n[0].textContent.trim()),V(n)===re&&(i=""),s.isUsingAjax?a.updateKeyword(i):t.target.value=i}function G(){de.getState().view.recentSearches&&de.dispatch(T.hideRecentSearches())}function B(t){var n=e(ie),a=de.getState().view.recentSearches,i=e(t.target),r=null;if(a)switch(t.keyCode){case oe:case le:Y(t);break;case ce:V(n)===re?(H(t),t.preventDefault()):(r=he.RECENT_SEARCHES,G(t));break;case ue:G(t),E.queryAutocompleteApi(i);break;default:G(t)}if(t.keyCode===O.ENTER_KEY&&s.isUsingAjax)return e(".js-search-autocomplete-panel").find(".active").length>0&&(r=he.AUTO_SUGGEST),w(t,r),!1;me.debouncedKeyPress()}function q(t){return function(i){var r=he.RECENT_SEARCHES,o=i.target.innerText,l={is_recent_search:te,search_type:r},c={},u=e(ne);c[he.EVENT_PARAMS.STOCK_SEARCH_KEYWORD]=o,i.preventDefault(),de.dispatch(T.hideRecentSearches()),e(ne).val(o),P.track(he.SEARCH_BEGIN,r,c,u),n.shouldSearchInLicenseHistory()?n.performSearchInLicenseHistory(o):s.isUsingAjax?(a.updateKeyword(o),n.performSearch(!1,l)):(e(".js-is-recent-search").val(te),e(".js-search-type").val(r),t.submit())}}function W(t,n){var a=C.getRecentSearches();E.setAutocompletePanel(J,!1),e(ae).html(N({keywords:a,selected:n,show:t}))}var K,z=e("body"),Q=e(document.getElementById("filters-toggle")),Z=e(".js-search-profile-badge"),X=e(".js-search-collection-badge"),$=e("#search-results"),J=e(".js-search-form"),ee=e(".js-sell-nav"),te=1,ne=".js-search-text-input",ae=".js-search-recent-container",ie=".js-search-recent-item-selected",se=-1,re="clearAll",oe=40,le=38,ce=13,ue=32,de=S.getInstance(),pe=t.debounce(x,450),he=P.constants;!J[0]||s.isUsingAjax&&void 0!==s.isUsingAjax||J[0].addEventListener("submit",function(n){var a=he.USERTYPED,i=de.getState(),s=t.get(i,"view.recentSearches"),r=e(".js-search-autocomplete-panel").find(".active").length>0;s?a=he.RECENT_SEARCHES:r&&(a=he.AUTO_SUGGEST),w(n,a)}),e(".js-search-icon").click(function(t){return a.updateKeyword(e(ne).val()),w(t),!1}),$.on("click",".non-js-link",function(e){f.isPhone()?window.location.hash=e.currentTarget.name:e.preventDefault()}),z.on("keypress",".js-pagination-jump-field",function(t){if(t.keyCode===O.ENTER_KEY){var n=e(this),a=e("#pagination-total-page-count");parseInt(n.val())>parseInt(a.val())&&n.val(a.val())}}),Q.on("click",function(){var e=a.toggleShowFilterPanel(),t=e===O.FILTER_PANEL_OPEN?he.FILTER_VIEW:he.FILTER_HIDE;s.isStockPanelEnabled&&(t=e===O.FILTER_PANEL_OPEN?he.FILTER_VIEW_PANEL:he.FILTER_HIDE_PANEL),P.track(he.CLICK,t,null,z)}),z.on("click",".js-license-history-close",function(t){var a=c(l.LAST_SELECTED_ASSET_TYPE),i=e(ne),s=i.val(),r={keywords:s,assetType:a},o=n.getSearchUrlWithQueryParams(r);d.setLocation(o)}),z.on("click",".js-search-profile-close",function(e){s.isUsingAjax?d.setLocation(s.base_url+"/Search"):(J.attr("action",s.base_url+"/Search"),Z.hide(),J.find(".js-search-text-input").removeClass("profile-search-input"))}),z.on("click",".js-search-collection-close",function(e){var t=c(l.LAST_SELECTED_ASSET_TYPE),a=n.getSearchUrlForAssetType(t);s.isUsingAjax?d.setLocation(a):(J.attr("action",a),X.hide())}),p.on(p.ASSET_LICENSED,function(e){var t=e.transferData||[];e&&e.contentId&&g.badgeLicensedOrTransferred(e.contentId,{license_transfers:t,display_as_unlicensed:e.display_as_unlicensed})}),p.on(p.ASSET_LICENSE_REQUEST_PENDING,function(e){e&&e.contentId&&e.license_request_data&&g.renderThumbnailBadge(R.REQUESTED_BADGE,e.contentId,null,e.license_request_data)}),p.on(p.SEARCH_RESULTS_UPDATED,function(){s.thor_adobe_redirect&&e(".js-thor-adobe-redirect").empty(),s.suggest&&e(".js-suggest").empty()}),e(".js-hide-filters").on("click",function(){a.toggleShowFilterPanel(),Q.find("input").removeAttr("checked")}),s.isStockPanelEnabled&&e(window).on("portal:clearFilters",function(){var e={search_type:he.CLEAR_ALL_FILTERS};P.track(he.CLICK,he.CLEAR_ALL_FILTERS,null,z),P.track(he.SEARCH_BEGIN,he.CLEAR_ALL_FILTERS,null,z),n.clearFilters(e)}),z.on("click",".js-clear-filters",k),e(".js-thumbs-container").on("click",".js-thumb-badge-close",n.handleFindSimilarCloseClick),e(".js-thumbs-container").on("click",".js-inactive-thumb-badge-close",function(){de.getState().view.multiImage.inactive&&(de.dispatch(b.multiImageRemoveInactive()),n.togglePreviewThumbs(n.getSimilarContentId()))}).on("mouseenter",".js-show-tooltip-on-hover",function(){e(".js-inactive-tooltip").attr("data-is-visible",!0)}).on("mouseleave",".js-show-tooltip-on-hover",function(){e(".js-inactive-tooltip").attr("data-is-visible",!1)}),e(ne).on("keyup",B),K=e(".js-search-form"),p.on(p.BODY_CLICKED,F),z.on("mousedown",function(){p.trigger(p.BODY_CLICKED)}),e(ne).on("click",U),K.on("click",".js-search-recent-clear",H).on("click",".js-search-recent-item",q(K)),e(ae).on("mousedown",function(e){e.stopPropagation()}),L.observe(function(e){return e.view.recentSearches},function(e){W(e,se)}),D.init();var fe=function(t){var n=e(ne);n.val()!==t&&n.val(t)},_e=function(e,n){var a=t.get(e,"filters.k"),i=t.get(n,"filters.k");t.isEqual(a,i)||me.updateSearchKeyword(i)};L.listen(_e),ee.on("click",function(){P.track(he.CLICK,he.SELL,null,ee,!0)});var me={performKeywordSearch:w,hideRecentSearchesOnBodyClick:F,searchBarClick:U,recentClear:H,hideRecentSearchesOnTyping:G,recentClick:q,getIndexOfRecentSearchItem:j,getClearAllAction:V,selectNextRecentSearchEntry:Y,searchInputOnKeyUp:B,updateFiltersKeyword:x,updateSearchKeyword:fe,updateSearchKeywordObserverHandler:_e,debouncedKeyPress:pe};return me}),require(["jquery","page_config","app/constants/analytics","lib/member","lib/window","lib/modal-window","lib/analytics/promoBanner","app/stock-portal","lib/localStorage","app/constants/localStorage"],function(e,t,n,a,i,s,r,o){"use strict";e("body").on("click",".js-start-fmf",function(e){e.stopPropagation(),e.preventDefault();var l=this.dataset.contentId?this.dataset.contentId:null,c=this.dataset.productKey?this.dataset.productKey:"/Applications/StockSubSmallAnnual",u=this.dataset.startContext?this.dataset.startContext:null,d=this.dataset.assetType?this.dataset.assetType:null,p=this.dataset.lpregion?this.dataset.lpregion:null,h=!!this.dataset.qcStartSearch&&this.dataset.qcStartSearch,f=this.dataset.analyticsLabel?this.dataset.analyticsLabel:n.BLUE_BANNER_START_NOW;a&&a.getDefaultEntitlement()&&a.getDefaultEntitlement().is_team&&!a.isType2E()?s.showSwitchToPersonalMessage().then(function(){i.setLocation(t.base_url+"/Member/SwitchPersonal")}):"fmfPromoPage"!==u&&t.goToFmfPageOnBlueBannerClick?i.setLocation(t.base_url+"/Promo/FirstMonthFree"):o.startCheckout({productKey:c,contentId:l,extras:{options:{start_search:h},credit_pack_asset_type:d}}),r.sendBlueBannerAnalytics("firstmonthfreebanner",c,p,f)})}),define("lib/firstMonthFree",function(){}),define("migrationAssistant/constants",[],function(){"use strict";return{MAIN_CONTAINER:"type2e-migration-main-container",CONTENT_CONTAINER:"type2e-migration-assistant-container",CURTAIN:"type2e-migration-curtain",OVERVIEW:{TARGET_DROPDOWN:"type2e-migration-overview-target",CONFIRMATION_CHECKBOX:"type2e-migration-confirm-checkbox",CONFIRMATION_ALERT_MESSAGE:"type2e-migration-confirm-alert",DO_NOT_TRANSFER_BUTTON:"type2e-migration-overview-decline",NEXT_BUTTON:"type2e-migration-overview-next"},EXPLORE_STOCK_BUTTON:"type2e-migration-explore-stock",UNRETRYABLE_FAILURE:"unretryable_failure",DAYS_UNTIL_MIGRATION_COOKIE_EXPIRES:180}}),define("lib/notification",["jquery","lib/uiEvents","page_config","lib/cookie","lib/modal-window","lib/susi","lib/utils","lib/window","migrationAssistant/constants"],function(e,t,n,a,i,s,r,o,l){"use strict";function c(){f&&r.updateAttribute(f,"data-state","hidden"),a(n.MIGRATION_BANNER_DISMISSED,!0,{expires:l.DAYS_UNTIL_MIGRATION_COOKIE_EXPIRES})}function u(e,t){t||(t=d),e&&t(e.email)}function d(t){if(!t)throw new Error("Email must be set");window.document.getElementById(h).innerText=t,window.document.getElementById(p).dataset.state="shown",e(".js-manage-my-adobe-id").hide()}var p="js-header-notification",h="js-header-notification-email";if(n.shouldDisplayType2EMigrationBanner){var f=document.getElementById("migration-notification");r.updateAttribute(f,"data-state","shown")}return e(".js-migration-notification-dismiss-link").click(function(){c(),i.show("t2eMigrationLinkReminder",{})}),e(".js-migration-notification-get-started-btn").click(function(){c(),o.setLocation(n.base_url+"/migration")}),"interim"===a(n.SUSI.COOKIE_STOCK_ONLY_LOGGED_IN)&&s.ready.then(u),t.on(t.NOTIFICATION_SHOW,d),{filterEmail:u,showNotification:d,dismissMigrationBanner:c}}),define("lib/visualSearchDragDrop",["i18n","jquery","lodash","app/client","lib/ajax","page_config","i18n-config","lib/analytics","lib/analytics/dunamis","lib/contentDetails","Handlebars","app/actions/filterActions","app/actions/multiImageActions","app/constants/analytics","app/constants/searchFilters","app/constants/assetTypeFilters","components/search/searchHelper","components/search/assetTypeDropdown","app/utils/search","app/utils/searchData","lib/utils","components/search/findSimilarControls","app/stock-portal","app/constants/ui"],function(e,t,n,a,i,s,r,o,l,c,u,d,p,h,f,_,m,E,g,v,b,T,I,S){"use strict";function y(){var e=m.getVisualSearchModalData(),t={items:e.items,filters:e.filters,details:e.details,page:e.page};I.renderVisualSearchModal(t)}function A(e,a,i,r){if(e){var o,l=t(".js-search-form"),c={},u={},d=J.getState(),b=d.filters,T=v.isAestheticFilterSet(b),S=n.get(d.view,"multiImage.upload",{}),y=S&&S.id,A=a?m.getSelectedContentData(a):S,O=m.getCollectionId(),R=a?ee.VISUAL_SEARCH.DRAG:ee.VISUAL_SEARCH.BROWSE,C={};a?h.VISUAL_SEARCH_DRAG:h.VISUAL_SEARCH_BROWSE;if(s.isUsingAjax){if(u=m.getMultiImageMetadata(A),c=g.resetFindSimilarFilters(c),c[f.KEYWORD]="",c[f.SERIE_ID]="",c[f.MODEL_ID]="",o=n.get(A,"content_url")||n.get(u,"thumbnail",""),O&&(c[f.COLLECTION]=""),s.isStockPanelEnabled){if(C={imgUrl:o,imgThumbnailUrl:u?u.thumbnail_240:void 0,hideComposition:m.shouldHideFscComposition(u),cropPositionData:{},objLocations:[]},a)C.similarContentId=a;else if(C.imageToken=y,s.isObjectArrangementUploadEnabled){var L=r&&r.obj_locations?r.obj_locations:[];C.objLocations=L,C.isObjectArrangementUploadEnabled=!0}I.renderFindSimilarControlsPanel(C)}}else l.find("input[name=load_type]").val("visual"),t(".js-clear-before-visual-search").val("");e.forEach(function(e){var n=e.name,a=e.value,i=t("input[name="+n+"]");i.length||(i=t("<input />",{type:"hidden",name:V(n)}),l.append(i)),i.val(a),s.isUsingAjax&&(c[V(e.name)]=e.value)}),s.isUsingAjax&&!m.isInLicenseHistoryContext(window.location.pathname)?(i||m.shouldRemoveFSCTile()?(p.multiImageAdd(a,u,c)(J.dispatch,J.getState),m.isFSCIncompatible3DSet()?m.showIncompatible3DAssetAlert(f.ALERT_ACTION_SEARCH_IMAGES):m.isFSCIncompatibleTemplateSet()&&m.showIncompatibleTemplatesAssetAlert(f.ALERT_ACTION_SEARCH_IMAGES)):m.performActionAndSearch(p.multiImageAdd(a,u,c),!1,{search_page:1,search_type:R}),de?I.hideVisualSearchModal():x(0,0),m.getSimilarContentId()||B.attr("data-state","shown"),g.logSimilarAnalyticsDunamis(R)):(g.logSimilarAnalyticsDunamis(R),t(".js-search-type").val(R),s.isAudioWebSearchEnabled&&E.getValue()===_.AUDIO&&E.updateSearchFormAction(_.IMAGES),l.trigger("submit")),!s.is_mobile&&T&&m.showIncompatibleFiltersAlert()}}function O(e){var n,a=e.files,i=e.getData&&e.getData("text"),o=s.is_mobile;if(i){if(!(i.length>ue&&i.substring(0,ue)===ce))return void q.setVisualSearchErrorText(r.gettext("SEARCH::VISUALSEARCH::Could not process the dropped image. To use visual search please drop one of the search results or an image from your computer."));n=i.substring(ue),(n.toLowerCase().indexOf("http")>=0||n.length>15)&&(n="")}if(n&&m.idExistsInSimilarContent(n))return void q.setVisualSearchErrorText(r.gettext("SEARCH::VISUALSEARCH::You're already searching with that image."));if(K.attr("data-state","shown"),Q.attr("data-state","hidden"),n){if(q._isUnsupportedFileType(n))return void q.setVisualSearchErrorText(r.gettext("SEARCH::VISUALSEARCH::Unsupported File Type - please upload a .jpeg or .png."));var l=t(".js-search-text-input").val(),c=[{name:"similar_content_id",value:n},{name:"prevk",value:l},{name:"k",value:l}];o||c.push({name:"find_similar_by",value:"all"}),q.submitVisualSearch(c,n)}else a.length>0?q.downsampleAndFixOrientationImage(a[0],!0):q.setVisualSearchErrorText(r.gettext("SEARCH::VISUALSEARCH::We are unable to process the dropped image."))}function R(e){var t=new FormData;t.append("image",e),i.ajax({url:s.base_url+"/visualsearchsupport",timeout:12e4,type:"POST",data:t,dataType:"json",cache:!1,contentType:!1,processData:!1}).then(L).fail(function(e){k(r.gettext("SEARCH::VISUALSEARCH::There was a problem with your upload. Please try again."))})}function C(e){if(!e)return null;var n=t(".js-search-text-input").val(),a=[{name:"native_visual_search",value:e},{name:"k",value:n}];return s.isUsingAjax||(a.push(j(f.IMAGE,"1")),a.push(j(f.PHOTO,"1"))),a}function L(e){var t=e.native_visual_search,n=T.getFSCImageFromLocalStorage();n&&(n.native_visual_search=t,T.addFSCImageToLocalStorage(n),s.isMultiImageFSCEnabled&&T.addImageToFscGroupInLocalStorage(n));var a=C(t);q.submitVisualSearch(a,null,null,e)}function D(e){var t,n=e.split(",");t=n[0].indexOf("base64")>=0?atob(n[1]):decodeURI(n[1]);for(var a=n[0].split(":")[1].split(";")[0],i=new Uint8Array(t.length),s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return new Blob([i],{type:a})}function N(e){var t,n,a,i=new DataView(e),s=0,r=i.byteLength,o=2;if(i.getUint16(0,!1)!==ae)return-2;for(;o<r;)if(s=i.getUint16(o,!1),o+=2,s===ie){if(i.getUint32(o+=2,!1)!==se)return-1;for(t=i.getUint16(o+=6,!1)===re,o+=i.getUint32(o+4,t),n=i.getUint16(o,t),o+=2,a=0;a<n;a++)if(i.getUint16(o+12*a,t)===oe)return i.getUint16(o+12*a+8,t)}else{if((s&le)!==le)break;o+=i.getUint16(o,!1)}}function P(e){var t,n,a,i,s=e.split(",");for(t=s[0].indexOf("base64")>=0?atob(s[1]):decodeURI(s[1]),n=t.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=t.charCodeAt(i);return a.buffer}function M(a,i){var s=document.createElement("img"),o=new FileReader,l=-1;o.onload=function(o){s.onerror=function(e){k(r.gettext("SEARCH::VISUALSEARCH::Unsupported File Type - please upload a .jpeg or .png."))},s.onload=function(o){s.style.display="none",t(document.body).append(s);var c,d,h,f,_,m,E,g=s.naturalWidth,v=s.naturalHeight,b=0,I=0,S=0,y=0,A=0,O=[2,4,5,7],C=J.getState();if(Math.max(g,v)>te)throw k(e.sprintf(r.gettext("SEARCH::VISUALSEARCH::Please use an image which is less than %spx on its longest side."),u.helpers.number(te))),new Error("Image dropped is too large for visual search.");if(c=g/v,g>v?g>ne&&(b=ne,I=ne/c):v>ne&&(b=ne*c,I=ne),0===b&&0===I&&(b=g,I=v),b>0&&I>0){switch(d=document.createElement("canvas"),h=d.getContext("2d"),l){case 5:case 6:A=90,y=-1*I;break;case 3:case 4:A=180,S=-1*b,y=-1*I;break;case 7:case 8:A=270,S=-1*b}0===A||180===A?(d.width=b,d.height=I):(d.width=I,d.height=b),O.indexOf(l)>-1&&(h.translate(I,0),h.scale(-1,1)),A>0&&h.rotate(A*Math.PI/180),h.drawImage(s,S,y,b,I),f=d.toDataURL("image/jpeg"),m=n.get(C,"page.filter_asset_type",null),E=n.get(C,"filters.filters",{}),J.dispatch(p.multiImageUpload(f,E,m)),a=D(f)}i&&(_={native_visual_search:null,dataUri:f},T.addFSCImageToLocalStorage(_),R(a))},l=N(P(o.target.result)),s.src=o.target.result},o.readAsDataURL(a)}function w(){"hidden"===W.attr("data-state")&&(K.attr("data-state","hidden"),Q.attr("data-state","show"),z.text(""),W.attr("data-state","shown"),window.scrollTo(0,0),pe=document.activeElement,setTimeout(function(){Z.focus()},0))}function x(e,t){"shown"===W.attr("data-state")&&(K.attr("data-state","hidden"),Q.attr("data-state","hidden"),z.text(""),W.attr("data-state","hidden"),"number"==typeof e&&"number"==typeof t&&window.scrollTo(e,t))}function k(e){z.text(e),K.attr("data-state","hidden"),Q.attr("data-state","show")}function F(){de?y():w()}function U(e){var t=m.getSelectedContentData(e);return!(t&&t.is_similarity_search_allowed&&!t.is_3D&&!t.is_template)}function H(e){var t,a,i,s,r,o=T.getFSCImageFromLocalStorage(),l=n.get(e,"filters.native_visual_search","");o&&l&&(i=o.dataUri)&&o.native_visual_search&&l===o.native_visual_search&&(s=n.get(e,"page.filter_asset_type",null),r=n.get(e,"filters.filters",{}),J.dispatch(p.multiImageUpload(i,r,s)),a=q.dataURItoBlob(i),q.downsampleAndFixOrientationImage(a,!1),t=q.initializeVisualUploadData(l),q.submitVisualSearch(t,!1,!0))}function j(e,t){return{name:"filters\\[content_type\\:"+e+"\\]",value:t}}function V(e){return e?e.replace(/[\\]/g,""):e}function Y(e){"hidden"!==W.attr("data-state")&&(e.keyCode===S.ESC_KEY&&(W.attr("data-state","hidden"),pe.focus()),b.keyboardTabbingHandler(e,Z,X))}function G(){q={handleVisualSearchSupport:L,processDroppedFiles:O,submitVisualSearch:A,setVisualSearchErrorText:k,CONTENT_ID_MARKER:ce,dataURItoBlob:D,sendFileToRedPill:R,uploadSavedFSCImage:H,downsampleAndFixOrientationImage:M,initializeVisualUploadData:C,_isUnsupportedFileType:U,showVisualSearchModal:y,keyboardNavigationHandler:Y,focusedElementBeforeModalOpened:pe}}var B,q,W,K,z,Q,Z,X,$=function(){var e=document.createElement("div");return("draggable"in e||"ondragstart"in e&&"ondrop"in e)&&"FormData"in window&&"FileReader"in window}(),J=a.getInstance(),ee=l.constants,te=23e3,ne=1e3,ae=65496,ie=65505,se=1165519206,re=18761,oe=274,le=65280,ce="content_id:",ue=ce.length,de=n.get(s,"isVisualSearchEnabled"),pe=t(".visual-search-camera-icon");return t(document).ready(function(){G(),Z=document.querySelector(".js-visualsearch-alert-close"),X=document.getElementById("js-vsupload-link"),t(document).keydown(Y);var e=!1,n=0,a=0,i=!1,r=!1;B=t(".js-search-visual-badge"),W=t("#js-visual-search-popover"),K=t("#js-visual-search-in-progress"),z=t("#js-vs-error"),Q=t("#js-visual-search-drop-zone"),$&&(H(J.getState()),W.on("drop",function(t){e=!0,O(t.originalEvent.dataTransfer)}),t("#js-visual-search-popover-menu").on("click",function(e){e.stopPropagation(),e.preventDefault()}),t(window).on("portal:processDroppedFiles",function(e,t){O(t)}),t(window).on("portal:submitVisualSearch",function(e,t,n,a){A(t,n,a)}),t(document).on("dragstart","#search-results, .js-tab-enterprise-report, .js-library-detail-image",function(e){var i;i=e.target.attributes["data-content-id"]?e.target:e.target.parentElement,r=!0,n=window.scrollX||window.pageXOffset,a=window.scrollY||window.pageYOffset,t(i).attr("data-content-id")&&e.originalEvent.dataTransfer.setData("text",ce+t(i).attr("data-content-id"))}).on("dragend",function(t){e&&!i||de||x(n,a),i=!1,r=!1}),t(document).on("dragenter",function(e){F()}).on("dragover drop",function(e){e.stopPropagation(),e.preventDefault()}).on("click",function(e){s.isStockPanelEnabled&&!t(e.target).closest("#panel")&&(de||W.attr("data-state","hidden"))}).on("mouseleave",function(e){r&&(i=!0)}),t(window).on("portal:findSimilarNullStateBoxClicked",function(){F()}),t(".js-camera-icon").on("click",function(e){e.stopPropagation(),e.preventDefault(),F()}),t(".js-search-text-input").on("drop",function(e){e.stopPropagation(),e.preventDefault(),O(e.originalEvent.dataTransfer)})),t(".js-visualsearch-alert-close").on("click",function(e){e.stopPropagation(),e.preventDefault(),W.attr("data-state","hidden"),pe.focus()}).on("keydown",function(e){e.keyCode!==S.ENTER_KEY&&e.keyCode!==S.SPACE_KEY||(e.stopPropagation(),e.preventDefault(),setTimeout(function(){W.attr("data-state","hidden"),pe.focus()},0))}),t(".js-search-visual-close").on("click",function(){var e={};t(".js-clear-after-visual-search").val(""),B.attr("data-state","hidden"),s.isUsingAjax&&(e=g.resetFindSimilarFilters(e),m.performActionAndSearch(d.updateSearchFilters(e)),s.isStockPanelEnabled&&I.onlyClearFindSimilarControls())}),t(".js-vsupload-link").on("click",function(e){e.stopPropagation(),e.preventDefault(),t("#js-vsupload:hidden").trigger("click")}),t(".js-vsupload-link").on("keydown",function(e){e.keyCode!==S.ENTER_KEY&&e.keyCode!==S.SPACE_KEY||(e.stopPropagation(),e.preventDefault(),t("#js-vsupload:hidden").trigger("click"))}),t(".js-vsupload").on("change",function(e){e.stopPropagation(),e.preventDefault(),O(e.currentTarget)}).on("click",function(e){e.stopPropagation(),this.value=""})}),q}),define("lib/promoBanner",["page_config","lib/member","lib/window","lib/modal-window","lib/promoBannerManager","lib/analytics/promoBanner","app/constants/analytics","lib/analytics","app/stock-portal","lib/ajax"],function(e,t,n,a,i,s,r,o,l,c){"use strict";function u(e){var t=e.currentTarget.dataset,n=t.assetType,a=t.productKey,i=t.handler,l=e.currentTarget.href;if(E=t.qcStartSearch||!1,g={start_search:E,finding_method:o.determineFindingMethod(),selection_method:r.SELECTION_DIRECT},i)switch(e.stopPropagation(),e.preventDefault(),i){case"credit-pack":d(n,a);break;case"free-banner":f(a),s.sendBlueBannerAnalytics("freebanner",a,null,"blue-banner-buy-now");break;case"video-subscription":p(n,a);break;case"video-subscription-upgrade":h(l)}}function d(i,r){t&&t.isTeam()?a.showSwitchToPersonalMessage().then(function(){n.setLocation(e.base_url+"/Member/SwitchPersonal")}):l.startCheckout({productKey:r,extras:{options:{start_search:E},credit_pack_asset_type:i}}),s.sendBlueBannerAnalytics("creditbanner",r,null,"blue-banner-buy-now")}function p(e,t){l.startCheckout({productKey:t,extras:{options:{start_search:E},credit_pack_asset_type:e}}),s.sendBlueBannerAnalytics("videosubscriptionbanner",t,null,"blue-banner-buy-now")}function h(t){c.ajax({type:"GET",url:e.base_url+"/Ajax/Checkout/4/Country",data:{ind_universal_plan_upgrade:"true",iso2_code:"US"}}).then(function(){window.location.assign(t)}).fail(function(){a.showTechnicalDifficultiesError()})}function f(e){l.startCheckout({productKey:e,extras:{options:{start_search:E}}})}var _,m,E,g;if(_=document.querySelectorAll(".js-promo-banner-cta"))for(m=0;m<_.length;m++)_[m].addEventListener("click",u);i.updateUI()}),define("components/plansPage/analyticsPlansService",["app/constants/analytics","lib/analytics","lib/analytics/dunamis"],function(e,t,n){"use strict";return{setAnalyticsForBuyButton:function(e){var t={},a=n.constants,i=a.STOCK_PLANS_PAGE_BUY_BUTTON,s=a.STOCK_PLANS_PAGE;document.body.dataset.ingestSubcategory===a.STOCK_TEAMS_PAGE&&(i=a.STOCK_TEAMS_PAGE_BUY_BUTTON,s=document.body.dataset.ingestSubcategory),t[a.EVENT_WORKFLOW_PROPERTY]=a.STOCK_CHECKOUT,t[a.EVENT_SUBCATEGORY_PROPERTY]=s,t[a.PROPERTIES.CHECKOUT.SELECTED_PURCHASE_OPTION]=e,n.track(a.CLICK,i,t)}}}),require(["page_config","lib/member","lib/window","lib/modal-window","lib/utils","components/plansPage/analyticsPlansService","app/constants/analytics","lib/analytics","app/stock-portal"],function(e,t,n,a,i,s,r,o,l){"use strict";function c(e){e.stopPropagation(),e.preventDefault(),i.removeClass(document.querySelector(E),g),i.updateAttribute(document.querySelector(E),v,!1),i.updateAttribute(e.currentTarget,v,!0),i.addClass(e.currentTarget,g)}function u(e){var t=document.querySelector(E),n=e.currentTarget,a=document.getElementById(I);f(function(){return p(e,t)},n,a)}function d(e){var t=document.getElementById(b+e.currentTarget.dataset.productKey);f(function(){return p(e,e.currentTarget)},e.currentTarget,t)}function p(i,r){var o,c;return i.stopPropagation(),i.preventDefault(),r&&(c=r.dataset.productArrangementCode,t.isCheckoutEligible(c)?(i.target.innerHTML.trim(),o=r.dataset.productKey?r.dataset.productKey:c,l.startCheckout({productKey:o,paCode:c,extras:{options:{start_search:!0}}}),s.setAnalyticsForBuyButton(o)):a.showSwitchToPersonalMessage().then(function(){n.setLocation(e.base_url+"/Member/SwitchPersonal")})),null}function h(e,t,n){e&&t&&(i.updateAttribute(e,"data-is-hidden",n),i.updateAttribute(t,"data-is-hidden",!n))}function f(e,t,n){var a;h(t,n,!0),a=e(),a?a.then(function(){h(t,n,!1)}):h(t,n,!1)}var _=".js-plans-page-credit-packs .js-list-item",m=".js-plans-page-credit-packs .js-select-list-item-btn",E=_+'[data-active="true"]',g="active",v="data-active",b="plans-checkout-loading-",T=".js-plans-page-cta",I="cp-checkout-loading";!function(){i.bindElementsToListener(document.querySelectorAll(_),"click",c),i.addEventListener(document.querySelector(m),"click",u),i.bindElementsToListener(document.querySelectorAll(T),"click",d)}()}),define("lib/plansPageV3",function(){}),require(["jquery","page_config","lib/susi","lib/globalnav","lib/member","lib/modal-window","lib/hamburgerMenu","components/motMotModal","components/librariesDropdown","components/videoLandingPage","hbs!templates/motMotModal/partials/dpcUsersRetentionMessage","hbs!templates/motMotModal/partials/modalWithHeaderFooterAndButton","lib/analytics","app/utils/dunamis/dunamisBannedCountry","lib/utils","lib/keepAlive","app/observers/globalObservers","components/modalCantBuyTeams","quickerCheckout/adobestock/trackingPixels","app/init","app/stock-portal","lib/featureFlag","lib/autocomplete","lib/enterpriseAccessRequestBanner","lib/footer","lib/searchheader","lib/polyfill","lib/firstMonthFree","lib/notification","lib/visualSearchDragDrop","lib/promoBanner","lib/plansPageV3"],function(e,t,n,a,i,s,r,o,l,c,u,d,p,h,f,_,m,E,g,v,b){"use strict";function T(e){var n=t.x_request_id;return e.url&&-1!==e.url.toLowerCase().indexOf("/ajax/search")&&(n=n+"-"+Date.now()),n}function I(){R.removeEventListener("click",I),h.send("ok",!0)}function S(e){e&&"banned_country"===e.message_type&&(R=document.getElementById("modal-ok-button"),R.addEventListener("click",I),h.send("page-view",!1))}function y(){var e=f.getQueryParam(C);e&&A(e)}function A(e){i.isAdmin()?b.startCheckout({paCode:e,extras:{options:{start_search:!0}}}):i.isLoggedIn()?E.show({}):n.login(null,null,!0,{})}var O,R,C="start_checkout";e.ajaxPrefilter(function(e,n,a){a.setRequestHeader("X-Request-Id",T(e)),f.shouldAddCsrfToken(e)&&a.setRequestHeader(t.csrf_token.id,t.csrf_token.value)}),i.setStockProfile(t.member),n.configure(t.SUSI),a.initGlobalNav(),n.initPage(),_.scheduleProbe(),m.init(),function(){var e=window.newrelic;if(e){var n=i&&i.getGuid(),a=i&&i.getDefaultEntitlementGuid(),s=i&&i.getOmnitureMemberType(),r=t&&t.x_request_id;e.setCustomAttribute("member_guid",n),e.setCustomAttribute("entitlement_guid",a),e.setCustomAttribute("member_account_type",s),e.setCustomAttribute("x_request_id",r)}}(),t.isStorageTokenEnabled&&!i.isLoggedIn()&&i.clearCachedStorageAccessData(),f.getQueryParam(t.SUSI.QS_IMS_SIGNIN_ATTEMPT)?e.when(n.ready,n.onReady).always(y):y(),t.isIMSAuthCodeWorkflowEnabled||n.loadPageIMS(),t.flash_messages&&e.each(t.flash_messages,function(t,n){e.each(n,function(e,n){s.show(t,n),S(n)})}),t.DPC_USER_RETENTION_DATA&&(O={templateParams:{usingDefault:!1,width:"medium"},partial:u,additionalPartials:{modalWithHeaderFooterAndButton:d},partialProperties:t.DPC_USER_RETENTION_DATA},o.show("usingPartial",O)),t.hide_search_bar||t.static_navbar||function(){function n(){(void 0===window.scrollY?window.pageYOffset:window.scrollY)>o?(a.setAttribute("data-sticky","true"),i.setAttribute("data-is-hidden","false"),r.addClass("fixed"),s.setAttribute("data-is-hidden","false")):(a.setAttribute("data-sticky","false"),i.setAttribute("data-is-hidden","true"),r.removeClass("fixed"),t.isNavbarMarketplaceEnabled&&s.setAttribute("data-is-hidden","true"))}var a=document.getElementById("search-toolbar"),i=document.getElementById("search-toolbar-placeholder"),s=document.getElementById("adobe-stock-logo-container"),r=e(".js-slide-in"),o=48;window.addEventListener("scroll",n,!1)}(),r.init(),t.is_video_lp&&c.init(),g.fireTrackingPixelsForPageLoad(),e(document).ready(function(){v.initializeStockWebPortalListeners()}),e("body").on("click",".close-too-many-requests-alert",function(){e("#too-many-requests-alert").remove()}),e("body").on("click",".close-informative-maintenance-alert",function(){e("#informative-maintenance-alert").remove()})}),define("adobestock",function(){});